///////////////////////////////////////////////////////////////////////////////
//  Job options for Boole, for data produced by Gauss v24r3 or greater and   //
//  geometry lhcb-200601 (DC06)                                              //
///////////////////////////////////////////////////////////////////////////////
#pragma print off
#include "$BOOLEOPTS/Boole.opts"              // Generic options for all jobs
//---------------------------------------------------------------------------
// Uncomment one or more of following lines for optional behaviour
//--------------------------------------------------------------------------- 
//#include "$BOOLEOPTS/ExpertCheck.opts"     // Switch on expert check histos
//InitDataSeq.Members -= { "MergeEventAlg/SpilloverAlg" }; // Remove spillover

//---------------------------------------------------------------------------
// Set up DC06 geometry, conditions, magnetic field
//--------------------------------------------------------------------------- 
#pragma print on
#include "$DDDBROOT/options/DC06.opts"

// Do not use Geant deposited charge in DC06
MCITDepositCreator.DepChargeTool = "SiDepositedCharge";
MCTTDepositCreator.DepChargeTool = "SiDepositedCharge";

// By default, Boole uses G4 parameterisation for Muon background
// Uncomment next two lines to use old GCALOR parameterisation instead
//#include "$MUONBACKGROUNDROOT/options/MuonLowEnergy-GCALOR.opts"
//#include "$MUONBACKGROUNDROOT/options/MuonFlatSpillover-GCALOR.opts"

//---------------------------------------------------------------------------
// Number of events to process, optionally skipping some events
//---------------------------------------------------------------------------
ApplicationMgr.EvtMax = -1;

//EventSelector.FirstEvent = 330;      // Skip some events in main input file
//SpilloverSelector.FirstEvent = 497; // Skip corresponding spillover events

//---------------------------------------------------------------------------
// Input and output files
//---------------------------------------------------------------------------

HistogramPersistencySvc.OutputFile = "00001820_00000001_4.root"; // Monitoring histos

// File catalogs. First one is read-write, others are read only
FileCatalog.Catalogs = {
  "xmlcatalog_file:NewCatalog.xml"
  // ,"xmlcatalog_http://cattanem.home.cern.ch/cattanem/POOL/MyCatalog.xml"
};

//---------------------------------------------------------------------------
// Spillover input data files (minimum bias)
//---------------------------------------------------------------------------
SpilloverSelector.Input = { 
"DATAFILE='PFN:castor:/castor/cern.ch/grid/lhcb/production/DC06/phys-v2-lumi2/00001820/SIM/0000/00001820_00000001_2.sim' TYP='POOL_ROOTTREE' OPT='READ'",
"DATAFILE='PFN:castor:/castor/cern.ch/grid/lhcb/production/DC06/phys-v2-lumi2/00001820/SIM/0000/00001820_00000001_3.sim' TYP='POOL_ROOTTREE' OPT='READ'"
}; 

//---------------------------------------------------------------------------
// Main event input
//---------------------------------------------------------------------------
//--     Event Type = 11144103
//--     Configuration = DC06 - phys-v2-lumi2
//--     SIM 1 datasets produced by Gauss - v25r9
//--     Database version = v30r14
EventSelector.Input   = {
"DATAFILE='PFN:castor:/castor/cern.ch/grid/lhcb/production/DC06/phys-v2-lumi2/00001820/SIM/0000/00001820_00000001_1.sim' TYP='POOL_ROOTTREE' OPT='READ'"
};

//---------------------------------------------------------------------------
// Output file
//---------------------------------------------------------------------------
ApplicationMgr.OutStream += { "DigiWriter" }; // Comment to switch off output
//DigiWriter.RequireAlgs += { "L0Filter" }; // uncomment to write only L0Selected events
//#include "$STDOPTS/ExtendedDigi.opts"     // uncomment to add MCHits to .digi file
DigiWriter.Output = "DATAFILE='PFN:00001820_00000001_4.digi' TYP='POOL_ROOTTREE' OPT='REC'";

//---------------------------------------------------------------------------
// Uncomment next line to write ETC containing L0 result
//---------------------------------------------------------------------------
//ApplicationMgr.OutStream += { "Sequencer/SeqWriteTag" };
// ETC file defined as follows in $L0DUROOT/options/ETC.opts
//WR.Output = "Collection='EVTTAGS/TagCreator/1' ADDRESS='/Event' DATAFILE='L0ETC.root' TYP='POOL_ROOTTREE' OPT='RECREATE'";

//---------------------------------------------------------------------------
// Uncomment next two lines to enable second output stream emulating real Raw 
// Data (i.e. no MC truth). Uncomment also third line to write only L0Selected events  
//---------------------------------------------------------------------------
//#include "$BOOLEOPTS/RawWriter.opts"
//RawWriter.Output = "DATAFILE='PFN:00001820_00000001_4.raw' TYP='POOL_ROOTTREE' OPT='REC'";
//RawWriter.RequireAlgs += { "L0Filter" }; // uncomment to write only L0Selected events
