//////////////////////////////////////////////////////////////////////////////
/// Job options for Boole, for data produced by Gauss v15r4 or greater and ///
/// with XmlDDDB v22r0 or greater and geometry compatible with lhcb-200402 ///
///            and with default magnetic field (Field045)                  ///
//////////////////////////////////////////////////////////////////////////////
#pragma print off
InitDataSeq.Members += { "MergeEventAlg/SpilloverAlg" }; // Adds Spillover
#include "$BOOLEOPTS/Boole.opts"          // Generic options for all jobs
#include "$BOOLEOPTS/BooleMoniProd.opts"  // Default monitoring for production
ApplicationMgr.OutStream += { "DigiWriter" };  // Comment to switch off output

//---------------------------------------------------------------------------
// Geometry specific options
//--------------------------------------------------------------------------- 
#include "$STDAQROOT/options/stDAQ-v1.opts"
#pragma print on
DetectorDataSvc.DetDbLocation = "$XMLDDDBROOT/DDDB/lhcb-200402.xml";

//---------------------------------------------------------------------------
// Add here any job specific options, to over-ride previously defined options
//---------------------------------------------------------------------------

//---------------------------------------------------------------------------
// Number of events to process, optionally skipping some events
//---------------------------------------------------------------------------
ApplicationMgr.EvtMax = -1;

//EventSelector.FirstEvent = 7;      // Skip some events in main input file
//SpillOverSelector.FirstEvent = 10; // Skip corresponding spillover events

//---------------------------------------------------------------------------
// Input and output files. 
//---------------------------------------------------------------------------

HistogramPersistencySvc.OutputFile = "boole.hbook";  // Monitoring histos

// POOL file catalogs. First one is read-write, others are read only
PoolDbCacheSvc.Catalog = {
  "xmlcatalog_file:NewCatalog.xml"
 ,"xmlcatalog_http://cattanem.home.cern.ch/cattanem/POOL/MyCatalog.xml"
};

//---------------------------------------------------------------------------
// Spillover
//---------------------------------------------------------------------------
SpilloverSelector.Input = { 
 "DATAFILE='rfio:/castor/cern.ch/lhcb/DC04/00000542_00000001_2.sim' TYP='POOL_ROOT' OPT='READ'" 
,"DATAFILE='rfio:/castor/cern.ch/lhcb/DC04/00000542_00000001_3.sim' TYP='POOL_ROOT' OPT='READ'" 
}; // DC04: Gauss v15r8, XmlDDDB v22r2, evtype 30000000 (minbias)


//---------------------------------------------------------------------------
// Main event input
//---------------------------------------------------------------------------
EventSelector.Input = {
 "DATAFILE='rfio:/castor/cern.ch/lhcb/DC04/00000542_00000001_1.sim' TYP='POOL_ROOT' OPT='READ'" 
}; // DC04: Gauss v15r4, XmlDDDB v22r2, evttype 11144100 (Bd_JpsiKS,mm)

//---------------------------------------------------------------------------
// Output file
//---------------------------------------------------------------------------
DigiWriter.Output = "DATAFILE='PFN:BooleTest.digi' TYP='POOL_ROOTTREE' OPT='REC'";
