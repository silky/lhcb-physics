#printOptions 
// $Id: GaussReadJob.opts,v 1.2 2005-06-10 10:53:19 asarti Exp $ 

/** @file 
 * 
 *  Example options to read sim file produced by Gauss.
 *  This file defines, sequences and configures the algorithms to be executed
 *
 */

#include "$GAUSSOPTS/Common.opts"   // Necessary for any Gauss executable

//---------------------------------------------------------------------------
// Phases to be executed: initialization + monitor
//---------------------------------------------------------------------------
ApplicationMgr.TopAlg  = { "LbAppInit/Gauss",
                           "GaudiSequencer/Monitor" 
	}; 

//---------------------------------------------------------------------------
// Monitor phase: as in production + user monitor
//                two separate phase for Generator and Simulation
//                can be commented separately
//---------------------------------------------------------------------------
Monitor.Members       += { "GaudiSequencer/GenMonitor" };
Monitor.Members       += { "GaudiSequencer/SimMonitor" };     
Monitor.Members       += { "GaudiSequencer/UserMonitor" };
#include "$MUONMONISIMROOT/options/GaussReadMonitor.opts"
Monitor.MeasureTime = true;

// Algorithm in User monitor
UserMonitor.Members       += { "GiGaGetEventAlg",
                               "GiGaGetHitsAlg"
                             };
// The following are set explicitely since not in standard sim file
GiGaGetHitsAlg.RichOpticalPhotons = "";
GiGaGetHitsAlg.RichSegments = "";
GiGaGetHitsAlg.RichTracks = "";

//---------------------------------------------------------------------------
// Must read events (overwrite property of no events input set for 
// "normal" Gauss jobs)
//---------------------------------------------------------------------------
ApplicationMgr.EvtSel = "";
EventDataSvc.RootCLID = 1;

//---------------------------------------------------------------------------
// Add here any job specific options, to over-ride previously defined options
//---------------------------------------------------------------------------
//MessageSvc.OutputLevel    = 3;
MCTruthFullMonitor.OutputLevel   = 2;
GeneratorFullMonitor.OutputLevel = 2;

//---------------------------------------------------------------------------
// Number of events to read
ApplicationMgr.EvtMax      = 1000;

//---------------------------------------------------------------------------
// Input file 
//---------------------------------------------------------------------------
EventSelector.Input   = {
  "DATAFILE='PFN:castor:/castor/cern.ch/user/g/gcorti/Gauss/v19r4/30000000.1000ev.mu-shift.sim' TYP='POOL_ROOTTREE' OPT='READ'"
};

//---------------------------------------------------------------------------
// Output file. 
//---------------------------------------------------------------------------
HistogramPersistencySvc.OutputFile = "/afs/cern.ch/user/a/asarti/scratch0/GaussReadHistos2.root";
ApplicationMgr.ExtSvc += { "NTupleSvc" };
NTupleSvc.Output      += { "FILE1 DATAFILE='/afs/cern.ch/user/a/asarti/scratch0/GaussHitReadMoni.root' TYP='ROOT' OPT='NEW'" } ;

MuHitMoni.DetailedMonitor = true;
MuHitMoni.fullDetail = true;

