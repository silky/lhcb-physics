!-----------------------------------------------------------------------------
! Package     : FT/FTDigitisation
! Responsible : Eric Cogneras
! Purpose     : Digitize the FT hits
!-----------------------------------------------------------------------------

! 2013-04-29 - Eric Cogneras
 - Plot of the number of cluster per SiPM, needed by electronics
 - Debugging information encapsulation

! 2013-04-10 - Eric Cogneras
 - cluster monitoring
 - Change of DDDB version numbering from O. Gruenberg propagated to joboption

! 2013-04-05 - Eric Cogneras
 -  Add monitoring plots and improve plotting python script

! 2013-03-27 - Eric Cogneras
 - Bug fix : double declaration of variable reported by gcc47

!========================= FTDigitisation v1r3 2013-03-25 =========================
! 2013-03-13 - Eric Cogneras
 - Fix a typo in plot2D call

! 2013-02-23 - Eric Cogneras
 - Assessement of the ADC gain (ADC/photoelectron) and gain (photoelectron/cluster)
 - Remove Monitor classes, with migration of plotting to Creator classes
 - code cleaning

! 2013-02-20 - Eric Cogneras
 - MCHits map from MCFTDigit used to compute the fraction of hit lost in clusterisation 
 - typo correction

!========================= FTDigitisation v1r2 2013-02-15 =========================
! 2013-02-05 - Olivier Callot
 - Set the gain to 25 photoelectrons near SIPM, i.e. before attenuation.

! 2013-01-28 - Olivier Callot
 - Add a fluctuation to the gain, to avoid a comb structure in the ADC values.

! 2013-01-25 - Olivier Callot
 - Set the default pe/MeV to 86, and teh gain to 2 cx/p.e, add adc Noise (.5 cx)
 - Eric Cogneras added plots to monitor the signals.

!========================= FTDigitisation v1r1 2012-12-12 =========================
! 2012-12-11 - Marco Clemencic
 - Added CMake configuration file.

! 2012-12-11 - Olivier Callot
 - Better description of the attenuation: List of length by step of 10 cm along the wire
   for the irradiated zone.
 - Corrected the reclected component, proper attenuation now.

! 2012-12-07 - Olivier Callot
 - Multi-parameter attenuation along the fibre in MCFTDepositCreator
   * Short and Long attenuation length, with their fraction.
   * Zone affected by radiation: Losange defined by xmax and ymax
   * Attenuation length at centre of this zone
   * Refelxion coefficient of the mirror
   * Cut of in reflexion due to time delay, smoothly between y min and max.
   The map of attenuation in the fibre is computed at initialization, and then
   used by interpolation for each deposit

 - Manual implementation of the poisson generation of number of photo electrons,
   to avoid re-initializing the generator for each deposit. Factor ~10 in speed.
   Use a gaussian distribution for average > 50.


!========================= FTDigitisation v1r0 2012-10-03 =========================
! 2012-08-23 - Olivier Callot
 - Change the sorting function for MCFTDigit. No longer need for the functor class...

! 2012-07-30 - Olivier Callot
 - From Eric's version, I cleaned-up a bit the code.
 - Implement proper computation of number of photo-electrons
