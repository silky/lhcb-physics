#============================================================================
# Created    : 2008-03-06
# Maintainer : Patrick ROBBE, Gloria CORTI
#============================================================================
package GENSER
version v3r4

# Structure, i.e. directories to process. 
#============================================================================
branches doc cmt src

# Used packages
#============================================================================
use LCG_Settings v*
use GaudiPolicy  v*

include_path none

#-- Pythia 6
#============================================================================
macro pythia6_native_version "411.2"
use pythia6  v* LCG_GeneratorsInterfaces
macro_remove pythia6_linkopts " -lpythia6_pdfdummy " \
                        WIN32 " pythia6_pdfdummy.lib "


#-- Photos
#============================================================================
macro photos_native_version "215.2"
use photos v* LCG_GeneratorsInterfaces

#-- LHAPDF
#============================================================================
macro lhapdf_native_version "5.3.0"
use lhapdf v* LCG_GeneratorsInterfaces
set LHAPATH $(LCG_external)/MCGenerators/lhapdf/$(lhapdf_native_version)/share/PDFsets

#-- Herwig and Jimmy
#============================================================================
macro herwig_native_version "6.510.2"
macro jimmy_native_version "4.31.2"

#-- Hijing
#============================================================================
macro hijing_native_version "1.383bs.2"

#-- AlpGen (until interface package exist in LCG)
#============================================================================
macro alpgen_native_version "2.1.2"
macro alpgen_path  $(LCG_external)/MCGenerators/alpgen/$(alpgen_native_version)
macro alpgen_home  $(alpgen_path)/$(LCG_system)
macro alpgen_linkopts "-L$(alpgen_home)/lib/archive \
                        -lalpgen "
macro alpsho_linkopts "-L$(alpgen_home)/lib \
                        -lalpsho " 
macro alpgen_name "alpgen"


#-- Pythia 8
#============================================================================
macro pythia8_native_version "095.1"
macro_append pythia8_linkopts " -lhepmcinterface "


#-- Redefine symbols of MCGenerators libraries
#============================================================================
library      pythia6forgauss   pythia6/*.F 

apply_pattern linker_library library=pythia6forgauss
apply_pattern linker_stamps  library=pythia6forgauss
macro_append pythia6forgauss_shlibflags " -lnsl -lcrypt -ldl -lg2c"
include_dirs $(GENSERROOT)/src/pythia6

private
macro_remove libraryshr_linkopts "-Wl,--no-undefined"

public
set LD_PRELOAD $(GENSERDir)/libpythia6forgauss.so

#-- linkopts
#============================================================================
macro GENSER_linkopts "-lnsl -lcrypt -ldl -lg2c" \
                WIN32 "/LIBPATH:$(DFDir)\LIB DFORDLL.LIB DFPORT.LIB"

macro_prepend pythia6_linkopts " -Wl,--no-as-needed " \
              WIN32 ""
macro_append pythia6_linkopts " -Wl,--as-needed " \
             WIN32 ""
