#============================================================================
# $Id: requirements,v 1.118 2010-04-21 18:59:14 graven Exp $
# Created    : 03/06/2005 by P. Koppenburg
# Maintainer : G. Raven
#============================================================================

#============================================================================
package Moore
version v9r1

branches doc cmt options python

# Packages needed to compile and link the application
use GaudiConf          v*                   -no_auto_imports
use GaudiKernel        v*

# Packages needed to resolve external dependencies at run time
use Python              v*      LCG_Interfaces -no_auto_imports
use HepMC               v*      LCG_Interfaces -no_auto_imports

# Databases
use DDDB                v*      Det         -no_auto_imports
use ParamFiles          v8r*                -no_auto_imports
use FieldMap            v5r*                -no_auto_imports
use HltTCK              v1r*    TCK         -no_auto_imports
use L0TCK               v*      TCK         -no_auto_imports
use AppConfig           v3r*                -no_auto_imports

#### patches

use CaloReco            v5r4p1  Calo
use Magnet              v6r0    Det
use LumiEvent           v2r6    Event ## needs HltLuminosity to be recompiled!
use HltDAQ              v1r7    Hlt
use HltLuminosity       v2r16   Hlt
use LoKiCore            v9r13   Phys
use LoKiFitters         v2r4p2  Phys
use LoKiNumbers         v8r6    Phys
use PatAlgorithms       v3r30   Tf
use PatVelo             v3r20p1 Tf
use PatPV               v3r15   Tr
use TrackTools          v3r29   Tr
use VeloDAQ             v4r14   Velo


# The rest are needed only to set up environment variables for job options
# and to give a cmt broadcast dependency for user checked out component packages

# From GAUDI project
use GaudiSvc            v*                  -no_auto_imports
use GaudiPoolDb         v*                  -no_auto_imports
use GaudiPython         v*                  -no_auto_imports

# From LHCbSys
use L0Interfaces        v*    L0            -no_auto_imports

#-- Lbcom packages 
use LbcomSys            v*                  -no_auto_imports

#-- Rec packages 
use RecSys              v*                  -no_auto_imports

#-- HLT packages 
use HltSys              v*                  -no_auto_imports

#-- Phys packages 
use PhysSys             v*                  -no_auto_imports

#-- Online ??
use OnlineSys           v*                  -no_auto_imports

#============================================================================
set CORAL_SQLITE_TEMP_STORE_MEMORY yes
#============================================================================
apply_pattern application_path
apply_pattern install_python_modules
apply_pattern GaudiApp

# define aliases
alias Moore gaudirun.py
private

# create files needed by online setup -- by default we use 
# the SetupMoore file generated by installing the software,
# but if ONLINE_MOORE is set we overrule this...
#tag ONLINE_OVERRULE_MOORE_SETUP
macro Create_RunMooreOnline_output  "../job/runMooreOnline_EFF.sh"
macro Create_RunMooreOnline_command "python ../scripts/CreateRunMooreOnline_EFF.py $(Create_RunMooreOnline_output)" \
        ONLINE_OVERRULE_MOORE_SETUP "python ../scripts/CreateRunMooreOnline_EFF.py $(Create_RunMooreOnline_output) foobar" 
apply_pattern CallCommand  target=Create_RunMooreOnline

# copy the TCK manifest for the _current_ release to the install area...
macro Install_TCK_Manifest_output  "$(CMTINSTALLAREA)/TCK/manifest"
macro Install_TCK_Manifest_command "python ../scripts/install_TCK_manifest.py $(HLTTCKROOT)/manifest/MOORE_$(version) $(Install_TCK_Manifest_output)"
apply_pattern CallCommand  target=Install_TCK_Manifest

macro_remove cmt_actions_constituents 'runMakeOptions' 
macro_remove cmt_actions_constituents 'WriteOptions'


apply_pattern QMTest
end_private
