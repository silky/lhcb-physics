#============================================================================
# $Id: requirements,v 1.57 2009-06-12 13:16:38 graven Exp $
# Created    : 03/06/2005 by P. Koppenburg
# Maintainer : G. Raven
#============================================================================

#============================================================================
package Moore
version v7r1

branches doc cmt options python

#============================================================================
# Set the default path for Moore options.
set MOOREOPTS ${MOOREROOT}/options


# Packages needed to compile and link the application
use GaudiConf          v*                   -no_auto_imports
use GaudiKernel        v*

# Packages needed to resolve external dependencies at run time
use Python             v*    LCG_Interfaces -no_auto_imports
use HepMC              v*    LCG_Interfaces -no_auto_imports

# Databases
use DDDB               v1r*  Det            -no_auto_imports
use ParamFiles         v8r*                 -no_auto_imports
use FieldMap           v5r*                 -no_auto_imports
use HltTCK                  v1r1    TCK
#use HltTCK             v1r*  TCK            -no_auto_imports

# The rest are needed only to set up environment variables for job options
# and to give a cmt broadcast dependency for user checked out component packages

# From GAUDI project
use GaudiSvc           v*                   -no_auto_imports
use GaudiPoolDb        v*                   -no_auto_imports
use GaudiPython        v*                   -no_auto_imports

# From LHCbSys
use LHCbAlgs           v*    Kernel         -no_auto_imports
use L0Interfaces       v*    L0             -no_auto_imports

#-- Lbcom packages 
use LbcomSys            v*        -no_auto_imports

#-- Rec packages 
use RecSys              v*         -no_auto_imports

#-- HLT packages 
### Temporarily here...
use  TCKData                v2r0    Hlt
use HltConf                 v3r1    Hlt
use HltCommon               v5r7    Hlt
use TCKUtils                v1r0p1    Hlt
use HltSys		v*	     -no_auto_imports

#-- Phys packages 
use PhysSys		v*	     -no_auto_imports

#-- Online ??
use GaudiOnline		v2r29        Online
use OnlineSys           v*           -no_auto_imports

#============================================================================
set CORAL_SQLITE_TEMP_STORE_MEMORY yes
#============================================================================


apply_pattern application_path
apply_pattern install_python_modules

# define aliases
alias Moore gaudirun.py

#

# copy the TCK manifest for the _current_ release to the install area...
#macro Install_TCK_Manifest_output  "$(CMTINSTALLAREA)/TCK/manifest"
#macro Install_TCK_Manifest_command "python ../scripts/InstallTCKManifest.py $(Install_TCK_Manifest_output)" \
#apply_pattern CallCommand  target=Install_TCK_manifest

# copy the TCK manifest for the _current_ release to the install area...
make_fragment install_TCK_manifest -header=install_TCK_manifest_header
document install_TCK_manifest manifest MANIFEST_VERSION=${MOOREVERSION}

# create files needed by online setup -- by default we use 
# the SetupMoore file generated by installing the software,
# but if ONLINE_MOORE is set we overrule this...
#tag ONLINE_OVERRULE_MOORE_SETUP
macro Create_RunMooreOnline_output  "../job/runMooreOnline_EFF.sh"
macro Create_RunMooreOnline_command "python ../scripts/CreateRunMooreOnline_EFF.py $(Create_RunMooreOnline_output)" \
        ONLINE_OVERRULE_MOORE_SETUP "python ../scripts/CreateRunMooreOnline_EFF.py $(Create_RunMooreOnline_output) foobar" 

apply_pattern CallCommand  target=Create_RunMooreOnline

private
  apply_pattern QMTest
end_private
