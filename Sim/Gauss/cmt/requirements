package Gauss
version v30r1

#=========================================================================
#-- Structure
branches src doc options cmt job

#-- tags: Vis, GDML, Herwig, Hijing, BcVegPy, HidValley

#=========================================================================
#-- Databases
use XmlDDDB             v30r14  Det   -no_auto_imports
use XmlConditions       v2r4    Det   -no_auto_imports
use FieldMap            v4r7          -no_auto_imports
use DecFiles            v13r3   Gen   -no_auto_imports
use ParamFiles          v5r0          -no_auto_imports
use Geant4Files		v71r0	      -no_auto_imports

#========================================================================

#-- Optional Hijing
macro LbHijing_use "" Linux&Hijing "LbHijing v2r0 Gen"
use $(LbHijing_use)

#-- Optional Herwig
macro LbHerwig_use "" Linux&Herwig "LbHerwig v4r0 Gen"
use $(LbHerwig_use)

#-- Optional BcVegPy
macro LbBcVegPy_use "" Linux&BcVegPy "LbBcVegPy v2r0 Gen"
use $(LbBcVegPy_use)

#-- Optional Hidden Valley
macro LbHidValley_use "" Linux&HidValley "LbHidValley v1r1 Gen"
use $(LbHidValley_use)

#-- Generator
use ParticleGuns         v4r0    Gen
use LbPythia             v5r0    Gen
use Generators           v7r0    Gen

#-- Simulation
use GiGa                 v19r0   Sim
use GiGaCnv              v18r0   Sim
use GaussTools           v13r0   Sim
use GaussAlgs		 v3r0    Sim
use GaussKine            v2r0    Sim
use GaussPhysics         v4r0    Sim
use GaussTracker         v6r0    Sim
use GaussRICH            v7r0    Sim
use GaussCalo            v9r0    Sim

#-- Optional visualisation and UI
macro GiGaVisUI_use "" Linux&Vis "GiGaVisUI v4r0 Sim"
use $(GiGaVisUI_use)

#-- Optional GDML
macro GDMLG4Writer_use "" Linux&GDML "GDMLG4Writer v2r0 Sim"
use $(GDMLG4Writer_use)

#-- Monitoring
use GaussMonitor        v5r0    Sim
use CaloMoniSim         v4r0    Calo
#use VeloGauss           v2r0    Velo
use MuonMoniSim         v3r0    Muon

#=========================================================================
#-- LHCb
use GaudiConf           v*     
use LHCbAlgs            v*    Kernel
use Magnet              v*    Det
use DetDescSvc          v*    Det
use VeloDet             v*    Det
use STDet               v*    Det
use OTDet               v*    Det
use MuonDet             v*    Det
use PackedEvent         v*    Event

#-- GAUDI framework
use GaudiAlg            v*
use GaudiAud            v*
use GaudiSvc            v*

#-- Event persistency
use GaudiPoolDb         v*
use RELAX               v*    LCG_Interfaces  

#-- Histogram persistency 
#use HbookCnv            v*
use RootHistCnv         v*


#========================================================================
#== Necessary enviroment variables
#-- Set the default path for Gauss options
set  GAUSSOPTS "${GAUSSROOT}/options"

#-- Set behaviour of inelastic scattering
set AlwaysKillLeadingHadron 1

#-- Set NeutronCrossSections file for low-energy Neutron background
set NeutronHPCrossSections $(GEANT4FILESROOT)/data/G4NDL

#========================================================================

#-- Build Main Program 

application Gauss "GaussMain.cpp"

application GaussHijing "GaussMain.cpp"
application GaussHerwig "GaussMain.cpp"
application GaussBcVegPy "GaussMain.cpp"
application GaussHidValley "GaussMain.cpp"

macro_remove constituents "GaussHijing" Linux&Hijing "Gauss"
macro_remove constituents "GaussHerwig" Linux&Herwig "Gauss"
macro_remove constituents "GaussBcVegPy" Linux&BcVegPy "Gauss"
macro_remove constituents "GaussHidValley" Linux&HidValley "Gauss"
#========================================================================
#-- Set macros
apply_pattern application_path 
macro Gauss_linkopts  "$(application_linkopts)"
macro_append Gauss_linkopts " -Wl,-Map,Linux.map " \
             Linux&Hijing   " -Wl,-Map,LinuxHijing.map "\
             Linux&Herwig   " -Wl,-Map,LinuxHerwig.map "\
             Linux&BcVegPy  " -Wl,-Map,LinuxBcVegPy.map "\
             Linux&HidValley " -Wl,-Map,LinuxHidValley.map "\
             WIN32          ""

#-- Make just executable "visible" 
path_remove    PATH  "/Gauss/"
path_append    PATH  "${GAUSSROOT}/${BINDIR}"

#-- For visualization make appropriate engine visible (DAWN)
path_remove	PATH  "" Linux&Vis "/DAWN/"
path_append	PATH  "" Linux&Vis "${OSC_release_area}/DAWN/bin/Linux"

#========================================================================
#-- Set usefull alias : for tests only - use vXXXXXX.opts for geometry
#                       dependent options
alias gauss " ${GAUSSROOT}/${BINDIR}/Gauss.exe ${GAUSSOPTS}/Gauss.opts "
alias gaussvis " ${GAUSSROOT}/${BINDIR}/Gauss.exe ${GAUSSOPTS}/GaussVis.opts "
alias gausshijing " ${GAUSSROOT}/${BINDIR}/GaussHijing.exe ${GAUSSOPTS}/Gauss.opts "
alias gaussherwig " ${GAUSSROOT}/${BINDIR}/GaussHerwig.exe ${GAUSSOPTS}/Gauss.opts "
alias gaussbcvegy " ${GAUSSROOT}/${BINDIR}/GaussBcVeqPy.exe ${GAUSSOPTS}/Gauss.opts "
alias gausshidvalley " ${GAUSSROOT}/${BINDIR}/GaussHidValley.exe ${GAUSSOPTS}/Gauss.opts "
