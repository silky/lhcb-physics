#============================================================================
# Created    : 2006-07-21
# Maintainer : Gloria Corti, Florence Ranjard
#============================================================================
package Gauss
version v36r1

#============================================================================
#-- Structure
branches src doc options cmt job python

#-- tags: Vis, GDML

#============================================================================

#-- Databases
use DDDB               v1r*   Det            -no_auto_imports
use ParamFiles         v7r3                  -no_auto_imports
use FieldMap           v5r*                  -no_auto_imports
use DecFiles           v15r*  Gen            -no_auto_imports
use Geant4Files	       v91r0	             -no_auto_imports
use MIBData            v2r0                  -no_auto_imports
use MCatNLOData        v1r1                  -no_auto_imports
use XmlVis             v*     Vis            -no_auto_imports

#===========================================================================

# Packages needed to compile and link the application
use GaudiConf          v*                    -no_auto_imports
use GaudiKernel        v*
 
# Packages needed to resolve external dependencies at run time
use Python             v*     LCG_Interfaces -no_auto_imports
use HepMC              v*     LCG_Interfaces -no_auto_imports
 
# From GAUDI project
use GaudiSvc           v*                    -no_auto_imports
use GaudiAud           v*                    -no_auto_imports
use GaudiPoolDb        v*                    -no_auto_imports
use GaudiPython        v*                    
use RootHistCnv        v*                    -no_auto_imports
 
# From LHCB project
use KernelSys          v*     Kernel         -no_auto_imports
use DetSys             v*     Det            -no_auto_imports
use LHCbAlgs           v*     Kernel         -no_auto_imports
use SimComponents      v*     Sim            -no_auto_imports
 
#===========================================================================

#== From GAUSS project =====================================================

#-- Generator
use ParticleGuns       v*     Gen            -no_auto_imports 
use LbMIB              v*     Gen            -no_auto_imports
use LbPythia           v*     Gen            -no_auto_imports

#-- Not built on Windows
macro LbHerwig_use    "LbHerwig     v*  Gen  -no_auto_imports"  WIN32 ""
macro LbBcVegPy_use   "LbBcVegPy    v*  Gen  -no_auto_imports"  WIN32 ""
macro LbHidValley_use "LbHidValley  v*  Gen  -no_auto_imports"  WIN32 ""
macro LbAlpGen_use    "LbAlpGen     v*  Gen  -no_auto_imports"  WIN32 ""
macro LbHijing_use    "LbHijing     v*  Gen  -no_auto_imports"  WIN32 ""
macro LbPythia8_use   "LbPythia8    v*  Gen  -no_auto_imports"  WIN32 ""
use ${LbHerwig_use}
#use ${LbBcVegPy_use}                   # TEMPORARLY OFF
#use ${LbHidValley_use}                 # TEMPORARLY OFF
#use ${LbAlpGen_use}                    # TEMPORARLY OFF
use ${LbHijing_use}
use ${LbPythia8_use}


#-- Simulation
use GiGaCnv              v*    Sim  -no_auto_imports
use GaussTools           v*    Sim  -no_auto_imports
use GaussAlgs		 v*    Sim  -no_auto_imports
use GaussKine            v*    Sim  -no_auto_imports
use GaussPhysics         v*    Sim  -no_auto_imports
use GaussTracker         v*    Sim  -no_auto_imports
use GaussRICH            v*    Sim  -no_auto_imports
use GaussCalo            v*    Sim  -no_auto_imports

#-- Monitoring
use GaussMonitor         v*    Sim   -no_auto_imports
use CaloMoniSim          v*    Calo  -no_auto_imports
use VeloGauss            v*    Velo  -no_auto_imports
use MuonMoniSim          v*    Muon  -no_auto_imports
use BcmMoniSim           v*    Bcm   -no_auto_imports

#-- Optional visualisation and UI
macro GiGaVisUI_use "" Linux&Vis "GiGaVisUI v* Sim"
use $(GiGaVisUI_use)

#-- Optional GDML
macro GDMLG4Writer_use "" Linux&GDML "GDMLG4Writer v* Sim"
use $(GDMLG4Writer_use)

#===========================================================================
#== Necessary enviroment variables
#-- Set the default path for Gauss options
set  GAUSSOPTS "${GAUSSROOT}/options"

#-- Set behaviour of inelastic scattering
set AlwaysKillLeadingHadron 1

#===========================================================================
#-- Build Main Program 

application Gauss $(GAUDICONFROOT)/src/GaudiMain.cpp

#===========================================================================
#-- Set macros
apply_pattern application_path 
macro Gauss_linkopts  "$(application_linkopts)"
macro_append Gauss_linkopts " -Wl,-Map,Linux.map " \
             WIN32          " /STACK:4000000"

#-- For visualization make appropriate engine visible (dawn and david)
path_remove    PATH  "" Linux&Vis "/dawn/"
path_append    PATH  "" Linux&Vis "$(DAWN_HOME)/$(LCG_system)/bin"
path_remove    PATH  "" Linux&Vis "/david/"
path_append    PATH  "" Linux&Vis "$(DAVID_HOME)/$(LCG_system)/bin"

#===========================================================================
apply_pattern install_python_modules
apply_pattern GaudiApp

