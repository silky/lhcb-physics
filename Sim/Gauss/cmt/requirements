package Gauss
version v20r0

#=========================================================================
#-- Structure
branches src doc options cmt job

#-- tags: AcerMC, Vis

#=========================================================================
#-- Databases
use XmlDDDB             v26r0   Det   -no_auto_imports
use FieldMap            v4r5          -no_auto_imports
use DecFiles            v8r0    Gen   -no_auto_imports
use ParamFiles          v3r12         -no_auto_imports
use Geant4Files		v52r0	      -no_auto_imports

#========================================================================
#-- Generator
use Generators          v1r1    Gen
use LbPythia            v1r1    Gen
#   Optional AcerMC
macro LbAcerMC_use "" Linux&AcerMC "LbAcerMC v1r1 Gen"
use $(LbAcerMC_use)

#-- Simulation
use GiGaCnv             v15r11  Sim
use GaussTools          v10r10 	Sim
use GaussTracker        v4r1    Sim
use GaussRICH           v5r0    Sim
use GaussCalo           v7r2    Sim
use GaussPhysics        v3r1    Sim
use GaussAlgs		v1r6    Sim

#-- Optional visualisation and UI
macro GiGaVisUI_use "" Linux&Vis "GiGaVisUI v3r0 Sim"
use $(GiGaVisUI_use)

#-- Optional GDML
macro GDMLG4Writer_use "" Linux&GDML "GDMLG4Writer v2r0 Sim"
use $(GDMLG4Writer_use)

#-- Monitoring
use GaussMonitor        v2r1    Sim
use CaloMoniSim         v1r0    Calo
use VeloAlgorithms      v3r3    Velo
use MuonMoniSim         v1r1    Muon

#=========================================================================
#-- GAUDI framework
use GaudiAlg            v*
use GaudiAud            v*
use GaudiSvc            v*

#-- Event persistency
use GaudiPoolDb         v*

#-- Histogram persistency 
use HbookCnv            v*
use RootHistCnv         v*

#-- LHCb
use GaudiConf           v*     
use LHCbAlgs            v*    Kernel
use Magnet              v*    Det

#========================================================================
#== Necessary enviroment variables
#-- Set the default path for Gauss options
set  GAUSSOPTS "${GAUSSROOT}/options"

#-- Set behaviour of inelastic scattering
set AlwaysKillLeadingHadron 1

#-- Set visualization environment
set  G4DAWNFILE_DEST_DIR       "../job/"
set  G4DAWNFILE_PS_VIEWER      "gv"
set  G4DAWN_MULTI_WINDOW       "1"
set  G4DAWNFILE_MULTI_WINDOW   "1"
set  G4DAWNFILE_VIEWER         dawn
set  G4VRMLFILE_VIEWER         vrweb \
                WIN32          netscape
set  G4VRML_PV_PICKABLE        "1"

#========================================================================
#  For UNIXes, to rename a <app>.exe to <app>
make_fragment copy_exe -header=copy_exe_header

#-- Build Main Program 

application Gauss "GaussMain.cpp"
application GaussAcerMC "GaussMain.cpp"
macro_remove constituents "GaussAcerMC" Linux&AcerMC "Gauss"

#========================================================================
#-- Set macros
apply_pattern application_path 
macro Gauss_linkopts  "$(application_linkopts)"
macro_append Gauss_linkopts " -Wl,-Map,Linux.map " \
             Linux&AcerMC   " -Wl,-Map,LinuxAcerMC.map "\
             WIN32          ""

#-- Make just executable "visible" 
path_remove    PATH  "/Gauss/"
path_append    PATH  "${GAUSSROOT}/${BINDIR}"

#-- For visualization make appropriate engine visible (DAWN)
#path_append    PATH  "${OSC_release_area}/DAWN/bin/Linux"

#========================================================================
#-- Set usefull alias
alias gauss " ${GAUSSROOT}/${BINDIR}/Gauss.exe ${GAUSSOPTS}/Gauss.opts "
alias gaussvis " ${GAUSSROOT}/${BINDIR}/Gauss.exe ${GAUSSOPTS}/GaussVis.opts "
alias gaussacer " ${GAUSSROOT}/${BINDIR}/GaussAcerMC.exe ${GAUSSOPTS}/Gauss.opts "