package Gauss
version v22r0

#=========================================================================
#-- Structure
branches src doc options cmt job

#-- tags: AcerMC, Vis, GDML, Herwig

#=========================================================================
#-- Databases
use XmlDDDB             v27r0   Det   -no_auto_imports
use XmlConditions       v1r3    Det   -no_auto_imports
use FieldMap            v4r6          -no_auto_imports
use DecFiles            v11r1   Gen   -no_auto_imports
use ParamFiles          v3r13         -no_auto_imports
use Geant4Files		v71r0	      -no_auto_imports


#========================================================================
#-- Generator
use ParticleGuns        v1r0    Gen
use Generators          v3r0    Gen
use LbPythia            v3r0    Gen

#-- Optional AcerMC 
macro LbAcerMC_use "" Linux&AcerMC "LbAcerMC v1r3 Gen"
use $(LbAcerMC_use)

#-- Optional Herwig
macro LbHerwig_use "" Linux&Herwig "LbHerwig v1r0 Gen"
use $(LbHerwig_use)

#-- Simulation
use GiGaCnv             v15r11  Sim
use GaussTools          v11r0 	Sim
use GaussTracker        v4r2    Sim
use GaussRICH           v5r1    Sim
use GaussCalo           v7r4    Sim
use GaussPhysics        v3r2    Sim
use GaussAlgs		v1r7    Sim

#-- Optional visualisation and UI
macro GiGaVisUI_use "" Linux&Vis "GiGaVisUI v3r1 Sim"
use $(GiGaVisUI_use)

#-- Optional GDML
macro GDMLG4Writer_use "" Linux&GDML "GDMLG4Writer v2r0 Sim"
use $(GDMLG4Writer_use)

#-- Monitoring
use GaussMonitor        v2r3    Sim
use CaloMoniSim         v1r0    Calo
use VeloAlgorithms      v3r3    Velo
use MuonMoniSim         v1r1    Muon

#=========================================================================
#-- GAUDI framework
use GaudiAlg            v*
use GaudiAud            v*
use GaudiSvc            v*

#-- Event persistency
use GaudiPoolDb         v*

#-- Histogram persistency 
#use HbookCnv            v*
use RootHistCnv         v*

#-- LHCb
use GaudiConf           v*     
use LHCbAlgs            v*    Kernel
use Magnet              v*    Det
use RichCondition       v*    Rich

#========================================================================
#== Necessary enviroment variables
#-- Set the default path for Gauss options
set  GAUSSOPTS "${GAUSSROOT}/options"

#-- Set behaviour of inelastic scattering
set AlwaysKillLeadingHadron 1

#-- Set NeutronCrossSections file for low-energy Neutron background
set NeutronHPCrossSections $(GEANT4FILESROOT)/data/G4NDL

#========================================================================

#-- Build Main Program 

application Gauss "GaussMain.cpp"
application GaussAcerMC "GaussMain.cpp"
application GaussHerwig "GaussMain.cpp"

macro_remove constituents "GaussAcerMC" Linux&AcerMC "Gauss" 
macro_remove constituents "GaussHerwig" Linux&Herwig "Gauss"
#========================================================================
#-- Set macros
apply_pattern application_path 
macro Gauss_linkopts  "$(application_linkopts)"
macro_append Gauss_linkopts " -Wl,-Map,Linux.map " \
             Linux&AcerMC   " -Wl,-Map,LinuxAcerMC.map "\
             Linux&Herwig   " -Wl,-Map,LinuxHerwig.map "\
             WIN32          ""

#-- Make just executable "visible" 
path_remove    PATH  "/Gauss/"
path_append    PATH  "${GAUSSROOT}/${BINDIR}"

#-- For visualization make appropriate engine visible (DAWN)
path_remove	PATH  "" Linux&Vis "/DAWN/"
path_append	PATH  "" Linux&Vis " ${OSC_release_area}/DAWN/bin/Linux "

#========================================================================
#-- Set usefull alias
alias gauss " ${GAUSSROOT}/${BINDIR}/Gauss.exe ${GAUSSOPTS}/Gauss.opts "
alias gaussvis " ${GAUSSROOT}/${BINDIR}/Gauss.exe ${GAUSSOPTS}/GaussVis.opts "
alias gaussacer " ${GAUSSROOT}/${BINDIR}/GaussAcerMC.exe ${GAUSSOPTS}/Gauss.opts "
alias gaussherwig " ${GAUSSROOT}/${BINDIR}/GaussHerwig.exe ${GAUSSOPTS}/Gauss.opts "