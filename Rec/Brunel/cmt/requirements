package Brunel
version v8

branches doc cmt job options

ignore_pattern package_stamps

# Set the default paths for Brunel and SICBDST data cards.
set BRUNELOPTS ${BRUNELROOT}/options
set JOBOPTPATH ${BRUNELOPTS}/Brunel.opts
set SICBCARDS  ${BRUNELOPTS}/Brunel.cards

# Next line to force static build to go into LinuxStatic directory
ignore_pattern   package_tag
version_strategy first_choice

# Gaudi Configuration options
use GaudiConf    v5

# External libraries not in GaudiSys
use CERNLIB      v2001

# Gaudi Framework 
use GaudiSys     v8
use HbookCnv     v10r1

# Brunel utilities
use BrunelKernel v2     Rec
use BrunelSicb   v1     Rec

# Subdetector kernels
use TrKernel     v5     Tr
use CaloGen      v2     Calo

# Detector description
use DetDesc      v7     Det
use XmlDDDB      v6r1   Det
use CaloDet      v2r1   Det

# Event Model
use LHCbEvent    v11    Event
use L0Event      v3     Event
use VeloEvent    v5     Event
use ITEvent      v6     Event
use OTEvent      v6     Event
use TrEvent      v6     Event
use CaloEvent    v6     Event

# SicB event data persistency
use Futio        v11    SICB
use SicbCnv      v13r1  SICB
use CaloSicbCnv  v4     SICB
use L0SicbCnv    v3     SICB
use MuonSicbCnv  v3     SICB
use TrSicbCnv    v2     SICB
use VSicbCnv     v5	SICB

# L0 trigger
use L0Calo       v2     L0
use L0Muon       v3r1   L0
use L0DU         v2r1   L0

# Calorimeter digitisation
use CaloAlgs     v3     Calo

# Tracking
use ITAlgorithms v6	IT
use OTAlgorithms v6	OT
use TrAlgorithms v6r1   Tr

# SICBDST packages
use Futil        v10r3  SICB
use detdes       v14    SICB
use recevt       v3r4   SICB

use digmuon      v4     SICB
use digvdet      v2r3   SICB

use simmubg      v5r2   SICB

use rececal      v7     SICB
use rechcal      v6r1   SICB
use recrich      v5r4   SICB

use axreclib     v4r2   SICB

use trihadr      v4     SICB
use trilvl2      v5r1   SICB
use trimuon      v5     SICB
use trit0v       v5     SICB
use triskel      v4     SICB
use trit1tr      v3r3   SICB
use trivert      v5r3   SICB
use trielec      v5r1   SICB

#
#===== build Brunel =========================
application Brunel $(GAUDICONFROOT)/src/GaudiMain.cpp \
                    $(BRUNELSICBROOT)/src/Objs/sicbvers.F \
                    $(BRUNELSICBROOT)/src/Objs/recinit.F \
                    $(BRUNELSICBROOT)/src/Objs/udinit.F \
                    $(BRUNELSICBROOT)/src/Objs/GetZebraSize.F
# ========================= set macros ============================

macro Brunel_linkopts    "$(application_linkopts)"

macro_append Brunel_linkopts " "\
                Linux        " -g -Wl,--start-group "\
                Linuxdbx     " -g -Wl,--start-group "

#== Set the Brunel version = v *10000 + r * 100 + p * 100 ==
macro_append fflags " -DBrunelVersion=80000 " \
           VisualC  " /DBrunelVersion=80000 "

apply_pattern application_path
