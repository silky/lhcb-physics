package Brunel
version v15r0

branches doc cmt job options

ignore_pattern package_stamps

# Set the default paths for Brunel options and SICBDST data cards.
set BRUNELOPTS ${BRUNELROOT}/options
set SICBCARDS  ${BRUNELOPTS}/Brunel.cards

# Next line to force static build to go into LinuxStatic directory
#ignore_pattern   package_tag

#---CMT and Gaudi policy
use GaudiPolicy  v5r5

# External libraries - Gaudi v10r1
use ExternalLibs   	v3r6
use AIDA           	v2r2
use CLHEP          	v17r10p1
use HTL            	v13r10p1
use NAGC           	v5r0
use XERCES         	v16r0p1
use CERNLIB        	v2001
use ROOT		v2r303p0

#---Gaudi libraries - Gaudi v10r4
use GaudiKernel        v12r3
use GaudiSvc           v8r4
use GaudiAlg           v6r1
use GaudiAud           v6r0
use GaudiNagC          v7r0
use GaudiDb            v8r1
use GaudiRootDb        v9r0
use HbookCnv           v12r0
#use RootHistCnv        v8r0

#---LHCb common libraries
use GaudiConf    v6r3
use BookKeeping  v1r1   Tools
use LHCbKernel   v1r5   Kernel
use Finclude     v13r0  SICB
use Futio        v12r0  SICB

# Detector description
use DetDesc		v10r5	Det
use XmlDDDB      	v14r0  	Det
use CaloDet       	v5r1  	Det
use CaloDetXmlCnv	v2r0  	Det
use ITDet         	v1r1  	Det
use MuonDet       	v4r1  	Det
use OTDet         	v3r1  	Det
use RichDet		v3r0	Det
use VeloDet       	v8r0  	Det
use Magnet        	v1r1  	Det

# Event Model
use EventSys     v12r8  Event

# SicB event data persistency
use SicbCnv      v17r3  SICB
use RiSicbGeom   v2r3   SICB
use CaloSicbCnv  v7r1   SICB
use MuonSicbCnv  v6r5   SICB
use RiSicbCnv    v4r6   SICB
use VSicbCnv     v8r0   SICB

# Brunel utilities
use BrunelKernel v5r1   Rec
use BrunelSicb   v4r0   Rec
use BrunelAlgs   v1r5   Rec

# L0 trigger
use L0Calo              v6r1    L0
use L0Muon              v6r2    L0
use PuVeto              v4r1    L0
use L0DU                v6r1    L0

# L1 trigger
use L1VeloTrack         v3r2    L1
#use L1Decision          v1r0    L1

# Calorimeter
use CaloKernel          v2r0    Calo
use CaloInterfaces 	v2r2 	Calo
use CaloUtils      	v4r2 	Calo
use CaloTools      	v4r4 	Calo
use CaloAlgs       	v7r1 	Calo
use CaloMonitor         v1r1    Calo
use CaloAssociators	v3r0	Calo
use CaloRec		v2r5	Calo
use CaloTrackTools	v1r4	Calo

# Velo
use VeloKernel		v1r2	Velo
use VeloAlgorithms	v2r4	Velo
use VeloAssociators	v1r3	Velo

# Inner Tracker
use ITAlgorithms	v12r3  	IT
use ITAssociators	v2r1	IT
use ITCheckers		v1r0	IT

# Outer Tracker
use OTAlgorithms  	v12r1  	OT
use OTAssociators  	v2r2  	OT

# Tracking
use TrKernel            v11r1   Tr
use TrFitEvent          v3r3    Tr
use VeloTrack           v4r2    Velo
use TrAssociators       v3r2    Tr
use LongTrack           v1r2    Tr
use TrFitter            v3r5    Tr
use TrExtrapolator      v2r3    Tr
use TrTools             v2r2    Tr
use Seeding	        v2r2    Tr
use TrMatching          v2r3    Tr
use TrCleanEx           v2r2    Tr
use TrIntraPR		v2r1	Tr
use UpstreamPR		v2r4	Tr
use VeloTT		v1r1	Tr
use TrCheck             v1r1    Tr

# Muon
use MuonKernel          v2r1    Muon
use MuonTools           v3r1    Muon
use MuonAlgs		v3r0	Muon
use MuonRec     	v2r3	Muon
use MuonID      	v3r4	Muon
use MuonAssociators	v1r0	Muon

# Rich
use RichKernel          v1r3    Rich
use RichMonitor         v1r2    Rich

# SICBDST packages
use Futil        v11r0  SICB
use detdes       v17r0  SICB
use recevt       v3r4   SICB
use recrich      v7r2   SICB

#
#===== build Brunel =========================
application Brunel ../src/BrunelMain.cpp \
                   $(BRUNELSICBROOT)/src/Objs/*.F
# ========================= set macros ============================

macro Brunel_linkopts    "$(application_linkopts)"

macro_append Brunel_linkopts " "\
                Linux        " -g -Wl,--start-group "\
                Linuxdbx     " -g -Wl,--start-group "

#== Set the Brunel version = v*10000 + r*100 + p  ==
macro_append fflags " -DBrunelVersion=150000 " \
           VisualC  " /DBrunelVersion=150000 "

apply_pattern application_path
