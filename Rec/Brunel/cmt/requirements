package Brunel
version v9r0

branches doc cmt job options

ignore_pattern package_stamps

# Set the default paths for Brunel and SICBDST data cards.
set BRUNELOPTS ${BRUNELROOT}/options
set JOBOPTPATH ${BRUNELOPTS}/Brunel.opts
set SICBCARDS  ${BRUNELOPTS}/Brunel.cards

# Uncomment and modify next line to select an appropriate database version
# use dbase v241 SICB

# Next line to force static build to go into LinuxStatic directory
ignore_pattern   package_tag
version_strategy first_choice

# Gaudi Configuration options
use GaudiConf    v6

# External libraries not in GaudiSys
use CERNLIB      v2001

# Gaudi Framework 
use GaudiSys     v9r0
use HbookCnv     v11r0

# Brunel utilities
use BrunelKernel v3r0   Rec
use BrunelSicb   v2r0   Rec

# Subdetector kernels
use TrKernel     v6r0   Tr
use CaloKernel   v1r0   Calo

# Detector description
use DetDesc      v9r0   Det
use XmlDDDB      v7r0   Det
use CaloDet      v3r0   Det

# Event Model
use LHCbEvent    v12r1  Event
use L0Event      v4r0   Event
use VeloEvent    v6r0   Event
use ITEvent      v7r0   Event
use OTEvent      v7r0   Event
use TrEvent      v7r0   Event
use CaloEvent    v7r0   Event

# SicB event data persistency
use Futio        v11    SICB
use SicbCnv      v15r0  SICB
use CaloSicbCnv  v5r1   SICB
use L0SicbCnv    v4r0   SICB
use MuonSicbCnv  v4r0   SICB
use TrSicbCnv    v4r0   SICB
use VSicbCnv     v6r0   SICB

# L0 trigger
use L0Calo       v3r0   L0
use L0Muon       v4r0   L0
use L0DU         v3r0   L0

# Calorimeter digitisation
use CaloAlgs     v4r0   Calo

# Tracking
use ITAlgorithms v7r0   IT
use OTAlgorithms v7r0	OT
use TrAlgorithms v7r0   Tr

# SICBDST packages
use Futil        v10r3  SICB
use detdes       v14    SICB
use recevt       v3r4   SICB

use digmuon      v4     SICB
use digvdet      v2r3   SICB

use simmubg      v5r2   SICB

use rececal      v7     SICB
use rechcal      v6r1   SICB
use recrich      v5r4   SICB

use axreclib     v4r2   SICB

use trihadr      v4     SICB
use trilvl2      v5r1   SICB
use trimuon      v5     SICB
use trit0v       v5     SICB
use triskel      v4     SICB
use trit1tr      v3r3   SICB
use trivert      v5r3   SICB
use trielec      v5r1   SICB

#
#===== build Brunel =========================
application Brunel $(GAUDICONFROOT)/src/GaudiMain.cpp \
                    $(BRUNELSICBROOT)/src/Objs/sicbvers.F \
                    $(BRUNELSICBROOT)/src/Objs/recinit.F \
                    $(BRUNELSICBROOT)/src/Objs/udinit.F \
                    $(BRUNELSICBROOT)/src/Objs/GetZebraSize.F
# ========================= set macros ============================

macro Brunel_linkopts    "$(application_linkopts)"

macro_append Brunel_linkopts " "\
                Linux        " -g -Wl,--start-group "\
                Linuxdbx     " -g -Wl,--start-group "

#== Set the Brunel version = v *10000 + r * 100 + p * 100 ==
macro_append fflags " -DBrunelVersion=90000 " \
           VisualC  " /DBrunelVersion=90000 "

apply_pattern application_path
