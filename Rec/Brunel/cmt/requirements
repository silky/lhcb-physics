package Brunel
version v10r0

branches doc cmt job options

ignore_pattern package_stamps

# Set the default paths for Brunel options and SICBDST data cards.
set BRUNELOPTS ${BRUNELROOT}/options
set SICBCARDS  ${BRUNELOPTS}/Brunel.cards

# Next line to force static build to go into LinuxStatic directory
#ignore_pattern   package_tag

# Next line to get around SICB/detdes version clashes. 
# Makes order of package use important
#version_strategy first_choice

#---CMT and Gaudi policy
use GaudiPolicy  v5r5

# External libraries - Gaudi v10
use ExternalLibs   v3r6
use AIDA           v2r2
use CLHEP          v17r10p1
use HTL            v13r10p1
use NAGC           v5r0
use XERCES         v16r0p1
use CERNLIB        v2001

#---Gaudi libraries - Gaudi v10
use GaudiKernel        v12r1
use GaudiSvc           v8r0
use GaudiAlg           v6r0
use GaudiAud           v6r0
use GaudiNagC          v7r0
use GaudiDb            v7r0
use GaudiRootDb        v7r0
use HbookCnv           v12r0
#use RootHistCnv        v6r0

#---LHCb common libraries
use GaudiConf    v6r2
use BookKeeping  v1r1   Tools
use LHCbKernel   v1r0   Kernel
use Finclude     v12r2  SICB
use Futio        v11    SICB

# Subdetector kernels
use CaloKernel   v2r0   Calo
use MuonKernel   v2r0   Muon
use RichKernel   v1r0   Rich
use TrKernel     v10r0  Tr

# Detector description
use DetDesc      v10r0  Det
use XmlDDDB      v11r0  Det
use CaloDet       v4r0  Det
use CaloDetXmlCnv v1r0  Det
use MuonDet       v3r0  Det
use VeloDet       v5r0  Det

use MuonTools    v2r0   Muon

# Event Model
use EventSys     v10r0  Event

# SicB event data persistency
use SicbCnv      v16r0  SICB
use ITSicbGeom   v1r0   SICB
use OTSicbGeom   v1r0   SICB
use CaloSicbCnv  v6r0   SICB
use MuonSicbCnv  v5r0   SICB
use VSicbCnv     v7r0   SICB

# Brunel utilities
use BrunelKernel v4r0   Rec
use BrunelSicb   v3r0   Rec

# L0 trigger
use L0Calo       v5r0   L0
#use L0Muon       v4r0   L0
use PuVeto       v2r0   L0
use L0DU         v5r0   L0

# Calorimeter
use CaloInterfaces v2r0 Calo
use CaloUtils      v2r0 Calo
use CaloTools      v2r0 Calo
use CaloAlgs       v5r0 Calo
use CaloCA         v4r0 Calo

# Velo
use VeloDigit     v2r0   Velo

# Inner Tracker
use ITAlgorithms  v10r0  IT

# Outer Tracker
use OTAlgorithms  v10r0  OT

# Tracking
use TrFitEvent    v1r0   Tr
#use TrAlgorithms v7r1   Tr

use VeloTrack     v2r0   Velo
use TrAssociators v1r0   Tr
use FwTrack       v2r0   Tr

# Muon
use MuonRec       v1r0   Muon

# SICBDST packages
use Futil        v10r3  SICB
use detdes       v14    SICB
use recevt       v3r4   SICB

use digmuon      v4     SICB
use recrich      v5r4   SICB

#
#===== build Brunel =========================
application Brunel ../src/BrunelMain.cpp \
                   $(BRUNELSICBROOT)/src/Objs/*.F
# ========================= set macros ============================

macro Brunel_linkopts    "$(application_linkopts)"

macro_append Brunel_linkopts " "\
                Linux        " -g -Wl,--start-group "\
                Linuxdbx     " -g -Wl,--start-group "

#== Set the Brunel version = v*10000 + r*100 + p  ==
macro_append fflags " -DBrunelVersion=100000 " \
           VisualC  " /DBrunelVersion=100000 "

apply_pattern application_path
