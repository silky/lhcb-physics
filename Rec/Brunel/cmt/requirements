package Brunel
version v11r0

branches doc cmt job options

ignore_pattern package_stamps

# Set the default paths for Brunel options and SICBDST data cards.
set BRUNELOPTS ${BRUNELROOT}/options
set SICBCARDS  ${BRUNELOPTS}/Brunel.cards

# Next line to force static build to go into LinuxStatic directory
#ignore_pattern   package_tag

# Next line to get around SICB/detdes version clashes. 
# Makes order of package use important
#version_strategy first_choice

#---CMT and Gaudi policy
use GaudiPolicy  v5r5

# External libraries - Gaudi v10r1
use ExternalLibs   	v3r6
use AIDA           	v2r2
use CLHEP          	v17r10p1
use HTL            	v13r10p1
use NAGC           	v5r0
use XERCES         	v16r0p1
use CERNLIB        	v2001
use ROOT		v2r302p0

#---Gaudi libraries - Gaudi v10r1
use GaudiKernel        v12r3
use GaudiSvc           v8r2
use GaudiAlg           v6r1
use GaudiAud           v6r0
use GaudiNagC          v7r0
use GaudiDb            v8r0
use GaudiRootDb        v8r1
use HbookCnv           v12r0
#use RootHistCnv        v6r0

#---LHCb common libraries
use GaudiConf    v6r3
use BookKeeping  v1r1   Tools
use LHCbKernel   v1r2   Kernel
use Finclude     v13r0  SICB
use Futio        v12r0  SICB

# Subdetector kernels
use CaloKernel   v2r0   Calo
use MuonKernel   v2r1   Muon
use RichKernel   v1r2   Rich
use TrKernel     v11r0  Tr

# Detector description
use DetDesc      v10r3  Det
use XmlDDDB      v12r1  Det
use CaloDet       v5r0  Det
use CaloDetXmlCnv v2r0  Det
use ITDet         v1r0  Det
use MuonDet       v3r1  Det
use OTDet         v2r0  Det
use VeloDet       v6r0  Det
use Magnet        v1r1  Det

use MuonTools    v2r1   Muon

# Event Model
use EventSys     v11r0  Event

# SicB event data persistency
use SicbCnv      v17r0  SICB
#use ITSicbGeom   v2r0   SICB
use RiSicbGeom   v2r1   SICB
use CaloSicbCnv  v7r0   SICB
use MuonSicbCnv  v6r1   SICB
use RiSicbCnv    v4r0   SICB
use VSicbCnv     v8r0   SICB

# Brunel utilities
use BrunelKernel v5r0   Rec
use BrunelSicb   v4r0   Rec
use BrunelAlgs   v1r0   Rec

# L0 trigger
use L0Calo              v6r0    L0
use L0Muon              v6r0    L0
use PuVeto              v3r0    L0
use L0DU                v6r0    L0

# L1 trigger
use L1VeloTrack         v1r0    L1

# Calorimeter
use CaloInterfaces 	v2r1 	Calo
use CaloUtils      	v4r0 	Calo
use CaloTools      	v4r0 	Calo
use CaloAlgs       	v7r0 	Calo
use CaloMonitor         v1r0    Calo
use CaloAssociators	v2r0	Calo
use CaloRec		v2r0	Calo
use CaloTrackTools	v1r3	Calo

# Velo
use VeloKernel		v1r0	Velo
use VeloAlgorithms	v1r0	Velo
use VeloAssociators	v1r0	Velo
use VeloDigit		v3r0	Velo

# Inner Tracker
use ITAlgorithms	v12r0  	IT
use ITAssociators	v2r0	IT

# Outer Tracker
use OTAlgorithms  	v11r0  	OT
use OTAssociators  	v2r0  	OT

# Tracking
use TrFitEvent          v2r0    Tr
use VeloTrack           v3r0    Velo
use TrAssociators       v2r0    Tr
use FwTrack             v3r0    Tr
use TrFitter            v2r0    Tr
use TrExtrapolator      v2r0    Tr
use TrTools             v1r0    Tr
use Seeding	        v1r0    Tr
use TrMatching          v1r0    Tr
use TrCleanEx           v1r0    Tr
use TrIntraPR		v1r0	Tr
use UpstreamPR		v1r0	Tr

# Muon
use MuonAlgs		v2r1	Muon
use MuonRec     	v2r0	Muon
use MuonID      	v2r0	Muon
use MuonAssociators	v1r0	Muon

# Rich
use RichMonitor v1r0    Rich

# SICBDST packages
use Futil        v11r0  SICB
use detdes       v17r0  SICB
use recevt       v3r4   SICB
use recrich      v6r2   SICB

#
#===== build Brunel =========================
application Brunel ../src/BrunelMain.cpp \
                   $(BRUNELSICBROOT)/src/Objs/*.F
# ========================= set macros ============================

macro Brunel_linkopts    "$(application_linkopts)"

macro_append Brunel_linkopts " "\
                Linux        " -g -Wl,--start-group "\
                Linuxdbx     " -g -Wl,--start-group "

#== Set the Brunel version = v*10000 + r*100 + p  ==
macro_append fflags " -DBrunelVersion=110000 " \
           VisualC  " /DBrunelVersion=110000 "

apply_pattern application_path
