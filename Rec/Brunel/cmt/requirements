package Brunel
version v9r1

branches doc cmt job options

ignore_pattern package_stamps

# Set the default paths for Brunel options and SICBDST data cards.
set BRUNELOPTS ${BRUNELROOT}/options
set SICBCARDS  ${BRUNELOPTS}/Brunel.cards

# Next line to force static build to go into LinuxStatic directory
ignore_pattern   package_tag

# Next line to get around SICB/detdes version clashes. 
# Makes order of package use important
version_strategy first_choice

#---CMT and Gaudi policy
use GaudiPolicy  v5r4

# External libraries - Gaudi v9
use ExternalLibs   v3r5
use AIDA           v1r0
use CLHEP          v17r10
use HTL            v13r10
use XERCES         v15r2p2
use CERNLIB        v2001

#---Gaudi libraries - Gaudi v9r1 + bug fixes
use GaudiKernel        v11r1
use GaudiSvc           v7r2
use GaudiAlg           v5r1
use GaudiAud           v5r0
use GaudiNagC          v6r0
use GaudiDb            v5r0
#use GaudiIntrospection v2r0 -- Not needed, linked through LHCbEvent dependency
use HbookCnv           v11r0

#---LHCb common libraries
use GaudiConf    v6r2
#use GaudiObjDesc v3r0 -- Not needed, linked through LHCbEvent dependency 
use BookKeeping  v1r1   Tools
use EventKernel  v1r0   Event
use LHCbEvent    v12r2  Event
use Finclude     v12r2  SICB
use Futio        v11    SICB

# Subdetector kernels
use TrKernel     v6r0   Tr
use CaloKernel   v1r0   Calo

# Detector description
use DetDesc      v9r2   Det
use XmlDDDB      v8r1   Det
use CaloDet      v3r0   Det
use VeloDet      v3r1   Det

# Event Model
use L0Event     v10r0   Event
use VeloEvent    v6r0   Event
use L1Event      v6r0   Event
use ITEvent      v7r2   Event
use OTEvent      v7r0   Event
use TrEvent      v7r1   Event
use CaloEvent    v7r1   Event

# SicB event data persistency
use SicbCnv      v15r1  SICB
use CaloSicbCnv  v5r1   SICB
use MuonSicbCnv  v4r0   SICB
use TrSicbCnv    v4r0   SICB
use VSicbCnv     v6r1   SICB

# Brunel utilities
use BrunelKernel v3r0   Rec
use BrunelSicb   v2r0   Rec

# L0 trigger
use L0Calo       v4r0   L0
use L0Muon       v4r0   L0
use PuVeto       v1r0   L0
use L0DU         v4r0   L0

# Calorimeter
use CaloInterfaces v1r0 Calo
use CaloUtils      v1r1 Calo
use CaloTools      v1r1 Calo
use CaloAlgs       v4r2 Calo
use CaloCA         v3r1 Calo

# Tracking
use ITAlgorithms v8r1   IT
use OTAlgorithms v7r0	OT
use TrAlgorithms v7r1   Tr

# Forward Tracking
use VeloDigit    v1r0   Velo
use VeloTrack    v1r1   Velo
use FwTrack      v1r1   Tr

# SICBDST packages
use Futil        v10r3  SICB
use detdes       v14    SICB
use recevt       v3r4   SICB

use digmuon      v4     SICB
use digvdet      v2r3   SICB

use simmubg      v5r3   SICB

use rececal      v7     SICB
use rechcal      v6r1   SICB
use recrich      v5r4   SICB

use axreclib     v4r3   SICB

use trihadr      v4     SICB
use trilvl2      v5r1   SICB
use trimuon      v5     SICB
use trit0v       v5     SICB
use triskel      v4     SICB
use trit1tr      v3r3   SICB
use trivert      v5r3   SICB
use trielec      v5r1   SICB

#
#===== build Brunel =========================
application Brunel ../src/BrunelMain.cpp \
                   $(BRUNELSICBROOT)/src/Objs/*.F
# ========================= set macros ============================

macro Brunel_linkopts    "$(application_linkopts)"

macro_append Brunel_linkopts " "\
                Linux        " -g -Wl,--start-group "\
                Linuxdbx     " -g -Wl,--start-group "

#== Set the Brunel version = v*10000 + r*100 + p  ==
macro_append fflags " -DBrunelVersion=90100 " \
           VisualC  " /DBrunelVersion=90100 "

apply_pattern application_path
