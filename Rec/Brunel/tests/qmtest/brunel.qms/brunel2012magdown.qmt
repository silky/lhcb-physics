<?xml version="1.0" ?><!DOCTYPE extension  PUBLIC '-//QM/2.3/Extension//EN'  'http://www.codesourcery.com/qm/dtds/2.3/-//qm/2.3/extension//en.dtd'>
<extension class="GaudiTest.GaudiExeTest" kind="test">
  <argument name="program"><text>gaudirun.py</text></argument>
  <argument name="timeout"><integer>3600</integer></argument>
  <argument name="args"><set>
    <text>$PRCONFIGOPTS/Brunel/PR-COLLISION12-Beam4000GeV-VeloClosed-MagDown.py</text>
    <text>$APPCONFIGOPTS/Brunel/MonitorExpress.py</text>
    <text>--option</text>
    <text>from Brunel.Configuration import *; Brunel().EvtMax=200; Brunel().Monitors=["SC","FPE"]; Brunel().DatasetName="brunel2012magdown"</text>
  </set></argument>
  <argument name="reference"><text>../refs/brunel2012magdown.ref</text></argument>
  <argument name="validator"><text>
from Brunel.QMTest.BrunelExclusions import preprocessor as BrunelPreprocessor
preprocessor = BrunelPreprocessor + \
  RegexpReplacer(r'mdf:\S*(/lhcb/data\S*\.raw)(\?\S*)?',r'\1')
validateWithReference(preproc = preprocessor)
findReferenceBlock("""
ChargedProtoANN...SUCCESS List of booked 1D histograms in directory         "PROTO/ChargedProtoANNPIDMoni" :-
 | ID                        |   Title                                       |    #    |     Mean   |    RMS     |  Skewness  |  Kurtosis  |
 | Downstream/ElectronANN    | "Downstream Electron ANN PID"                 |   3963  |   0.055957 | 0.167      |     4.0529 |     16.465 |
 | Downstream/GhostANN       | "Downstream Ghost ANN PID"                    |   3963  |    0.80068 | 0.28579    |    -1.5631 |     1.0813 |
 | Downstream/KaonANN        | "Downstream Kaon ANN PID"                     |   3963  |   0.010171 | 0.040379   |     12.718 |     205.89 |
 | Downstream/MuonANN        | "Downstream Muon ANN PID"                     |   3963  |  0.0023543 | 0.034658   |     21.158 |     492.46 |
 | Downstream/PionANN        | "Downstream Pion ANN PID"                     |   3963  |    0.10846 | 0.2098     |     2.6832 |      6.633 |
 | Downstream/ProtonANN      | "Downstream Proton ANN PID"                   |   3963  |   0.023154 | 0.063227   |     5.9694 |     45.566 |
 | Long/ElectronANN          | "Long Electron ANN PID"                       |  10436  |    0.02302 | 0.10974    |     6.4722 |     44.531 |
 | Long/GhostANN             | "Long Ghost ANN PID"                          |  10436  |    0.43309 | 0.42876    |    0.31782 |    -1.7378 |
 | Long/KaonANN              | "Long Kaon ANN PID"                           |  10436  |   0.061141 | 0.1537     |     3.8628 |     15.934 |
 | Long/MuonANN              | "Long Muon ANN PID"                           |  10436  |  0.0072257 | 0.063991   |     11.541 |     142.71 |
 | Long/PionANN              | "Long Pion ANN PID"                           |  10436  |    0.43424 | 0.40157    |    0.18341 |    -1.7149 |
 | Long/ProtonANN            | "Long Proton ANN PID"                         |  10436  |   0.036018 | 0.094117   |     5.2006 |     34.719 |
 | Upstream/ElectronANN      | "Upstream Electron ANN PID"                   |   1363  |   0.051295 | 0.11751    |     4.1148 |     20.309 |
 | Upstream/GhostANN         | "Upstream Ghost ANN PID"                      |   1363  |    0.40397 | 0.35588    |    0.31205 |    -1.5075 |
 | Upstream/KaonANN          | "Upstream Kaon ANN PID"                       |   1363  |   0.055389 | 0.071249   |     3.5452 |     16.897 |
 | Upstream/MuonANN          | "Upstream Muon ANN PID"                       |   1363  |  0.0043555 | 0.020966   |     33.754 |     1202.7 |
 | Upstream/PionANN          | "Upstream Pion ANN PID"                       |   1363  |    0.38533 | 0.27787    |    0.26827 |    -1.2349 |
 | Upstream/ProtonANN        | "Upstream Proton ANN PID"                     |   1363  |    0.03143 | 0.049918   |     3.2876 |     15.278 |
""", id = "ChargedProtoANN" )
</text></argument>
</extension>
