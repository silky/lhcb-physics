<PRE>
Package: Rec/Brunel
Package Coordinator: Marco Cattaneo
Purpose: LHCb reconstruction program

- Changes to configurable
  . HltRecReports now decoded unconditionally on every event
  . L0DU now decoded unconditionally on every physics event
  . Complete the split RawEvent copy on DST and remove reference to original.

- Changes to references to reflect changes since v42r3p1
  . Reduce the chi^2 range from 0-10 to 0-3, to adapt to tracking changes. Reduce
    the 'tight' track monitoring selection to chi^2 < 2 (RichRecQC)
  . Improve FastVelo clone rejection (FastVelo)
  . Bug fix in FastVelo beam splash handling (FastVelo)
  . Enable by default the resolution plots per PD column (RichRecQC)
  . Remove CK theta correction factor for Aerogel, taken care of in calibration
    (RichRecSys)
  . Update L0Filters for Rich monitoring (RichRecQC)
  . Fix unprotected debug and verbose messages (DAQUtils, L0DU)

- Changes to tests
  . Add a test for bug #94407 in brunel.2012-crashes
  . Add a test for bug #95019 in brunel.brunel-mc09-notruth

</PRE><H1><A NAME=v42r3p2>2012-05-09 Brunel v42r3p2</A></H1><PRE>
This version uses projects LCG 62b, Gaudi v23r2, LHCb v34r3, Lbcom v12r3,
 Rec v13r3 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2012 data taking and simulation (v42r3b branch)

</PRE><H1><A NAME=v42r3p1>2012-05-08 Brunel v42r3p1</A></H1><PRE>
This version uses projects LCG 62b, Gaudi v23r2, LHCb v34r3, Lbcom v12r3,
 Rec v13r3 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2012 simulation (v42r3b branch)

- Changes to Configurable
  . Propagate "Simulation" slot to TrackSys()
  . Change default DataType to 2012

- Changes to references to reflect changes since v42r3
  . All MC references updated following change to TrackSys whereby MC11 dEdx
    correction is now applied by default in case of Simulation (TrackSys v7r3)

</PRE><H1><A NAME=v42r3>2012-05-03 Brunel v42r3</A></H1><PRE>
This version uses projects LCG 62b, Gaudi v23r2, LHCb v34r3, Lbcom v12r3,
 Rec v13r3 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2012 data taking

- Changes to Configurable
  . Fixes to allow Brunel to run online with condDB snapshot

- Changes to references to reflect changes since v42r2p2
  . Use the new EnableCheck functionality of the Packers for the packing tests,
    instead of separate Pack, Unpack, Compare algorithms (GaudiConf, EventPacker)
  . Switch to new TrackBestTrackCreator clone killer. Chi2 cut set to 3.
    (TrackSys, TrackTools, TrackUtils)
  . Add minimum bias rate and event time monitors to Hlt monitor sequence
    (HltMonitors, RecAlgs)
  . Use LHCBCOND tag head-20120420 on 2012 data: new Ecal calibration, Rich 
    mirror alignments, refractive index and HPD image calibrations, OT T0 
    calibration and parameterisation of resolution leading to improved pull vs
    momentum distribution (DDDB)
  . Update Rich offline track chi^2 cut from 0->10 to 0->5. Tracking now applies
    its own cut anyway (0->3 currently) so this no longer does anything, but keep
    just for sanity check (RichRecSys)

</PRE><H1><A NAME=v42r2p2>2012-04-13 Brunel v42r2p2</A></H1><PRE>
This version uses projects LCG 62b, Gaudi v23r2, LHCb v34r2, Lbcom v12r2,
 Rec v13r2 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version including patches for initial 2012 data taking

- Changes to references to reflect changes since v42r2p1
  . Add algorithms to convert ROStatus to ProcStatus for Calo and Muon 
    (CaloDAQ v4r27, DAQUtils v1r7, RecConf v2r6)
  . add eta->gg monitoring (CaloMoniDst v5r10)
  . Fix in PatForward: left-right ambiguity bit of PatFwdHits was not being
    reset when reusing hits (PatAlgorithms v4r21)

- Changes to tests
  . Add 2012-crashes.py. Currently tests fix for huge processing times, 
    bug #93550, fixed in FastVelo v1r8
  . Update brunel.brunel2012magdown to use a 2012 run... 

</PRE><H1><A NAME=v42r2p1>2012-04-04 Brunel v42r2p1</A></H1><PRE>
This version uses projects LCG 62b, Gaudi v23r2, LHCb v34r2, Lbcom v12r2,
 Rec v13r2 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for initial 2012 data taking

- Changes to tests
  . Add to 2011-crashes.py a test for bug #93382
 
</PRE><H1><A NAME=v42r2>2012-03-29 Brunel v42r2</A></H1><PRE>
This version uses projects LCG 62b, Gaudi v23r2, LHCb v34r2, Lbcom v12r2,
 Rec v13r2 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for initial 2012 data taking
 
- Changes to Configurable
 . Add HltRoutingBits and HltVertexReports to Trigger/RawEvent on sDSTs.

- Changes to references to reflect changes since Brunel v42r1
  . Minor change in ChargedProtoParticleTupleAlg
    (GlobalReco, not yet in tag collector)
  . Protect some unprotected debug and verbose messages
    (PatVeloTT, PatPV, DAQUtils, TrackUtils, CaloPIDs, TrackFitter, MuonID,
     LHCbKernel)
  . Fixes to sorting in TsaSeeding to get identical results with gcc43 and gcc46
    Affects only DataType prior to 2011 (TsaAlgorithms)
  . Improved protections in OTHitEfficiencyMonitor (TrackMonitors)
  . Fix sign of qOverP in FastMomentumEstimate, fixes TT efficiency of Match
    tracks (TrackTools)
  . Add EndVelo state to velo only fits (TrackFitter)
  . Add new profile plot to monitor routing line coupling (VeloRecMonitors)
  . Faster method to invert transport matrix (TrackFitEvent)
  . Fix in TrackTraj: Backward tracks have states in opposite order (TrackKernel)

- Changes to tests
  . add a test for 2012 data type (brunel2012magdown), for the time being using
    2011 data as input. 

</PRE><H1><A NAME=v42r1>2012-03-02 Brunel v42r1</A></H1><PRE>
This version uses projects LCG 62a, Gaudi v23r1, LHCb v34r1, Lbcom v12r1,
 Rec v13r1 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version to pick up LHCb v34r1 stack
 
- Changes to references to reflect changes since Brunel v42r0
  . Minor improvements to track fit, mainly for HLT
  . Run TrackEffChecker also for FastVelo tracks (TrackSys)
  . Use wasDecoded flag to count missed Velo sensors, improves speed (FastVelo)
  . Fix gcc4.3/4.6 differences due to sort order (TfKernel, PatAlgorithms)
  . Improvements in track fit initialization and clone rejection (TrackTools)
  . Set q/p of long tracks by extrapolating from T, not from velo (TrackTools)
  . Do not apply FilterFillingScheme in data prior to 2011 since information
    not available in CondDB (LumiAlgs)
  . Update FilterFillingScheme for 2012 (LumiAlgs)
  . Changes in PatForward X search window parameterisation (PatAlgorithms) 
  . Add to RecVertex the weights associated to each track, remove weights
    vector from (s)DST (RecEvent, PackedEvent, GaudiConf, PatPV)
  . Increased minimum number of hits left in outlier removal (TrackFitter)

- Changes to tests
  . brunel.brunel-mc11a-xdst now takes input file from svcClass=lhcbdisk
  . Add a specific reference file brunel2011magdown.ref.dbg, to track changes
    in untested StatusCodes

</PRE><H1><A NAME=v42r0>2012-02-03 Brunel v42r0</A></H1><PRE>
This version uses projects LCG 62a, Gaudi v23r0, LHCb v34r0, Lbcom v12r0,
 Rec v13r0 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version to pick up LHCb v34r0 software stack.
 
- Changes to configuration
  . Add a filter for the States on Best and Muon Tracks

- Persistency changes
  . Change to states saved by default on tracks written to output file:
    Velo:       ("ClosestToBeam")
    Long:       ("ClosestToBeam")("FirstMeasurement")("BegRich2")("V0Vertex")
    T:          ("FirstMeasurement")( "BegRich2")
    Downstream: ("FirstMeasurement")("BegRich2")("V0Vertex")
    Upstream:   ("ClosestToBeam")("FirstMeasurement")
    Muon        ("FirstMeasurement")

- Changes to references to reflect changes in Brunel v42r0 output:
  . Fixes to primitive types that can be saved in Tuples::TupleObj
  . Fix to updates of cached geometry for Upstream tracking 
  . Changes to track fit: fewer smooth operations to improve timing,
    smarter use of OT times in OTTrackProjector leading to better Chi2 and 
    therefore more ProtoParticles
  . Add monitor for ANN PID variables
  . Move 2D histograms to expert mode (MuonTrackAlign)
  . Remove a Velo clusters histogram (VeloRecMonitors)
  . Fix reinitialisation when condition is updated (CaloDet)

- Changes to configuration
  . Remove GaudiPoolDb dependency

- Changes to tests
  . Remove tests that write to POOL files, no longer supported

</PRE><H1><A NAME=v41r3>2011-12-19 Brunel v41r3</A></H1><PRE>
This version uses projects LCG 61b, Gaudi v22r5, LHCb v33r2, Lbcom v11r2,
 Rec v12r2 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version to pick up LHCb v33r2 software stack.
 
- Changes to configurable
  . Explicitly set L0Conf().RawEventLocations to take L0 banks from DAQ/RawEvent
    (follows changes to L0Base, L0DU etc.)
  . Remove support for RDST (superseded by SDST)

- Changes to references to reflect changes in Brunel v41r3 output:
  . MuonPID objects now saved only if track is InAcceptance (MuonID)
  . Monitor tracks with large IP (TrackCheckers)
  . Improve efficiency for large IP tracks (FastVelo)
  . Fix error message from PropertyConfigSvc at initialization (LumiAlgs)

- Changes to tests
  . Add brunel.2011-crashes for regression testing of fixes to crashes on 2011
    data. Currently covers bug #89269 affecting Reco12, fixed in CaloReco v5r13
  . Add RegexpReplacer expression to BrunelExclusions.py, to take into account
    different printout format from RichHotPixels and RichRawDataDBCheck when
    running in debug mode
  . Bug fix in CaloUtils
  . brunel2010magup test now writes SDST in MDF format, was RDST

</PRE><H1><A NAME=v41r2>2011-11-11 Brunel v41r2</A></H1><PRE>
This version uses projects LCG 61b, Gaudi v22r5, LHCb v33r1, Lbcom v11r1,
 Rec v12r1 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version to pick up LHCb v33r1 software stack.
 
- Changes to configurable
  . Print Magnetic Field polarity also when ProductionMode is True

- Changes to references to reflect changes in Brunel v41r2 output:
  . Complete the migration to LHCb::ParticlePropertySvc (TrackMCTools) 
  . Minor improvements to Rich decoding error messages (RichDAQ)
  . Fixes to MuonPID status in ProtoParticle (Savannah task 23459)
  . Update default DDDB and LHCBCOND tag for 2011 data to head-20111102 (DDDB)
  . NeuroBayes output at initialisation now suppressed (NeuroBayes 10.12)

- Changes to example options
  . Add COLLISION11_25.py, example options for processing 2011 25ns fill

- Changes to tests
  . Add brunel2011-25ns.qmt, to test COLLISION11_25.py
  . Add brunel-mc11a-xdst.qmt, to test reprocessing from xdst

</PRE><H1><A NAME=v41r0>2011-09-21 Brunel v41r1</A></H1><PRE>
This version uses projects LCG 61, Gaudi v22r4, LHCb v33r0, Lbcom v11r0,
 Rec v12r0 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for MC11 and 2011 end of year reprocessing (Reco12)
 
- Changes to references to reflect changes in Brunel v41r1 output:
  . Add NextNext to default DstConf().SpilloverPaths (GaudiConf)
  . In TrackNNGhostID, fix typo in ITClusterLocation (TrackTools)

</PRE><H1><A NAME=v41r1>2011-09-16 Brunel v41r0</A></H1><PRE>
This version uses projects LCG 61, Gaudi v22r4, LHCb v33r0, Lbcom v11r0,
 Rec v12r0 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2011 end of year reprocessing (Reco12)

- Changes to Brunel configurable:
  . Create copies of Raw event banks (Trigger/RawEvent, Muon/RawEvent) for adding
    to the SDST, see task #21716

- Changes to references to reflect changes in Brunel v41r0 output:
  . Reduced verbosity from Gaudi persistency service initialisation
  . Add FilterFillingScheme algorithm to LumiBeam1 and LumiBeam2 sequences,
    changes luminosity results for 2011 MagUp data (LumiAlgs)
  . Explicitly set options for the pixel background tools (RichRecSys)
  . Small improvements to Rich background tools (RichRecTools)
  . Remove Muon Stations efficiency monitor MuEffMonitor, moved to DaVinci
    (MuonTrackMonitor)
  . New ROOT version 5.30
  . Implemented IsMuonTight, added counter for each IsMuon flag (MuonID)
  . Introduce new StandardPV configuration to include radial cut for primary
    vertices (PatPV, RecConf)
  . Change default persistency to ROOT
  . Updates to VeloIPResolutionMonitor and TrackMonitors
  . Add histogramsfor IT module overlap residuals for A/C/Top/Bottom for use in
    DQ monitoring (TrackMonitors)
  . Update default DDDB and LHCBCOND tag for 2011 data to head-20110914 (DDDB)

- Changes to QMTests
  . Fix brunel-lumiconddbchecker following fix to bug #85240
  . Replace ROOT persistency tests with POOL persistency test, default for
    all other tests is now ROOT

</PRE><H1><A NAME=v40r1>2011-07-29 Brunel v40r1</A></H1><PRE>
This version uses projects LCG 60b, Gaudi v22r2, LHCb v32r5, Lbcom v10r5,
 Rec v11r6 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2011 August processing (Reco11a)

- Changes to Brunel configurable:
  . When ProductionMode=True, print the event number only every 1000 events

- Changes to references to reflect changes in Brunel v40r1 output:
  . Add monitoring of Rich Raw data size on L0 selected events (no HLT bias)
  . Add new set of Rich CK theta monitors with tight track quality cuts and
    other new plots in efficiency and resolution monitors
  . Fine tune event 'abort' messages from Rich track selection
  . Switch off Rich monitors the require HltDecReports when Simulation=True
  . Add new profile histograms in TrackVertexMonitor
  . Add histogram for overlaps in ITTrackMonitor
  . Use latest DDDB and LHCBCOND tags from SQLDDDB v6r14
    (new field map by default for 2011 data, new Rich aerogel geometry)
  . Set global event cut on number of Velo hits to 6000 for 2011 data type
  . Loosen the Rich abort cuts for 2011+ data: MaxUsedTracks set to 1000,
    MaxPixels set to 30000 everywhere (previously 20000 in global PID)

- Changes to QMTests:
  . Add check of unprotected DEBUG and VERBOSE messages to brunel2011magdown.qmt
    (activated in debug mode only) and increase timeout of this test to 2400 sec.
 
</PRE><H1><A NAME=v40r0>2011-06-20 Brunel v40r0</A></H1><PRE>
This version uses projects LCG 60b, Gaudi v22r2, LHCb v32r4, Lbcom v10r4,
 Rec v11r5 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2011 summer processing (Reco11)

- Changes to configurable:
  . Adapt to use of IOHelper in LHCbApp and DstConf
  . Add "Persistency" slot and propagate to DstConf
  . Add "VetoHltErrorEvents" slot (default: True) to Brunel Configurable
    o This will skip events that are flagged as Hlt{1,2}ErrorEvent and 
      write a line in ProcStatus. See Patrick's talks at 04 and 20/06 PPMTS
    o Disabled for data prior to 2010, and off by default for simulation

- Changes to QMTests:
	. Add test of Brunel().WriteFSR=False to brunel.brunel-mc09-notruth test
  . Remove import of obsolete earlyData.py options from test-big.py
  . Add brunel2010magoffroot, brunel2011magdownroot,  brunel-bigeventsroot,
    brunel-mc10-withtruthroot, readdstfsrroot, replacing POOL with ROOT 
    persistency and comparing with corresponding POOL tests.

- Changes to references to reflect changes in Brunel v40r0 output:
  . Put back "L1SizeMonitoring" from the default list of monitors following
    fixes to initialisation (RichRecQC)
  . Adapt to latest LHCBCOND tags from SQLDDDB v6r9 (DDDB)
  . Fix remaining missing fields in KalmanFitResult copy constructor 
    (TrackFitEvent)
  . Fix error assigned to OT hits in 'prefit' (TrackProjectors)
  . Major changes to MuonID (MuonID)
  . Update clusterization counters (CaloReco) 
  . Small changes to Rich track selection cuts so they are noe the same
    everywhere and extend max P cut to effectively +inf value (RichRecSys)
  . Add new plot for high Velo cluster multiplicity (VeloRecMonitors)
  . Add TrackMonitoring to the list og RICH online histograms (RichRecQC)
  . Tune PatSeedingTool to better cope with high occupancy events (PatAlgorithms)

</PRE><H1><A NAME=v39r4>2011-05-14 Brunel v39r4</A></H1><PRE>
This version uses projects LCG 60b, Gaudi v22r2, LHCb v32r3, Lbcom v10r3,
 Rec v11r4 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*
 and additional packages OTDAQ v7r10, TrackSys v6r2, RichRecTrackTools v1r29,
   RichRecQC v2r51

Bug fix version for first 2011 reprocessing (Reco10)

- Changes to references to reflect changes in Brunel v39r4 output:
  . Remove "L1SizeMonitoring" from the default list of monitors (RichRecQC v2r51)

</PRE><H1><A NAME=v39r3>2011-05-11 Brunel v39r3</A></H1><PRE>
This version uses projects LCG 60b, Gaudi v22r2, LHCb v32r3, Lbcom v10r3,
 Rec v11r4 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*
 and additional packages OTDAQ v7r10, TrackSys v6r2

Production version for first 2011 reprocessing (Reco10)

- Changes to references to reflect changes in Brunel v39r3 output:
  . Apply fiducial time window in OTRawBankDecoder -8.0*ns to 56.0*ns 

- Changes to tests:
  . Change svcClass for access to freezer files from lhcbdst to lhcbdisk

</PRE><H1><A NAME=v39r2>2011-04-29 Brunel v39r2</A></H1><PRE>
This version uses projects LCG 60b, Gaudi v22r2, LHCb v32r3, Lbcom v10r3,
 Rec v11r4 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version for first 2011 reprocessing

- Changes to references to reflect changes in Brunel v39r2 output:
  . #121606 etc.: (RichDet) Make sure things are updated when conditions change
  . #121762 etc.: (DetDesc) Recover precision in matrices
  . Adapt to latest LHCBCOND tags from SQLDDDB v6r7 
  . #122070: (RichRecBase) Suppress finalize() warnings about no pixels created
  . #122399: (MuonDAQ) Fix an error message due to a mismatch of the IDE and 
             Tell1 firmware
  . #122401: (MuonID) Reading of new dll tuning (DLL_flag == 4) from database,
             issue Warning if not in database, for backward compatibility.
  . #122401: (MuonID) Small bug fixes 

- Remove all DC06 tests and example options, no longer supported

</PRE><H1><A NAME=v39r1>2011-04-12 Brunel v39r1</A></H1><PRE>
This version uses projects LCG 60a, Gaudi v22r1, LHCb v32r2, Lbcom v10r2,
 Rec v11r3 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version for first 2011 reprocessing

- Changes to configuration:
  . Change ParamFiles dependency to v8r* (was v8r4)

- Add example options for 2011 data and update brunel.brunel2011magdown test
  to use them.

- Changes to references to reflect changes in Brunel v39r1 output:
  . #121290: (TrackFitEvent) Check for negative element in state covariance 
              matrix diagonal, update KalmanFitResult error printing accordingly
  . #120956: (RichRecQC) Remove RichHPDImageShifts from default monitoring
  . #120223: (RichRecQC) Extend the decoding errors monitor
  . #121211: (HltMonitors) Add Mu monitor to Hlt monitoring sequence
  . (DetCond, DetDescSvc) Fix to bug #80076 (wrong condition used on first event)
  . Adapt to latest LHCBCOND tags from SQLDDDB v6r6

</PRE><H1><A NAME=v39r0p3>2011-03-23 Brunel v39r0p3</A></H1><PRE>
This version uses projects LCG 60a, Gaudi v22r1, LHCb v32r1p1, Lbcom v10r1p1,
 Rec v11r2p1 and SQLDDDB v6r4, ParamFiles v8r4, FieldMap v5r5, AppConfig v3r*

Patch version for production
 - Pick up protection in Spd L0 decoding (CaloDAQ v4r21p1)

Includes Det/DDDB v1r42 to pick up latest tags from SQLDDDB v6r4:
 - Ecal pre-calibration for 2011
 - Ecal/Hcal LED reference and initial quality for 2011
 - Change in Prs/Ecal readout scheme for 2011
 - New calorimeter resconstruction tuning for 2010
 - TT/IT dead channel masks etc for 2011 startup
 - First TT/IT/OT alignment for 2011
 - New Rich L1 and HPD IDs for 2011
 - VeloClusterPosition now configured with VeloError paremeterisation from DB

Updated QMTest references for above changes

</PRE><H1><A NAME=v39r0p2>2011-03-17 Brunel v39r0p2</A></H1><PRE>
This version uses projects LCG 60a, Gaudi v22r1, LHCb v32r1p1, Lbcom v10r1p1,
 Rec v11r2p1 and SQLDDDB v6r1, ParamFiles v8r4, FieldMap v5r5, AppConfig v3r*

Patch version for production to pick up fixes in MuonID and Rich which
were provoking NAN and other oddities in production.

MuonID had a large memory leak as discussed here: https://savannah.cern.ch/bugs/?79569

Fixes in: Muon/MuonID v8r0p2 and Rec/ChargedProtoANNPID v1r3p1

</PRE><H1><A NAME=v39r0p1>2011-03-10 Brunel v39r0p1</A></H1><PRE>
This version uses projects LCG 60a, Gaudi v22r1, LHCb v32r1p1, Lbcom v10r1p1,
 Rec v11r2p1 and SQLDDDB v6r1, ParamFiles v8r4, FieldMap v5r5, AppConfig v3r*

Patch version to pick up patched LHCb Lbcom and Rec.

- Necessary for 2011 data to process latest TCKs and fill RecHeader with GUID
  of raw file for DQ checks

- See Rec v10r2p1 release notes for details

</PRE><H1><A NAME=v39r0>2011-03-04 Brunel v39r0</A></H1><PRE>
This version uses projects LCG 60a, Gaudi v22r1, LHCb v32r1, Lbcom v10r1,
 Rec v11r2 and SQLDDDB v6r1, ParamFiles v8r4, FieldMap v5r5, AppConfig v3r*

Production release candidate for 2011 data taking

- Major version updated due to backward incompatible persistency changes in
  Root 5.28.00a and GaudiPooldDB v5r11

- Changes to unit tests
	. Add brunel-lumiconddbchecker to test online partition usage for lumi

- Changes to references to reflect changes in Brunel v38r2 output
  . #118380 Possibility to configure VeloClusterPositionTool from DB (default)
            (TrackTools)
  . #117185 Add cluster offset correction (CaloReco)
  . #117270 Reduce verbosity of TrackEventFitter (TrackFitter)
  . #116970 FastVeloHitManager prints in finalize, not destructor (FastVelo)
  . #116954 Add check for untested StatusCodes (PatAlgorithms)
  . #116963 Set maximum warning to 0 in TrajPoca (LHCbAlgs)
  . #118415 Added MuonID tuning for 2010 and 2011. Added possibility to load
            it from DB (not yet default)
  . Changed order of NTupleSvc finalisation in Gaudi v22r0

</PRE><H1><A NAME=v38r1>2011-02-08 Brunel v38r1</A></H1><PRE>
This version uses projects LCG 60, Gaudi v22r0, LHCb v32r0, Lbcom v10r0,
 Rec v11r1 and SQLDDDB v6r0, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

Development release in preparation for 2011 production

- Changes to configurable:
  . default DataType is now 2011
  . Remove support for ETC input

- Changes to example options
  . Remove options with ETC as input
  . Remove options and catalogs accessing DC06 and MC09 files that no longer
    exist
  . Remove all imports of earlyData.py, since this now the default

- Changes to qmtests:
  . Add a test brunel.brunel2011magdown, for the time being identical to
    brunel.brunel2010magdown (same input data) to validate 2011 DataType settings
  . Remove obsolete brunel.brunel-mc09-stripping test
  . Input file for brunel2010magdown test is now taken from 'freezer' castor
    directory, to test rootd access to this pool.
  . Remove references for slc4_ia32_gcc34(_dbg), no longer supported

- Changes to references to reflect changes in Brunel v38r1 output
  . #114925: all Calo corrections now taken from CondDB
  . #115007: reduce CaloReco verbosity
  . #115040: New default DDDB tag for real data: head-20101206
  . #115196: New expert monitoring for ProtoPIDANN
  . #115240: Switch default ANN configuration from MC2010Tune to MC10TuneV1,
             activate the new Ghost ID network for each track type.
  . #115674: Suppress Warning "Ingress/ODIN Event ID checks are disabled"
  . #115635: Add new SUMMARY sequence, runs RecSummaryAlg to fill new reco
             summary object saved on DST
  . #116712: Remove use of earlyData flag in MuonID
  . #116318: Remove use of earlyData flag in PV Reco
  . #116127, 116216: earlyData settings become default in tracking
  . #116130: Switch to new tracking sequence, remove use of earlyData flag
  . #116384, 116383: Major modification of Kalman filter implementation
  . #116912: Put back DC06 Velo error parameterisation, MC10 one introduced
             in Brunel v38r0 (#114631) needs more study.
  . Move to a single sqlite file for ONLINE_2010 conditions 

</PRE><H1><A NAME=v38r0>2010-12-21 Brunel v38r0</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r8, Lbcom v9r9,
 Rec v10r6 and SQLDDDB v5r44, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

Development release in preparation for 2011 production

- Changes to references to reflect changes in Brunel v38r0 output
  . #95658: reduce verbosity of CaloDet initialisation
  . #87476: add options to switch on FastVelo
  . #101202: add profile plots of Rich data size vs. HPD and L1 ID
  . #101117: New default tags for 2010,2009,2008 data. Changes include:
    . ecal-20101106-qual: Ecal channel quality update for 2010 reprocessing
    . ecal-20101106-calib: Ecal calibration update for 2010 reprocessing
    . ecal-20101106-led: LED measured gain shift correction for Ecal
    . rich-20101106-corr: Final 2010 RICH run by run gas refractive index corrs.
    . rich-20101106-hpd: Added list of inactivwe HPDs
    . rich1-20101106: New aerogel refractive index calibrations
    . tt-20101106: updated TT dead strip maps
  . #103054: Add processing time monitor for Vertex, Calo, Muon, Proto sequences
  . #103059: Various new Rich monitoring plots, reduce verbosity
  . #103287, 103294: Execute track associators only if corresponding track type
    has been reconstructed
  . #114361: Remove 2010 MC CK theta smearing
  . #114423: Add ExpertProtoMoni sequence to expert monitoring
  . #114631: New tuning of VeloCluster error parameterization

- Changes to example options
  . In COLLISION10-Beam3500GeV-VeloClosed-MagDown.py use a more recent raw file,
    from run 81694

- Changes to QMTests
  . Added fixed-file sim2010 tests, to check for processing sim2010 files
  . Started compatibility.qms suite, for future-proofing DB changes
  . Modified the other fixedfile tests so that they only care about the
    number of errors/warnings in the results
  . fixedfile-boole-v19r8-2009-digi-extended test now only runs if 
    fixedfile-boole-v19r8-2009-digi was successful
  . fixedfile-boole-v19r8-2009-digi-extended-spillover test now only runs if 
    fixedfile-boole-v19r8-2009-digi-extended was successful
  . Update brunel.brunel2010magdown for changed input file
  . New test brunel-mc10-withtruth.qmt to test MC10 simulation settings.
    Currently uses a private file from Chris Jones.
  . Ignore NeuroBayes initialization messages in QMTest references

</PRE><H1><A NAME=v37r8p5>2010-11-23 Brunel v37r8p5</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r6p1, Lbcom v9r7p1,
 Rec v10r5p3 and SQLDDDB v5r39, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

- This is a minimal patch and clean-up to include the latest fixes which were
  also done for the reprocessing release of Brunel v37r8p3.

- There are also the RICH specific changes for smearing Cherencov angles from the
  MC. See the Rec release notes for more details.

- There is a test of the new RICH functionality

</PRE><H1><A NAME=v37r8p4>2010-11-11 Brunel v37r8p4</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r6p1, Lbcom v9r7p1,
 Rec v10r5p2 and SQLDDDB v5r39, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

- This version picks up the Tf/PatVelo fix for DB caching problems
  and the Tr/TrackTools fix of an uninitialized pointer
  It replaces v37r8p3 as the winter reprocessing version.


</PRE><H1><A NAME=v37r8p3>2010-11-05 Brunel v37r8p3</A></H1><PRE>

- This version picks up the Rich/RichHPDImageAnalysis fix required to prevent a segfault.
  It replaces v37r8p2 as the winter reprocessing version.


</PRE><H1><A NAME=v37r8p2>2010-11-05 Brunel v37r8p2</A></H1><PRE>
- Dummy version to pick up FSR changes from Rec.

- Previous Recs had a bug in FSR writing that the FSRs were not always created.
  That's fixed in Rec/LumiAlgs v4r1p1


</PRE><H1><A NAME=v37r8p1>2010-10-28 Brunel v37r8p1</A></H1><PRE>
- Changes to references to reflect changes in Brunel v37r8p1 output
  . #87223: New LHCBCOND tag head-20101010
  . #87576, #87577, #87582, #87587, #87589 Fix refractive index for Aerogel
  . #89880: Remove Aerogel specific monitor
  . #95457: Latest alignment db, Photon improvements in Rich, printout of Calo Quality checks

</PRE><H1><A NAME=v37r8>2010-10-04 Brunel v37r8</A></H1><PRE>
- Changes to Configurable:
  . Remove the ProtoParticle PID cleaning algorithm, that removes Rich and Muon
    information prior to DST writing. This is now done when needed, via the 
    DstConf Configurable in GaudiConf (see Savannah task #17217)
  . Propagate value of Simulation slot to RecMoniConf and LumiAlgsConf, switches
    off LimiAccounting algorithm in case of Simulation=True
  . Add slot Brunel().CaloPhotonChecker (default False) to switch off this
    expert checking algorithm while waiting for fix to bug #73392

- Changes to example options
  . In MC09-Files.py, do not set database tag for MC09 DataType, use the default 

- Changes to references to reflect changes in Brunel v37r8 output
  . #52124: Added histograms for magnet kick to TrackFitMatchMonitor
  . #54084: PhotonFromMergedRec algorithm removed from Calo Reco sequence, save 
    time by doing it in MergedPi0Rec algorithm
  . #62241: Add Hlt monitoring sequence
  . #82690: Change track selection chi2 for charged ProtoParticles to < 10
  . #86415: Make fit in PatSeedFit more similar to what is used in PatSeeding
  . #86502: Add VeloIPResolutionMonitor to standard monitoring
  . #86515: Improve Calo LCorrection
  . #86550: Suppress unnecessary printouts from MuonID
  . #86666: Add TrackPV2HalfAlignMonitor to monitoring sequence, add histograms
            for Velo-Calo matching
  . #86866: Enable by default the running of the new ANN PID algorithms
  . #87223: New default tags for 2010,2009,2008 data. Changes include:
    . align-20100902: Tracking alignment v4.1
    . it-20101001: Fix wrong positioned IT support column in Station 2 Aside
    . it-20100930: Protection in IT geometry against rounding error
    . tt-20100820: Fix overlap between outer modules in TTb
    . tt-20101001: Latest TT dead strip map after VCSEL repair
    . rich*-20100906*: New HPD chip alignments, new Rich mirror alignments 

- Changes to QMTests
  . brunel.brunel-mc09-withtruth now runs over 15 events (was 10)
  . brunel.brunel-mc09-withtruth-invfield no longer needs 
    TrackPrepareVelo().reverseCharge=True

</PRE><H1><A NAME=v37r7>2010-09-03 Brunel v37r7</A></H1><PRE>

This version requires ParamFiles >= v8r3, Det/DDDB >= v1r34

- NB: This version of Rec and LHCb require new Database tags otherwise processing will fail.
  DDDB must be >= head-20100826
	LHCBCOND must be >= head-20100831
  SIMCOND depends on the data being analysed
  Consult the defaults in Det/DDDB for more information
  Det/DDDB has been updated with these new defaults

- Updated references for tests.

- This version pick up the latest geometry and event model changes
  from LHCb and Lbcom. 

- The Luminosity methods have been updated to allow for -log(P), and write those FSRs
  but this requires a full reprocessing before they can be used

- Tracking and Vertexing have been updated to more appropriate cuts,
  timing has also been improved slightly

- The DDDB, SIMCOND, LHCBCOND tags required to use this software have been
  updated. The software is not strictly backward-compatible on the old DB tags.
  head-20100826 tags should be used. Det/DDDB v1r34 contains the new defaults.

- Det/DDDB v1r34 and Rich/RichRecTrackTools v1r24p1 have been absorbed. 
  . Rich/RichRecTrackTools v1r24p1 fixes bug #72136.
  . Det/DDDB v1r34 fixes many backwards-compatibility problems

</PRE><H1><A NAME=v37r6p1>2010-08-04 Brunel v37r6p1</A></H1><PRE>

- There were a few bugs in the v10r3 Rec release. This is an emergency patch of those.

- bug #70990, problems with stateless tracks in the Best track container
  . Only one package is changed Tf/TrackSys v4r37

- bug #71012, new fit mechanism for tracks breaks Calo photon reconstruction
  . Two packages are reverted to older versions: Tr/TrackFitter v2r49, Tr/TrackTools v3r33

- The test references have been updated

</PRE><H1><A NAME=v37r6>2010-07-26 Brunel v37r6</A></H1><PRE>
- Dummy release to pick up the latest Rec, v10r3

- Updated references for tests

- Propagate DataType to TrackSys

</PRE><H1><A NAME=v37r5>2010-07-22 Brunel v37r5</A></H1><PRE>
- Changes to references to reflect changes in Brunel v37r5 output:
  . OTHitEfficiencyMonitor: Add 2D histos per layer (TrackMonitors)
  . Add MuonEffMonitor (MuonTrackMonitor)
  . Improved Muon alignment monitor (MuonTrackMonitor)
  . Report processing aborted in ProcStatus (Rich, Tracking, Velo)
  . Fix uninitialised variables (VeloDet)
  . New Velo RF foil thickness from head-20100531 DDDB and LHCBCOND tags
  . New HPD demagnification parameters from head-20100531 DDDB tag
  . Track fits now done after clone killing (TrackSys)
  . Updated track selection cuts for the Rich
  . Add plot to monitor total number of photon candidates (RichRecQC)
  . Add counter for number of tracks changing sign (TrackFitter)
  . Add HitEffPlotter algorithm to expert monitoring
  . Add cut on max number of IT and OT hits (PatAlgorithms)
  . Fix wrong fractional mass calculation in mixtures (DetDesc)
  . Updated eta correction and new hit error estimates (STTools)
  . ChronoSvc output level increased, to avoid duplicate timing table (RecConf)
  . Reduce max number of photon candidates to 250k (from 1M) (RichRecSys)
  . Add MoniGENERALSeq, with monitoring of processing time and status (RecAlgs)
  . Remove suppression of Seckrb5 stderr that was produced by xrootd 
  . Add suppression of warnings of delta memory greater than 3*sigma

</PRE><H1><A NAME=v37r4>2010-06-24 Brunel v37r4</A></H1><PRE>
- Changes to configurable
  . Fix AgeLimit when reprocessing from RDST or SDST

- Changes to example options
  . All castor data accesses are now down through root: (xrootd) protocol

- Changes to tests
  . remove brunelmdfrst test, as all functionality is already tested elsewhere
  . ignore BrunelInit warnings count in comparisons (due to fluctuations in
    memory usage) 
  . switch off STOfflinePosition Lorentz correction in brunel-mc09-withtruth and
    brunel-mc09-withtruth-invfield tests, to avoid differences when inverting
    the magnetic field.

- Changes to references to reflect changes in Brunel v37r4 output:
  . Follow fix to MagneticFieldSvc().ForceToUseDownMap. As a result of this bug,
    DC06 reco was using wrong polarity, since Brunel v37r2 (Magnet v7r1)
  . Latest Calo calibration from head-20100531 LHCBCOND tag
  . Improved rejection of R clusters (PatVelo v3r24)
  . Use OT dead strip list in expected hit calculation (TsaAlgorithms v3r21)
  . New hit error estimates for MC (STTools v4r2)
  . New tuning of eta correction (STTools v4r2)
  . Changed precision of OTMeasurement::deltaTimeOfFlight (TrackFitEvent v5r0)
  . Do not reconstruct forward tracks if there are more than 1000 velo tracks
    (PatAlgorithms v4r3)
  . Switch from loose to default PV (RecConf v1r1)
  . Added LumiLowCount FSR (LumiAlgs v3r6)
  . Reduce verbosity of LumiAlgs (LumiAlgs v3r6)
  . New STClusterMonitor histograms (STMonitors v3r2)
  . Added 2D histograms (hit-hot) to OTHitEfficiencyMonitor (TrackMonitors v1r26)
  . New histograms in TrackVertexMonitor and TrackVeloOverlapMonitor 
    (TrackMonitors v1r26)
  . Less verbosity in CondDBEntityResolver (CondDBEntityResolver v5r2)
  . New Cherenkov angle plots for aerogel (RichRecQC v2r42)
  . Book all histos at initialize (MuonPIDChecker v5r2)

- New incompatibility
  . The new default ST hit error estimates applied by STTools are only compatible
    with the corresponding tuning from Boole v21r5

</PRE><H1><A NAME=v37r3>2010-05-26 Brunel v37r3</A></H1><PRE>
 - Changes to references to reflect changes in Brunel v37r3 output:
   . New warning about Ingress/ODIN checks disabled (RichDAQ)
   . Changes to PatVeloSpaceTool and PatVeloTrackTool to improve internal fit in
     the case of half box misalignments (PatVelo)
   . Add a couple new plots to show number of active HPDs per event (RichRecQC)
   . In Expert mode, add monitor for ODIN trigger types (RichRecQC)
   . Latest Rich calibration from head-20100430 LHCBCOND tag
   . Latest OT T0 calibration from head-20100509 LHCBCOND tag
   . New field map from head-20100518 LHCBCOND tag
   . Added MuonTrackMonitor
   . Added PropagateFSRs (LumiAlgs)
   . Add IP plots to TrackMonitor expert options
   . Less verbose handling of errors and warnings (TrackExtrapolators etc.)
   . Fix untested StatusCode in TrackInterpolator
   . Activate monitoring for resolved Pi0 (CaloMoniDst v5r2)
   . New framework for CaloCorrections, parameters taken from CondDB
    (CaloReco v5r5)
   . Improvements to lumi FSR	handling (LumiAlgs v3r5)
   . Improved error handling in case of corrupt raw bank (VeloDAQ v5r2)
   . Bug fix in splitCluster on demand settings (CaloReco v5r5) 

- Changes to tests
  . brunel.brunel-bigevents: 
    o add a big event from run 70122, tests bug #67111
    o add an event from run 71491, tests bug #67364
  . brunel.brunel-mc09-withtruth-invfield.qmt: fix polarity of inverted field, 
    should be Down (MC09 was simulated with Up polarity)

</PRE><H1><A NAME=v37r2p2>2010-05-16 Brunel v37r2p2</A></H1><PRE>

</PRE><H1><A NAME=v37r2p1>2010-05-10 Brunel v37r2p1</A></H1><PRE>

</PRE><H1><A NAME=v37r2>2010-04-29 Brunel v37r2</A></H1><PRE>
- Changes to configurable
  . Add support for SDST

- Changes to options
  . Use consistent DDDB and SIMCOND tags in 2009-FEST-Data.py, following
    change in default 2009 DDDB tag
  . Added example options for 2010 data:
    COLLISION10-Beam3500GeV-VeloClosed-MagDown.py
    COLLISION10-Beam3500GeV-VeloClosed-MagOff.py
    COLLISION10-Beam3500GeV-VeloClosed-MagUp.py

- Changes to tests
  . Add tests on 2010 data:
    brunel.brunel2010magdown - tests also MDF SDST output
    brunel.brunel2010magup   - tests also MDF RDST output
    brunel.brunel2010magoff  - tests also packed DST output
  . Add test on selected big events that caused problems in early 2010 data:
    brunel.brunel-bigevents  - tests also unpacked DST output

- Changes to references to reflect changes in Brunel v37r2 output:
  . New OTTrackMonitor histogram (TrackMonitors v1r24)
  . Bug fix in NeutralProtoP (GlobalReco v6r32p1)
  . Change in parametrisation and some other small changes in PatAddTTCoord 
    (PatAlgorithms v4r1)
  . Turn on suppression of very high occupancy HPDs (>200 hits)
    (RichRecSys v3r29)
  . bug fix for downstream tracks in TrackStateInitTool (TrackTools v3r30)
  . New default database tags (DDDB)
  . Change to MagneticFieldSvc options and printout (Magnet)
  . Add CK theta pull plots (RichRecQC v2r40)
  . Add protection against hot events (TsaAlgorithms)
  . Switch on RZ overlap track finding in backward direction (PatVelo)
  . Fixes to MuonPID Monitoring (MuonPIDChecker v5r1p1)
  . Disable booking of Rich Root Ntuple by default. (RichRecQC v2r40)
  . Convert histos to profiles, add monitoring of decoding errors (RichRecQC v2r40)
  . Improve Aerogel monitoring (RichRecQC v2r40)
  . Add TrackVeloOverlapMonitor (TrackMonitors v1r24)
  . Add 4 histos, 2 profile plots to TrackFitMatchMonitor (TrackMonitors v1r24)

</PRE><H1><A NAME=v37r1>2010-04-15 Brunel v37r1</A></H1><PRE>
- Changes to Configurable
  . Use named instance of RichRecQCConf (Same as in RecSys)
  . Propagate "Simulation" property to RecSys (for use by RichRecSysConf)
 
- Changes to tests
  . Edited global/local db to follow new CondDB configurable
  . Edited brunel-mc09-withtruth to follow RichRecQCConf change
  . Edited brunel-mc09-mctruth-withfield to follow change in MagneticFieldSvc

- Changes to references to reflect changes in Brunel v37r1 output:
  . Add protection against large events (RichRecBase v3r29)
  . Make the Functional CK theta resolution tool the default for Offline
    reconstruction (RichKernel v7r33)
  . Reorganisation of CaloPID monitoring (CaloMoniDst v5r0)
  . MuonPIDChecker looks at Dowstream tracks also in OffllineFull mode
    (MuonPIDChecker v5r1) 
  . ST noise taken from conditions (STMonitors v3r0)
  . Add multiplicity histo to TrackMonitor (TrackMonitors v1r23)
  . Make check on track type before processing in IT/TTTrackMonitor which
    removes all errors from extrapolator (and reduced CPU by factor >10)
    (TrackMonitors v1r23)
  . New earlyData tuning of PatDownstream (PatAlgorithms v4r0)
  . Added protection against huge Velo events (VeloDAQ v5r0)

</PRE><H1><A NAME=v37r0>2010-03-29 Brunel v37r0</A></H1><PRE>
- Changes to Configurable
  . Add cleaning of PID information from charged ProtoParticles before saving
    to (r)DSTs.
  . Follow changes in MuonPIDChecker configurable

- Changes to tests
   . Pick up histogram setting options from AppConfig
   . Added three new tests, fixedfile-brunel2009-*, for reprocessing 2009 data
     o fixeddb: with some arbitrary database
     o globaldb: with the latest database global tags
     o localdb: with the latest database local and global tags
   . Update exclusions from comparisons with reference to exclude also:
     o Rich refractive index updates on Online DB
     o LHCBCOND connection strings for local tags (needed for new localdb test)
     o Warnings about total memory of event exceeding 3*sigma

- Changes to references to reflect changes in Brunel v37r0 output:
   . Printout APE values from STOfflinePositionTool (STTools v3r17)
   . Suppress warning message about empty HPD data blocks
     (RichRecBase v3r27p1)
   . Minor changes to monitoring output (RichRecQC v2r37p1)
   . Fixed small bug in PrimaryVertexChecker (PatChecker v3r7)
   . Add support for below Threshold Rich PID type (various Rich packages)
   . Restructure Calo configurables (CaloPIDs v5r5, CaloReco v5r4)
   . Add NeutralPIDs Calo PID sequence (CaloPIDs v5r5)
   . Changes to Calo monitoring (add ProtoElectronMon, remove 
     EcalSplitClusterMon, less verbose initialization) (CaloMoniDst v4r4)
   . Modification to structure of PV fit tools (PatPV v3r14)
   . Enable CondDB by default in CaloID2DLL (CaloPIDs v5r5)
   . Fix non-reproducible processing in CaloSharedCellAlg (CaloReco v5r4)
   . PatVeloTT pattern recognition bug fix (PatVeloTT v3r11)
   . Verbosity changes in bankKiller (DAQUtils v1r2)
   . New default LHCbCond tag for 2009 and 2010 data (DDDB v1r29)
   . Add Muon, Rich PID and combined DLL to ProtoParticle (for monitoring) and
     remove again before writing out (GlobalReco v6r32, Brunel)
   . Additional track monitoring histograms, disable most histograms in Online,
     move some histograms to Expert (TrackMonitors v1r22)
   . New early data tuning for Seed tracks (TsaAlgorithms v3r17)
   . Update of ST measurement uncertainty tuning (Tracksys v4r31)
   . Use detailed Bethe Bloch dE/dx tool as default in fit
     (TrackExtrapolators v2r26)
   . Made Velo dEdx parameters in TrackVelodEdxCharge load from conditions
     (TrackTools v3r28) - new normalisation in SQLDDDB v5r23
   . Cleanups in MuonPIDChecker (MuonPIDChecker v5r0)
   . Less verbosity in TrackMasterFitter initialisation (TrackFitter v2r46)
   . Less verbosity in TrajOTProjector initialisation (TrackProjectors v2r27p1)
   . Fixed bug 64670, changed default data type in configuration files to 2009
     (MuonID v7r8)
   . Add RichHPDImageShifts monitoring sequence (RichRecQC v2r38)

</PRE><H1><A NAME=v36r2>2010-02-26 Brunel v36r2</A></H1><PRE>
 - Changes to Configurable: 
   . Update Histogram slot to support new levels of Histogramming  - "None",
     "Online", "OfflineExpress", "OfflineFull" and "Expert". Note that these
     levels are now case sensitive.

 - Changes to tests
   . Update RichRecQC options in mc09-withtruth and mc09-withtruth-invfield tests
   . In brunel-fest09.qmt, test also Brunel().Histograms="Online";
   . In brunelmdfrdst.qmt, test also Brunel().Histograms="OfflineExpress";
   . In brunel-mc09-stripping.qmt, test also Brunel().Histograms="None";
   . In all tests, ignore changes in magnetic field map scale factor or
     polarity (initial value depends on "now" value in latest online snapshot)

 - Changes to references to reflect changes in Brunel v36r2 output:
   . Less info() at initialize step (PatVelo v3r20)
   . Change track fit convergence criteria and increase max number of 
     iterations from 3 to 10 (TrackFitter v2r45)
   . Changed default value of UpdateTransport to true (TrackFitter v2r45)
   . Reduce default set of RichENN histograms (RichRecQC v2r37, RichRecSys v8r2)
   . Reduce default set of OT histograms (TrackMonitors)
   . Moved some info messages to debug; improved error reports for RK
     (TrackExtrapolators v2r25)
 
</PRE><H1><A NAME=v36r1>2010-02-18 Brunel v36r1</A></H1><PRE>
 - Changes to Configurable: 
   . Remove OTTimeCreator from CheckOTSeq, no longer needed (task 12674)
   . Changed default DataType to 2010

 - Changes to tests:
   . Modify brunel-cosmics.qmt to add a test of writing unpacked DST
   . Do not run mc09-withtruth-invfield test if mc09-withtruth has failed
   . In mc09-withtruth and mc09-withtruth-invfield tests, switch off Rich
     trackless ring monitoring since some differences are expected due to wrong
     magnetic field corrections in the invfield case

 - Changes to references to reflect changes in Brunel v36r1 output:
   . Change in aerogel CK theta range (RichRecBase v3r26, RichRecQC v2r36)
   . Updates to SpdMonitor, add histograms in CaloEMuMonitor (CaloMoniDst v4r4)
   . New Pixel Cluster monitor, remove MC related printout (RichRecQC v2r36)
   . New histogram per radiator for raw expected CK theta distn (RichRecQC v2r36)
   . Changes to Rich Alignment histos (RichRecQC v2r36)
   . Bug fix in TrackV0Utils (TrackUtils v1r34)
   . Added profiles to OTHitEfficiencyMonitor and histograms to OTEffMonitor,
     OTTrackMonitor (TrackMonitor v1r20)
   . MuonID parameters can now be read from database (MuonID v7r7)
   . Made MuonID MC09 configuration the default (same as 2009) (MuonID v7r7)
   . TrackMuonMatchMonitor added to MoniTrSeq (TrackMonitor v1r20)
   . Muodified ST cluster monitor (STMonitors v2r4)
   . New parameterisation in PatAddTTCoord (PatAlgorithms v3r29)
   . Changes to RichHPDHotPixelFinder (RichTools HEAD)
   . Move some info messages to debug (TrackExtrapolators v2r24p2)
   . Vertex shifts now measured with respect to MC position (PatChecker v3r6)
   . New default database tags for 2009 (DDDB v1r28)
   . Add LumiLowFSR (LumiAlgs)
   . Move all decoding and clustering to the start of the tracking sequence
     (TrackSys v4r30)
   . Improvements in TrajOTProjector (TrackProjectors v2r27)
   . Use RungeKutta extrapolator instead of HeraB (CaloPIDs v5r4)
   . Disabled Rich 2D IFB hit maps (RichRecQC v2r36)
   . Add PatPVVeryLoose.py for the tuning on 2009 data (RecSys v8r1)
   . Latest earlyData tuning for PatDownstream & PatForward (PatAlgorithms v3r29)
   . Additional ST cluster monitor expert histos (STMonitors v2r4)
   . Detailed hardware consistency check of L0TCK (L0DU v10r2)

</PRE><H1><A NAME=v36r0>2010-01-26 Brunel v36r0</A></H1><PRE>
 - Changes to requirements
   . Use ParamFiles v8r2

 - Changes to Configurable: 
   . Do not write NanoEvents to DST by default (task 12940). Can be
     switched on by setting Brunel().WriteLumi = True
   . If not writing NanoEvents, do not run dummy DST packers
   . LumiFSR creation done only if input are MDF events
   . Pass DataType DstConf (who propagates it to SimConf). Fixes bug 60636
   . New option RawBanksToKill: removes banks from RawEvent so they are not
     seen by the reconstruction and not copied to DST. Default is empty list,
     except if DataType is "2009", when ["VeloFull", "L0PUFull"] are removed.

 - Changes to tests:
   . Use correct magnet polarity in mdfrdst test
   . Added brunel-fest09-olddddb to check if bug 59544 re-appears
     runs the Fest09 data with an old dddb tag. Segfaults in v35r8.

 - Changes to example options
   . 2009-Collisions.py no longer sets Brunel().UseOracle, no longer needed for
     the 2009 data.

 - Changes to references to reflect changes in Brunel v36r0 output:
   . New counters in DST packer algorithms (EventPacker v2r2)
   . New RichCKRes 2D plots (RichRecQC v2r35)
   . Production of TimeSpanAccounting FSR (LumiAlgs v3r2)
   . Fix to GaudiPoolDB to enable file sharing in FileRecordCnvSvc (Gaudi v21r7)
   . Fix DeSTSector::cacheInfo (STDet v4r16)
   . Protect against accessing ONLINE CondDB with invalid times (DetCond v12r9)
   . Improved handling of Veol tracks across half boxes (PatVelo v3r19)
   . New histograms in Rich alignment monitors (RichRecQC v2r35)
   . Now using online Rich gas temperature & pressure conditions (SQLDBDB v5r18)
   . New online snapshot changes initialisation values for Magnet (SQLDBDB v5r18)
   . Improved printout of L0DU configuration when re-running L0 trigger (L0DU)
   . New L0DUReportMonitor monitoring histograms and improved printout (L0DU)
   . Looser photon preselection cuts in Rich reco for first data (RichRecSys v3r25)

</PRE><H1><A NAME=v35r11p2>2010-01-20 Brunel v35r11p2</A></H1><PRE>
Version built on v35r11b branch

 - Changes to references to reflect changes in Brunel v35r11p2 output:
   . Fix DeSTSector::cacheInfo (STDet v4r16)
   . New CondDB default tags (DDDB v1r27)

</PRE><H1><A NAME=v35r11p1>2010-01-19 Brunel v35r11p1</A></H1><PRE>
Version built on v35r11b branch

 - Changes to example options
   . 2009-Collisions.py no longer sets Brunel().UseOracle, no longer needed for
     the 2009 data.

 - Changes to QMTests
   . Make QMTest exclusion for changes in path to CondDB files more robust
     (same as fix to GaudiConf v13r3 on head branch)

</PRE><H1><A NAME=v35r11>2009-12-15 Brunel v35r11</A></H1><PRE>
 - Changes to example options
   . Add earlyData switch to 2009-BeamGas.py and 2009-Collisions.py
     (Needs AppConfig v3r28)

 - Changes to tests
   . brunelmdfrdst test now processes 2009 collisions data file. Tests both the
     2009 data processing and the mdf pack type

 - Changes to references to reflect changes in Brunel v35r11 output:
   . Added more histograms to TrackMonitor (TrackMonitors v1r18)
   . TrackV0Finder now skips V0 search if PV not reconstructed (TrackUtils v1r32)
   . Downstream track efficiency now checked also if Velo open (TrackSys v4r29)

</PRE><H1><A NAME=v35r10p1>2009-12-07 Brunel v35r10p1</A></H1><PRE>
 - Changes to example options
   . In options/2009-Collisions.py:
     + Add importOptions("$APPCONFIGOPTS/Brunel/allTracksProtoP.py"), additional
       options to make ProtoParticles for all track types (Brunel default is just
       [ "Long", "Upstream", "Downstream"]
     + Add importOptions("$APPCONFIGOPTS/Brunel/richLooseTrackCuts.py"), 
       additional options loosen Rich track selection in early data
     + Add importOptions("$APPCONFIGOPTS/UseOracle.py"), to use Oracle CondDB
     + Update example file to collisions data with all detectors included

</PRE><H1><A NAME=v35r10>2009-12-01 Brunel v35r10</A></H1><PRE>
 - Changes to tests
   . Update Brunel exclusions file to skip comparisons of geometry overlap
     coordinates (but still check that number of overlaps is unchanged)
 
 - Changes to references to reflect changes in Brunel v35r10 output:
   . Improved comparison of floating point numbers (DetDesc v18r17)

</PRE><H1><A NAME=v35r9p1>2009-11-24 Brunel v35r9p1</A></H1><PRE>
 - Changes to example options
   . Add options/2009-Collisions.py: example options for 2009 collisions data

 - Changes to references to reflect changes in Brunel v35r9p1 output:
   . Bug fix to use of ScaleFactor option in MagneticFieldSvc (Magnet v5r5)

</PRE><H1><A NAME=v35r9>2009-11-23 Brunel v35r9</A></H1><PRE>
 - Changes to example options
   . Add options/2009-BeamGas.py: example options for 2009 beam gas events
     (needs AppConfig v3r22)

 - Changes to tests
   . fixedfile tests added, the file used is coded into the tests, and all boole
     v19r8 file types are tested
   . fixedfile-boole-v19r8-2009-digi-extended-spillover
	 . fixedfile-boole-v19r8-2009-digi-extended
   . fixedfile-boole-v19r8-2009-digi
   . fixedfile-boole-v19r8-2009-mdf
   . Do not fail tests if "Delta Memory for the event exceeds 3*sigma"

 - Changes to references to reflect changes in Brunel v35r9 output:
   . New VeloTrackMonitor histograms (VeloRecMonitors v2r3)
   . Change to printout of track fitter names (TrackFitter v2r40)
   . OTTimeMonitor added to MoniOTSeq (TrackMonitors v1r16)

</PRE><H1><A NAME=v35r8p1>2009-11-22 Brunel v35r8p1</A></H1><PRE>
 - No changes in Rec/Brunel relative to v35r8

</PRE><H1><A NAME=v35r8>2009-11-17 Brunel v35r8</A></H1><PRE>
 - Changes to Configurable:
   . Replace CaloAssociators.opts DataOnDemandSvc options with explicit
     sequencing of Calo truth associators when running Calo checkers.
   . Adapt to changes in GaudiConf v12r10, EventPacker v1r9, PackedEvent v3r7
   . Use "AlwaysCreate" option of DstConf to create empty packed DST objects if
     input containers are missing (in particular for Lumi event case)
   . New option "ProductionMode", special settings for running in production,
     replaces "NoWarnings" option (kept for backward compatibility)
   . Adapt luminosity configuration to run on raw files only. 
     Luminosity tracking has no meaning on an ETC.

 - Changes to options 
   . Modify Brunel-Cosmics.py to follow changes in TrackSys v4r27
   . Remove also obsolete Rich options from Brunel-Cosmics.py

 - Changes to tests
   . brunel-fest09 test updated to test also Brunel().ProductionMode option
   . new test readdstfsr.qmt, checks that brunel-fest09 has written an fsr

 - Changes to references to reflect changes in Brunel v35r8 output:
   . Changed VeloTrackMonitor histograms (VeloRecMonitors v2r3) 
   . Changed TrackMonitor histograms (TrackMonitors v1r15)
   . Introduction of CaloDigitConf (CaloDAQ v4r15, CaloReco v5r3)
   . Made MagnetTool aware of field updates (PatVeloTT v3r9)
   . ProtoParticle no longer has Muon and Rich DLL ExtraInfo (GlobalReco v6r28)
   . New TrackCaloMatch monitoring (TrackSys v4r27, TrackMonitors v1r15)
   . New plots in OTTrackMonitor (TrackMonitors v1r15)
   . OdinTypesFilter replaced by LoKi::ODINFilter (LumiAlgs v2r4)
   . Suppress warnings about lost banks (STDAQ v3r20)
   . Changes to Lumi counters sequence (LumiAlgs v2r3)
   . Introduction of ConfiguredFitSeed (TrackFitter v2r39)
   . Introduction of TrackAlignMonitor and TrackOccupChecker

</PRE><H1><A NAME=v35r7>2009-10-23 Brunel v35r7</A></H1><PRE>
 - Changes to Configurable:
   . Fix for ETC input (was missing definition of EvtTupleSvc)
   . Allow users to explicit set empty sequences
   . Set context of top level sequence to value of "Context" property
   . Add support for Lumi events:
     o New LumiSeq sequence runs if input is real data in MDF or ETC format
     o LumiSeq runs immediately after initialisation, filters on Hlt routing bits
     o All phases other than "Init" and "Output" moved into a "PhysicsSeq"
       sequencer and run only if physics routing bit is set
     o Calo bank unpacking moved from Init phase to first algorithm of PhysicsSeq
     o Dummy DSTPacker sequence is run if physics routing bit is not set, to
       create empty containers for the events output file
   . Bug fix: production of Lumi FSR now done also when input is from ETC
     (was MDF only)
   . Move configuration of Monitoring phase to RecMoniConf configurable
     (RecSys v35r7)
   . Brunel().MoniSequence option removed, now a property of RecMoniConf

 - Changes to example options:
   . Replace usage of obsolete Brunel().NoWarnings option with 
     Brunel().OutputLevel
   . Add options/2009-FEST-Data.py, datafile containing lumi events
   . Add options/Brunel-MC09Stripping.py, to reconstruct MC09 stripping FETC

 - Changes to references to reflect changes in Brunel v35r7 output:
   . Introduction of Runge Kutta as default extrapolator
     (TrackExtrapolators v2r24)
   . Fix untested StatusCodes
     (GlobalReco v6r27, RichRecMCTools v2r25p1, RichRecMonitors v2r4)
   . Fix of nDoF in Muon fit (MuonID v7r2p1)
   . New Rich ring search monitor (RichRecQC v2r34)
   . Fix to CaloPID monitor initialisation (CaloMoniDst v4r1)
   . Reduced CaloPIDs verbosity (CaloPIDs v5r1p1)
   . Reduced warnings (RichGlobalPID v3r10p4)
   . New handling of Calo Raw bank decoding (CaloDAQ v4r14)
   . Improvements to PatDownstream (PatAlgorithms v3r23). See T-Rec 2009-09-28
     http://indico.cern.ch/getFile.py/access?contribId=3&resId=0&materialId=slides&confId=48029
   . Deploy new ghost algorithm TrackAddNNGhostId, replaces NeuralNetTMVA
     (TrackSys v4r26, TrackTools v3r22, TrackUtils v1r30)
   . HPD hot pixel finder is no longer an algorithm, now a generic tool called
     by dedicated instance of HPDAnalysisAlg algorithm (RichRecQC v2r34)
   . Added OTEfficiencyMonitor and OT pitch residual plots. OT monitors now run
     in dedicated sequence (TrackMonitors v1r14)
   . Rich alignment histograms now booked by default! (RichRecQC v2r34)
   . New memory histograms and counters (LHCbAlgs v2r29)
   . Removed cut on hot sectors when using VELO lite clusters (PatVelo v3r18)  
   . Added extra extrapolator to TrackMasterFitter for velo-only tracks
     (TrackFitter v2r38)
   . Changes to VeloTrackMonitor histograms. VeloTrackMonitor histograms now
     booked at initialise (VeloRecMonitors v2r2)

 - Changes to tests:
   . Adapt valgrind.job to use gaudirun.py, uses python suppressions file from
     STDOPTS (needs GaudiConf from v12r9)
   . Add brunel-fest09.qmt, to test a datafile containing lumi events
   . Add brunel-mc09-stripping.qmt, to test reconstruction of MC09 stripping FETC
   . Use more recent input file for DC06 test

</PRE><H1><A NAME=v35r6>2009-09-09 Brunel v35r6</A></H1><PRE>
 - Changes to Configurable:
   . Add ProtoParticle monitor sequence.
   . Allow RICH expert histograms to be enabled when running without MC
   . Use CaloMoniDstConf configurable for Calo monitoring
   . Add CALO to KnownExpertCheckSubdets

 - Changes to references to reflect changes in Brunel v35r6 output:
   . fix to duplicate creation of PatVelo hit manager tools
   . all Rich monitors booked at initialisation
   . MagneticFieldSvc now uses a MagneticFieldGrid object
   . Reorganisation of Track fitting and extrapolation
   . Changes to ExtraInfo handling on tracks
   . Reorganisation of Calo sequences in new Calo configurable
   . Reorganisation of ProtoParticle sequence
   . Addition of RichHotPixels monitor
   . Addition of ProtoParticle monitor sequence.
   . New STClusterMonitor histograms

 - Changes to tests:
   . Exclude printout of MuonID version from QMTest log file comparisons
   . Move exclusion of transport service exceptions from individual tests to
     BrunelExclusions.py

</PRE><H1><A NAME=v35r5>2009-07-30 Brunel v35r5</A></H1><PRE>
 - Changes to requirements
   . Use AppConfig v3r*

 - Changes to example options files
   . Include options from AppConfig when possible

 - Changes to references to reflect changes in Brunel v35r5 output:
   . Velo tracking protection for hot events
   . New tune of Velo tracking chi2 cut
   . Fix to Muon configuration for real and cosmics data
   . Fix to bug in TrackMasterFitter affecting fit initialisation
   . Changes in track fit initialization
   . Suppression of Rich MC lookup in case when simulation is switched off
   . Improvements to Rich monitoring
   . Changes to Velo track monitoring

</PRE><H1><A NAME=v35r4>2009-07-14 Brunel v35r4</A></H1><PRE>
 - Changes to Configurable:
   . Change default DataType to "2009"
   . Configure MuonPIDChecker using configurable

 - Changes to example options files
   . 2008-Cosmics-Data.py now sets 2008 DataType
   . Fix DataType in Brunel-MC09-*.py, was using default value, not "MC09"

 - Changes to references to reflect changes in Brunel v35r4 output:
   . Updated Chi square cut in PatVelo internal fit
   . Changed BXType names in ODIN
   . ST Monitor histos now all booked at initialize
   . Charged ProtoParticles not made for Velo and Ttrack track types
   . Additional VeloTrackMonitor histos
   . Change tuning for Tsa and Match
   . Print B daughters, Ks, Lambda in TrackChecker
   . Changes to MuonID, MuonPIDChecker, ChargedProtoPAlg

</PRE><H1><A NAME=v35r3>2009-07-02 Brunel v35r3</A></H1><PRE>

 - Changes to Configurable:
   . Add Brunel().OutputLevel property to allow overall control of the printout
     levels. This property is propagated to other Configurables and (partly)
     obsoletes the NoWarnings property, but it is still needed for backwards
     compatibility with Dirac.

 - Changes to references to reflect changes in Brunel v35r3 output:
   . New RawEventSelectiveCopy algorithm
   . New tuning of PatVelo internal fit
   . New handling of ONLINE database snapshot for DC06

</PRE><H1><A NAME=v35r2>2009-06-18 Brunel v35r2</A></H1><PRE>

 - Changes to Configurable:
   . Cleanup configurable for reprocessing case
   . Update for running with ETC input, for FEST stripping use case
   . Improve handling of NoWarning functionality
   . Propagate InputType option to LumiAlgsConf

 - Changes to references to reflect changes in Brunel v35r2 output:
   . Addition of Downstream tracking in fieldOff case
   . Addition of TrackDiMuonMonitor and RichRawDataSize monitors
   . Addition of Muon Hits histograms in TrackMonitor
   . Improvements to ring finding in Rich
   . Updates to Rich track selection
   . Improved Rich MC based trackless ring monitoring plots 
   . In Best container, only Long tracks are now checked
   . Fix in event sizes reported by Rich decoding tools

 - Changes to options
   . Remove obsolete DefineETC.opts, Brunel never writes an ETC

</PRE><H1><A NAME=v35r1>2009-06-03 Brunel v35r1</A></H1><PRE>

 - Changes to Configurable:
   . Add Brunel().OutputType = "XDST"

 - Changes to references to reflect changes in Brunel v35r1 output:
   . Addition of Rich ENN ring finder
   . New Rich track selection efficiency monitoring
   . Fixes to RichMarkovRingFinder
   . PatSeedTool fit initialization bug fix
   . Change in ST Monitor names and additional histograms
   . Addition of RichOfflineGPIDSeq as wrapper to existing GPID sequences
   . Fix to Rich particle type names
   . Fix to CaloPID platform dependence
   . Fixes to Calo precision problems

 - Changes to tests:
   . Add QMTest brunel-mc09-withtruth-invfield, same as brunel-mc09-withtruth but
     with inverted magnetic field, to check identical output
   . Add a python module Brunel/QMTest/BrunelExclusions.py containing a QMTest
     preprocessor that can be given to the QMTest ValidateWithReference function
     to exclude lines expected to change in the QMTest output. Use it in all the
     .qmt files

</PRE><H1><A NAME=v35r0>2009-05-13 Brunel v35r0</A></H1><PRE>

 - Changes to Configurable:
   . Adapt for correct inclusion of units.opts following removal of include from
     CaloMoniDst options
   . Use FileRecordSvc instead of RunRecordSvc, for Gaudi v21

 - Changes to references to reflect changes in Brunel v35r0 output:
   . Changes to OT track monitoring
   . Changes to STClusterPositionTool
   . Addition of RichHPDIonFeedback Check sequence
   . Addition of CaloDigiGetter to RecoCALOSeq
   . Addition of CaloEFlowAlg sequencer to MoniCALOSeq, with EcalEFlowAlgo
   . Addition of CaloPIDMon algorithm to CaloPIDsMon sequence
   . Addition of Long track monitors to RichPIDMoni
   . Addition of RichStereoFitterTests to RichExpertChecks
   . Additional histograms in TrackVertexMonitor
   . Fix to untested StatusCode in AlgTool::monitorSvc (Gaudi v21)
   . fix in Rich StatusCode check in case of exceptions
   . Changes in tuning of PatVelo tracking
   . Changes in printout of OdinTypesFilter
   . Extra histograms in TrackMonitor

</PRE><H1><A NAME=v34r7>2009-05-26 Brunel v34r7</A></H1><PRE>
Version built on v34b branch
This version uses projects Gaudi v20r4, LHCb v26r3, Lbcom v6r27, Rec v6r6
 and SQLDDDB v5r3, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a production version for the 2009 MC production. 
Output requires DaVinci v22r1 or greater

 - New features
   . New option Brunel().DstType = 'XDST', adds MCHits to MC DST
     (Brunel v34r7, GaudiConf v12r3)

 - Bug fixes
   . Make sure that no hits are rejected in the internal fit in the fit
     initialization tool (PatAlgorithms v3r21). Fixes very infrequent crash in
     FEST09 reconstruction

</PRE><H1><A NAME=v34r6>2009-05-11 Brunel v34r6</A></H1><PRE>
Version built on v34b branch
This version uses projects Gaudi v20r4, LHCb v26r3, Lbcom v6r27, Rec v6r6
 and SQLDDDB v5r3, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a production version for the 2009 MC production. 
Output requires DaVinci v22r1 or greater

 - Bug fixes
  . In PatForward prevent from overwriting selected hits flags
    (PatAlgorithms v3r19). Fixes infrequent crash in MC09 test production
  . In PatForward, use scale factor from magnetic field service in PatAddTTCoord,
    code was assuming md100 (PatAlgorithms v3r20).
  . In TrackMatchveloSeed, change default for OmitSeedFitOutliers switch to false
    (TrackMatching v2r21p2). Fixes frequent crashes in MC09 test production

</PRE><H1><A NAME=v34r5>2009-04-22 Brunel v34r5</A></H1><PRE>
Version built on v34b branch

 - Changes to references to reflect changes in Brunel v34r5 output:
   . Make PatSeedFit safe against unreasonable track input

</PRE><H1><A NAME=v34r4>2009-04-20 Brunel v34r4</A></H1><PRE>
Version built on v34b branch

 - Changes to Configurable:
   . Only set IODataManager().AgeLimit = 0 if the option has not been previously
     set. Allows more user control over this setting.

 - Changes to Tests:
   . Fix valgrind.job for new lbLogin environment

 - Changes to references to reflect changes in Brunel v34r4 output:
   . Bug fix to track fit initialisation, to take into account OT tilt

</PRE><H1><A NAME=v34r3>2009-04-09 Brunel v34r3</A></H1><PRE>
 - Changes to requirements:
   . Add dependency to AppConfig v2r*, to pick up options for production
   . Add explicit use CASTOR from LCG_Interfaces for QMTests
   . Use ParamFiles v8r1 (for MC09 Calo PIDs pdf)

 - Changes to Configurable
   . Bug fix: use RunRecordStream for writing FSR, not OutputFSRStream
     (was writing one FSR per event!)
   . Remove UseOracle option of Configurable, use DetCond() directly
   . Pass DataType to L0Conf() and RecSysConf()
   . Add DigiType option, for saving Minimal MC truth 

 - Changes to Tests:
   . No longer disable FPE check for MergedPi0Rec, now fixed
   . Add event time printout to brunel-2008-MC test
   . Remove obsolete DQ directory
   . Replace brunel-2008-mc test with brunel-mc09-withtruth, brunel-mc09-notruth

 - Changes to references to reflect changes in Brunel v34r3 output:
   . New track fit initialisation, SimplifiedMaterialLocator now a private tool
   . New tuning for MuonPID, Calo, Velo dE/dx
   . Monitoring changes in Calo, OT, Vertex
   . Fix to untested StatusCode in LHCbIDsToMCParticles, TrackGhostClassificationBase
   . Fix to FPE in PatDownstream

 - Changes to options:
   . Add MC09-Files.py: example files of MC09 data
   . Add Brunel-MC09-WithTruth.py: MC09 simulation checking and saving MC Truth
   . Add Brunel-MC09-NoTruth.py: MC09 simulation without checking or saving MC Truth
   . Remove Copy.opts, use instead $STDOPTS/PoolCopy.opts
   . Remove 2008 MC example files: 2008-Files.py, Brunel-2008-MC.py, 
     Brunel-2008-MC-VeloOpen.py, Brunel-2008-MC-BOff-VeloOpen.py

</PRE><H1><A NAME=v34r2>2009-02-25 Brunel v34r2</A></H1><PRE>
 - Changes to configurable:
   . Add EventCountHisto in init sequence. 
   . Remove OT expert monitoring: OTTimes no longer made in Brunel, so pointless
     to run OTTimeMonitor 
   . Activate LumiFSR creation for MDF files
   . Create FSR output stream and enable FSR writing by default
   . Pass "WithMC" option to RichRecQCConf() if RICH in MCCheckSequence.
   . Improve documentation of options
   . Fix default histogram file name when one is not given in options
   . Add "pRec" to nodes to be killed when reprocessing from DST etc.
   . Set histo name and directory for MemoryTool
   . Adapt to latest DstConf changes
   . Protect against missing #units when Calo not in monitoring sequence

 - Added QTMests for DC06, 2008 real data and simulation, cosmics. Also:
   . Extend timeout period to 1200 seconds
   . Add to brunel-2008-mc QMTest testing of expert histos and RecL0Only flag.
     Increase tested events to 15 for this test, to have some L0 fails....
   . Add FPE checking
   . Add a QMTest for initialisation with MDF writing

 - Changes to references to reflect changes in Brunel v34r2 output:
   . Changes in MuonPID, Rich and Velo monitoring
   . Fix to Velo track fit
   . Removal of OTTimeCreator
   . Add refs also for slc4_ia32_gcc34_dbg, needed after fixes to Velo and Calo
   . Changes to MuonID
   . Changes to OTDAQ warning messages
   . New algorithm to pack V0s
   . Fix to untested StatusCodes in VeloMonitor, TrackMatchVeloSeed, OTDAQ

</PRE><H1><A NAME=v34r1>2009-01-14 Brunel v34r1</A></H1><PRE>

 - Changes to configurable:
   . Use new DstConf configurable to set up DST/RDST content. 
   . Enable packed DST/RDST by default (not for DC06).
   . Include MuonPIDChecker .py options instead of .opts
   . Include $ASSOCIATORSROOT/options/MCParticleToMCHit.py instead of Brunel.opts
   . Properly pass ["Context","DataType"] options to RichRecQCConf in all cases.
   . Remove ExpertTracking option, should be set directly in TrackSys
   . Do not stop if unknown sub-detector added to Moni or Check sequences, just 
     issue a warning
   . Set Context to all phases, default is "Offline"
   . Cleanup handling of monitoring and checking in configurable
   . Add expert checking options from ExpertCheck.opts (obsoleted). Remove Rich
     monitoring options, now handled by RichRecQC configurable
   . Make the expert checking respect the settings of the Check & Moni sequences
   . Remove inclusion of PatChecking sequence, now done in TrackSys(). 
     Set instead "WithMC" option of TrackSys()
   . Add ProtoParticle expert monitoring (not run in default Expert check)
 - Add explicit setting of database tags to options/*-Files.py
 - Remove obsolete DstContent.opts, rDstContent.opts, ExpertCheck.opts
 - Remove BrunelMessage.opts, BrunelMoni.py (now done in Configurable)
 - Add to NewCatalog.xml the description of the sim file used to generate the
   default 2008 .digi, needed by tracking expert checks
 - Fix obsolete option in Brunel-2008-*-VeloOpen.py

</PRE><H1><A NAME=v34r0>2008-11-26 Brunel v34r0</A></H1><PRE>
 - Many backward incompatible changes to Configurable:
   . Adapt to configuration changes in Gaudi v20r3. Incompatible with Gaudi v20r2
   . Most option names are changed. In particular:
     + All option names are Capitalized
     + New DataType option, removes need to set CondDBtag and DDDBtag if using
       default tags
     + New option UseSimCond that allows to use WithMC = False on digi files,
       while still using SimCond
   . applyConf() renamed __apply_configuration__ and called automatically
 - New functionality in Configueable:
   . New option UseSimCond that allows to use WithMC = False on digi files,
     while still using SimCond
   . Added ST monitoring
   . Improvements for easier cosmic reconstruction
 - Changes to options files
	 . Adapt to changes in configurable, in particular:
     + Adapt to option name changes
     + Remove Brunel.applyConf() everywhere
     + Default names for output files now set inside configurable
   . Add Brunel-Cosmic.py and 2008-Cosmic-Data.py files.
   . Update SuppressWarnings.opts
 - In valgrind.job, use latest gaudirun.py options to extract .opts file
 - Use ParamFiles v8r0
 - Remove Brunel.exe

</PRE><H1><A NAME=v33r3p1>2008-10-15 Brunel v33r3p1</A></H1><PRE>
 - Adapt valgrind.job for use on interactive LSF.
 - Adapt valgrind.job and Brunel_Ganga.job for use without version directory
 - Add Brunel-2008-MC-VeloOpen.py and Brunel-2008-MC-BOff-VeloOpen.py
 - Rename Brunel-2008-Stripping.py to Brunel-Stripping.py 
 - Rename Brunel-2008-Rdst.py to Brunel-Rdst.py
 - In Brunel-2008.py, set magnetic field off by default
 - In Brunel() configurable, for veloOpen case, switch off PatChecking for VeloRZ
   and Downstream track types, since these are not produced in this case
   (this logic should be moved to TrackSys)

</PRE><H1><A NAME=v33r3>2008-10-13 Brunel v33r3</A></H1><PRE>
 - Add 2008-TED-Data.py, options for 2008 real data processing
 - Reorganise Configuration.py, remove Brunel.opts and Brunel().mainOptions
 - Clean up DDDB intialisation in Configurable, needs GaudiConf v10r13
 - Replace BrunelMoni.opts wih BrunelMoni.py, add Track Moni sequence
 - New PatChecking sequence, uses TrackAssociators, TrackResCheckers,
   TrackEffCheckers instead of PatTrack2MCParticle and PatChecker
 - Add Muon histograms to Moni sequence
 - Fix default options in Brunel_Ganga.py for consistency with new defaults
 - Use ParamFiles v7r3, do not set DDDB major version (taken from LHCbSys)
 - Update SuppressWarnings.opts

</PRE><H1><A NAME=v33r2>2008-09-09 Brunel v33r2</A></H1><PRE>
 - Reorganisation of options and defaults
  + Default setting in Configurable is now for real data, MDF file, default
    2008 geometry (Brunel-Default.py)
  + New files 
    . Brunel-2008-MC.py   (MC with default 2008 geometry)
    . Brunel-2008-Rdst.py (RDST production from 2008 MDF real data)
    . Brunel-2008-Stripping.py (DST production from 2008 real data ETC)
    . Brunel-DC06.py      (Standard DC06 reconstruction)
  + Updated files to take into account new defaults:
    . Brunel-2008.py      (Real data, MDF, 2008 geometry)
    . Brunel-DC06L0Rdst.py, Brunel-DC06Rdst.py,  Brunel-DC06Stripping.py
 - Added an example MDF file (TED data taken 20080906) to 2008-Files.py

 - Changes to python Configurable
  + Use new RecSys Configurable
  + Add option printFreq to allow control over the event printing frequency
  + Add options to allow the various sequences to be modified. Allows, for 
    instance, sub-detectors to be disabled for specialist studies.
  + Use new Configurable base class in LHCbKernel (shares some methods)
  + Check sequence is now completely defined in Configuration.py. The files
    BrunelMC.opts, BrunelCheck.opts are obsolete and have been removed
  + Rich monitoring uses new RichRecQCConf configurable. Uses the Check sequence
    when MC is enabled and the Moni sequence when it is not. 
  + Add some doxygen comments

 - BrunelMoni.opts : add velo monitoring options.
 - SuppressWarning.opts : updated for latest changes

</PRE><H1><A NAME=v33r1>2008-07-30 Brunel v33r1</A></H1><PRE>
 - Changes to Configurable:
   . Load the HepMCBack Dll for DC06 data (HepMC 1.26 compatibility)
   . Add a useOracleCondDB flag (default False: uses SQLDDDB)
   . Add setOtherProp function to propagate properties to another configurable
   . Adapt to new TrackSys configurable
 - In 2008-Files.py, update to an example file produced with Boole v16r1
 - Adapt valgrind.job to work with python options

</PRE><H1><A NAME=v33r0>2008-07-21 Brunel v33r0</A></H1><PRE>
 - In requirements: use ParamFiles v7r2
 - Remove all top level *.opts files, use Gaudirun.py with configurable instead. 
   N.B. Brunel.exe is still available for use by Ganga with a flattened options
   file. Do not attempt to use it directly.
   N.B.2 valgrind.job not yet migrated, do not use
 - In python/Brunel/Configuration.py, options/Brunel-Default.py:
   . Add expertTracking switches to Brunel configurables. 
     Supported values are: ["usePatSeeding","noDrifttimes","simplifiedGeometry"]
   . Add more checks on input arguments
   . Move handling of options for fieldOff and veloOpen to tracking scripts
 - In Brunel.opts: 
   . include Reco.py instead of Reco.opts
   . use L0FilterFromRawSeq sequence from L0DU package in case of L0 filtering
     (previously was filtering from recalculated emulated decision)
 - In 2008-Files.opts: update test file with one produced with Boole v16r0

</PRE><H1><A NAME=v32r8>2008-07-04 Brunel v32r8</A></H1><PRE>
 - Add Brunel-2008.py and 2008-Files.py, example job for 2008 simulated data
 - Remove include of LHCbApplication.opts from Brunel.opts, to allow usage of
   .py version in configurable. Added instead to DC06 *.opts files
 - In Configurable, add support for SIMCOND, which is now used by default for MC
   data with 2008 geometries

</PRE><H1><A NAME=v32r7>2008-06-05 Brunel v32r7</A></H1><PRE>
 - In Configuration.py, Brunel-Default.py: new attribute "mainOptions" to
   define top level options file to include (default is $BRUNELOPTS/Brunel.opts)
 - Update SuppressWarnings.opts

</PRE><H1><A NAME=v32r6>2008-05-16 Brunel v32r6</A></H1><PRE>
 - In Brunel.opts, removed workaround for fix in CaloDAQ v4r4p1
 - Updated SuppressWarnings.opts for Rich changes in Rec v5r6
 - Added "monitors" option to Brunel Configurable
 - In requirements, use FieldMap v5r*, gives access to measured field map
 - In requirements, use all needed component libraries for cmt broadcast usage

</PRE><H1><A NAME=v32r5>2008-04-25 Brunel v32r5</A></H1><PRE>
 - Added python configurable for Brunel (python/Brunel/Configuration.py)
   Related files in options directory:
   . Brunel-Default.py       : describes available options and defaults
   . Brunel-DC06Rdst.py      : configuration for DC06 rdst production
   . Brunel-L0DC06Rdst.py    : same as DC06Rdst, L0 selected events
   . Brunel-DC06Stripping.py : configuration for DC06 stripped DST production
   . DC06-Files.py           : example files for I/O with above configurations
   . Brunel-CCRCStripping.py : same as DC06Stripping but without MC truth
 - Removed obsolete file v200601.py (replaced by Brunel-Default.py)
 - Added DefineETC.opts, options for setting up stripping ETC, previously
   duplicated in several files
 - Removed "Etc" from Init.DetectorList, had identical functionality to "Reproc"
 - RecInit/Brunel algorithm renamed RecInit/BrunelInit, to avoid name clash with
   configurable
 - Updated SuppressWarnings.opts to suppress histogram statistics printout in
   production
 - Updated file catalog usage. Now a new catalog MyCatalog.xml is created for
   output files, existing job/NewCatalog.xml is read only, describes example
   input files 

</PRE><H1><A NAME=v32r4>2008-03-12 Brunel v32r4</A></H1><PRE>
 - In SuppressWarnings.opts, timestamp is printed in UTC, keep EventLoopMgr msgs
 - Add RealData-ETC.opts for processing from ETC referring to mdf file

</PRE><H1><A NAME=v32r3p1>2008-02-11 Brunel v32r3p1</A></H1><PRE>
 - In requirements, use RichTool v2r17p1 (bug fix for this patch release)
 - In requirements, use MDF v3r3 and MDF_ROOT v1r1 (patch release to allow
   MDF I/O at all sites)

</PRE><H1><A NAME=v32r3>2008-02-01 Brunel v32r3</A></H1><PRE>
 - In RealDataDst.opts and RealDataRdst.opts, remove explicit loading of
   LHCbKernelDict, no longer needed with LCG_54
 - In valgrind.job, use the new ROOT suppressions file available from LCG_54 
 - use ParamFiles v7r1, needed by NNTools v1r2
 - In SuppressWarnings.opts, add a time stamp to remaining messages
 - Change PoolDbCacheSvc.AgeLimit to IODataManager.AgeLimit to please Gaudi v19r7
 - Use new Gaudi XML file catalog instead of the POOL one, using
   FileCatalog.Catalogs option instead of PoolDbCacheSvc.Catalog 
 - In ExpertCheck.opts add options for CondDb logging (commented out)
 - In DC06-ETC.opts, fix Linkers if reprocessing from DST input

</PRE><H1><A NAME=v32r2>2007-12-13 Brunel v32r2</A></H1><PRE>
 - New files options/RealDataRdst.opts and job/GaudiCatalog.txt to set up rDST
   production starting from an MDF file - to be used in CCRC08  
 - RealData.opts renamed RealDataDst.opts in analogy to RealDataRdst.opts
 - Update track selection options for rDST, following changes to PatPV. These
   options are moved to rDSTContent.opts from DC06.opts to make them general 
 - In DC06-ETC.opts provide a new ETC fixing stripping bug of November 2007
 - Replace etc_9075_3_catalog.xml by ETC_00002000_00000621_catalog.xml to 
   follow above change
 - New file options/SuppressWarnings.opts to be used in production for a minimal
   log file

</PRE><H1><A NAME=v32r1>2007-11-15 Brunel v32r1</A></H1><PRE>
 - Fix error in default Brunel_Ganga.py file for latest CMT structure.
 - Update BrunelCheck.opts for changes in PatChecker v3r1
 - Adapt ExpertCheck.opts to changed defaults in MCParticleSelector
 - Add RealData.opts to process "real data" (v200601 geometry) in mdf format
 - Add Empty.opts dummy options file to bootstrap Dirac with non-standard
   configurations

</PRE><H1><A NAME=v32r0>2007-10-12 Brunel v32r0</A></H1><PRE>
 - Update BrunelCheck.opts for use with Tf framework

</PRE><H1><A NAME=v31r10>2007-10-08 Brunel v31r10</A></H1><PRE>
 - Update options to include CALO monitoring (disabled by default)
 - Add options/v200601.py, to execute Brunel from Python shell

</PRE><H1><A NAME=v31r9>2007-09-21 Brunel v31r9</A></H1><PRE>
 - Use ParamFiles v7r0
 - Added section for pattern recognition check in Tf framework to
   BrunelCheck.opts. Commented out by default, no change in default behaviour.
 - Update example ganga job to remove warnings about missing features (now 
   available) and to add examples of job merging.
 - Added options for reprocessing from DST (Brunel.opts, v200601.opts)

</PRE><H1><A NAME=v31r8>2007-07-23 Brunel v31r8</A></H1><PRE>
 - Update options files to take geometry tags from $DDDBROOT/options
 - Brunel processing now all takes place in a single GaudiSequencer TopAlg
   (called BrunelSequencer). This allows any algorithm to stop further processing
   of a given event. 
 - Empty L0 sequences added in last release are no longer needed and are removed
 - New possibility to process only L0 selected events: switch on by uncommenting
   the option Init.DetectorList += { "L0" };
 - Add a no_auto_imports dependency to all used component libraries, so they can
   be reached by cmt broadcast when checked out in User_release_area 

</PRE><H1><A NAME=v31r7>2007-07-16 Brunel v31r7</A></H1><PRE>
 - In ExpertCheck.opts, adapt STChecker opts to new MCParticleSelector defaults
 - Update default input files to replace obsolete ones that have been deleted
   (v200601.opts, DC06.opts, NewCatalog.xml)
 - New empty L0 sequence added in all ProcessPhases

</PRE><H1><A NAME=v31r6>2007-06-01 Brunel v31r6</A></H1><PRE>
 - Use ParamFiles v6r1
 - Clean up use statements in requirements:
   . Remove explicit versions since these are meaningless with InstallAreas
     (leave explicit versions for databases)
   . Use only packages needed to compile or to setup up run time environment

</PRE><H1><A NAME=v31r5>2007-05-21 Brunel v31r5</A></H1><PRE>
 - Adapt requirements to Rec v4r5, Lbcom v6r5, LHCb v22r5, Gaudi v19r3
 - Use TimingAuditor for timing, suppress printout from SequencerTimerTool

</PRE><H1><A NAME=v31r4>2007-03-28 Brunel v31r4</A></H1><PRE>
 - Adapt requirements to Rec v4r4, Lbcom v6r4, LHCb v22r4, Gaudi v19r3

</PRE><H1><A NAME=v31r3>2007-03-26 Brunel v31r3</A></H1><PRE>
 - Adapt requirements to Rec v4r3, Lbcom v6r3, LHCb v22r3, Gaudi v19r3
 - Use DDDB v1r* instead of SQLDDDB directly

</PRE><H1><A NAME=v31r2>2007-03-05 Brunel v31r2</A></H1><PRE>
 - Adapt requirements to Rec v4r2, Lbcom v6r2, LHCb v22r2, Gaudi v19r2
 - Use SQLDDDB v1r* instead of XmlDDDB/XmlConditions
 - Added FieldOff-VeloOpen.opts
 - Updated FieldOff.opts to use SQLDDDB and NoFieldTracking.opts from TrackSys

</PRE><H1><A NAME=v31r1>2007-02-05 Brunel v31r1</A></H1><PRE>
 - Adapt requirements to Rec v4r1, Lbcom v6r1, LHCb v22r1
 - Use XmlDDDB v40r0
 - Remove ApplicationMgr.DLLs options, not needed with new plugin manager
 - Adapt monitoring options to new names of STChecker algorithms
 - Adapt valgrind.job to work with new CMT environment
 - Add MuonPID checking

</PRE><H1><A NAME=v31r0>2007-01-23 Brunel v31r0</A></H1><PRE>
 - Adapt requirements to Rec v4r0, Lbcom v6r0, LHCb v22r0, Gaudi v19r1
 - Use XmlConditions v2r5

</PRE><H1><A NAME=v30r15>2007-02-28 Brunel v30r15</A></H1><PRE>
 - Built on v30r14b branch
 - Identical to v30r14 but using GaudiPoolDb v2r9p1

</PRE><H1><A NAME=v30r14>2006-12-01 Brunel v30r14</A></H1><PRE>
 - Adapt requirements to Rec v3r14, Lbcom v5r9, LHCb v21r12, Gaudi v18r11
 - Use XmlDDDB v30r14
 - Minimize number of open input files by setting PoolDbCacheSvc.AgeLimit option

</PRE><H1><A NAME=v30r13>2006-11-08 Brunel v30r13</A></H1><PRE>
 - Adapt requirements to Rec v3r13, Lbcom v5r8, LHCb v21r11, Gaudi v18r10
 - Use ParamFiles v5r0, XmlDDDB v30r13
 - Add job/Brunel_Ganga.py (example to run Brunel from Ganga)
 - Remove Brunel.job (use Brunel_Ganga.py instead)

</PRE><H1><A NAME=v30r12>2006-10-30 Brunel v30r12</A></H1><PRE>
 - Adapt requirements to Rec v3r12, Lbcom v5r7, LHCb v21r10, Gaudi v18r9

</PRE><H1><A NAME=v30r11>2006-10-20 Brunel v30r11</A></H1><PRE>
 - Adapt requirements to Rec v3r11, Lbcom v5r6, LHCb v21r9, Gaudi v18r8
 - Use XmlDDDB v30r12, XmlConditions v2r4
 - Set Moni.Context = "Offline", used by Rich monitoring
 - Kill /Rec when using an ETC as input
 - New input ETC and corresponding catalog file for DC06-ETC.opts
 - Suppress excessive warning messages from VeloTT.Fitter
 - Update track checking in ExpertCheck.opts

</PRE><H1><A NAME=v30r10>2006-10-02 Brunel v30r10</A></H1><PRE>
 - Adapt requirements to Rec v3r10, Lbcom v5r5, LHCb v21r8, Gaudi v18r7
 - Use XmlDDDB v30r10, XmlConditions v2r2
 - Add FieldOff.opts to process without magnetic field (e.g pilot run conditions)
 - Use a more recent .digi file for default job
 - Switch off excessive messages from track fit when using with ExpertCheck.opts
 - Add CaloBanksHandler sequence to BrunelInit

</PRE><H1><A NAME=v30r9>2006-09-05 Brunel v30r9</A></H1><PRE>
 - This is a development version to tune for the DC06 physics production 
 - Adapt requirements to Rec v3r9, Lbcom v5r4, LHCb v21r7, Gaudi v18r7
 - Use ParamFiles v4r4, XmlConditions v2r1
 - Use more recent valgrind version in valgrind.job
 - Fixes to Expert monitoring options

</PRE><H1><A NAME=v30r7>2006-08-04 Brunel v30r7</A></H1><PRE>
 - This is a development version to tune for the DC06 physics production 
 - Adapt requirements to Rec v3r7, Lbcom v5r3p1, LHCb v21r4, Gaudi v18r6
 - Use XmlConditions v2r0, XmlDDDB v30r9
 - Fix DC06-ETC.opts to read GlobalOr ETC tag (ETC produced by DaVinci v17r*)

</PRE><H1><A NAME=v30r6>2006-07-25 Brunel v30r6</A></H1><PRE>
 - This version is for the DC06 computing challenge stripped DST production
 - Adapt requirements to Rec v3r6, Lbcom v5r3, LHCb v21r3, Gaudi v18r6
 - Add DC06-ETC.opts
 - Remove saving of "secret" copy of Velo tracks on rDST

</PRE><H1><A NAME=v30r5>2006-06-30 Brunel v30r5</A></H1><PRE>
 - This version is for the DC06 computing challenge rDST production
 - Adapt requirements to Rec v3r5, Lbcom v5r2, LHCb v21r2, Gaudi v18r5
 - Use XmlConditions v1r8
 - Add missing ./ to path of executables in Brunel.job
 - Modify valgrind.job to always execute on 5 events

</PRE><H1><A NAME=v30r4>2006-06-21 Brunel v30r4</A></H1><PRE>
 - This version is a pre-prelease for commissioning DC06 production
 - New options files:
   . rDSTContent.opts defines rDST, no MC truth
   . DC06.opts runs rDST production. No MC truth checking
   . v200601.opts runs DST production as before, including MC checking

</PRE><H1><A NAME=v30r3>2006-05-18 Brunel v30r3</A></H1><PRE>
 - This version is for development of reconstruction for DC06. It is far
   from complete

</PRE><H1><A NAME=v30r2>2006-05-03 Brunel v30r2</A></H1><PRE>
 - This version is for development of reconstruction for DC06. It is far
   from complete

</PRE><H1><A NAME=v30r1>2006-04-13 Brunel v30r1</A></H1><PRE>
 - This version is for development and testing of Boole v11 output. It is far
   from complete

</PRE><H1><A NAME=v30r0>2006-03-28 Brunel v30r0</A></H1><PRE>
 - Major new version with changes for:
   . New event model, LHCb namespace, migration to MathCore
   . 1MHz readout and new RawEvent format
   . DC06 geometry
   . New track model
 - This version is for development and testing of Boole v11 output. It is far
   from complete

</PRE><H1><A NAME=v28r1>2005-12-09 Brunel v28r2</A></H1><PRE>
 - Adapt requirements to Rec v2r2, Lbcom v3r2, LHCb v19r3
 - Use XmlDDDB v27r1

</PRE><H1><A NAME=v28r1>2005-11-21 Brunel v28r1</A></H1><PRE>
 - Adapt requirements to Rec v2r1, Lbcom v3r1, LHCb v19r2
 - Use XmlDDDB v27r0, XmlConditions v1r3, FieldMap v4r6, ParamFiles v3r13
 - Add TrackAssociator to CheckTrSeq, for use by Rich monitoring
 - Adapt options for Rich backwards compatibility
 - Add /Event/MC/Rich/DigitSummaries to MCDstContent

</PRE><H1><A NAME=v28r0>2005-11-15 Brunel v28r0</A></H1><PRE>
 - Adapt requirements to Rec v2r0, Lbcom v3r0, LHCb v19r1, Gaudi v17r2
 - Add MUON sequence to Moni phase, executes MuonRecChecker from MuonMoniDst DLL

</PRE><H1><A NAME=v27r5>2005-09-21 Brunel v27r5</A></H1><PRE>
 - Adapt requirements to use Rec v1r5, Lbcom v2r5, LHCb v18r9
 - Use XmlDDDB v26r2
 - Add new track model tracks to DstContent.opts
 - Change valgrind.job to use addrcheck instead of memcheck

</PRE><H1><A NAME=v27r4>2005-07-18 Brunel v27r4</A></H1><PRE> 
 - Adapt requirements to use Rec v1r4, Lbcom v2r4, LHCb v18r8, Gaudi v16r5
 - Use XmlDDDB v26r1
 - Add EventNodeKiller algorithm as first TopAlg in Brunel.opts
 - Copy.opts is obsolete, includes generic $EVENTSYSROOT/options/PoolCopy.opts

</PRE><H1><A NAME=v27r3p1>2005-07-07 Brunel v27r3p1</A></H1><PRE> 
 - Fix to MCDstContent.opts, to not overwrite already defined Dst content, and
   to correctly save the packed MC truth containers

</PRE><H1><A NAME=v27r3>2005-06-28 Brunel v27r3</A></H1><PRE> 
 - Adapt requirements to use Rec v1r3, Lbcom v2r3, LHCb v18r7
 - Use XmlDDDB v26r0, add v200507.opts
 - Fixes to job options for compatibility with LHCb v18r7 and Rec v1r3
 
</PRE><H1><A NAME=v27r2>2005-06-13 Brunel v27r2</A></H1><PRE>
 - Adapt requirements to use RecSys v1r2, Lbcom v2r2, LHCb v18r6, Gaudi v16r4
 - Use XmlDDDB v25r1, add v200506.opts
 - Change locaton of compressed DST classes in TES
 - Reorganize options to simplify usage with real data
 - Move options for Reco phase to RecSys, to allow sharing with Moore in RTTC

</PRE><H1><A NAME=v27r1>2005-05-31 Brunel v27r1</A></H1><PRE>
 - Adapt requirements to use RecSys v1r1, Lbcom v2r1, LHCb v18r5, Gaudi v16r4
 - Use XmlDDDB v24r2
 - Remove saving of empty directories from DstContent.opts
 - Fixes for DataOnDemandSvc in Brunel.opts
 - Add Output phase, with Pack sequence. Produces packed Tr/StatesL, Tr/StatesP,
   Tr/Best, saved on .dst instead of unpacked versions

</PRE><H1><A NAME=v27r0>2005-05-13 Brunel v27r0</A></H1><PRE>
- Adapt requirements to use RecSys v1r0, Lbcom v2r0, LHCb v18r4
- Adapt options to new version of Calorimeter associations
- Add STTools to loaded DLLs
- Fixes to Copy.opts

</PRE><H1><A NAME=v26r3>2005-04-19 Brunel v26r3</A></H1><PRE>
- Adapt requirements to BrunelSys v26r3, Lbcom v1r3, LHCb v18r3, Gaudi v16r3
- Adapt Brunel.supp to valgrind 2.2.0
- Use XmlDDDB v24r1
- Remove APPVERSION from requirements, version now set in GaudiMain

</PRE><H1><A NAME=v26r2>2005-04-03 Brunel v26r2</A></H1><PRE>
- Adapt requirements to BrunelSys v26r2, Lbcom v1r2 and LHCb v18r2
- Use XmlDDDB v24r0
- Add TrgVelo options to Brunel.opts
- Remove v200402.opts

</PRE><H1><A NAME=v26r1>2005-03-08 Brunel v26r1</A></H1><PRE>
- Adapt requirements to Gaudi v16r2, Lbcom v1r1 and LHCb v18r1
- Use ParamFiles v3r11 (latest version, no side effects for Brunel)

</PRE><H1><A NAME=v26r0>2005-02-14 Brunel v26r0</A></H1><PRE>
- Adapt requirements to Gaudi v16r0, Lbcom v1r0 and LHCb v18r0
- Use ParamFiles v3r10 (latest version, no side effects for Brunel)
- Use XmlDDDB v23r2 (fix to Velo sensor numbering)
- Add VeloSpaceTracking.Offline = true; option to Brunel.opts

</PRE><H1><A NAME=v25r3>2005-01-19 Brunel v25r3</A></H1><PRE>
- Release notes for Brunel application are now in BrunelSys package
- Remove doxygen configuration files (moved to BrunelSys)
- Remove RawBuffer.opts, now picked up from $DAQSYSROOT/options

</PRE><H1><A NAME=v25r2>2004-12-10 Brunel v25r2</A></H1><PRE>
This version uses Gaudi v15r3, LHCb v17r2.
Requires data produced by Boole v7r2 or later. It *cannot* process DC04 data

- New functionality:
  . Support for v200412 geometry (Rich1 EDR, Rotated Rich2, TT KLM layout,
                                  new Velo numbering)
    Not yet tested, needs new Gauss data (v200412.opts, XmlDDDB v23r1)

- Modified functionality
  . Uses new Velo detector element and geometry. Sensor numbering incompatible
    with DC04 version. (LHCbKernel v5r5, VeloEvent v13r2, VeloDet v9r1,
    VeloDAQ v2r1, TrFitEvent v4r8)
  . "Offline" Velo tracking replaced by "Online" version
    (TrgTools v7r0, TrgVelo v7r0, TrgBrunel v1r1)
  . Improved handling of events with no pixels fired
    (RichRecBase v1r14p1, RichLocalPID v1r9p1)

- Removed functionality
  . Support for v200411 geometry (Rich1 EDR, Rotated Rich2, TT KLM layout)

- Persistency changes
  . New velo sensor numbering in RawBuffer, requires VeloDet v9r1, VeloDAQ v2r1
    to decode

- Packaging changes
  . Move to new GaudiAlgorithm base classes (OTDAQ v3r2, OTMonitor v1r1)

</PRE><H1><A NAME=v25r1>2004-11-22 Brunel v25r1</A></H1><PRE>
This version uses Gaudi v15r3, LHCb v17r1.
Requires data produced by Boole v7r0 or v7r1. It *cannot* process DC04 data

- New functionality:
  . Support for v200411 geometry (Rich1 EDR, Rotated Rich2, TT KLM layout)
    Not yet tested, needs new Gauss data (v200411.opts, XmlDDDB v23r0)
  . Support for Data Quality checking. Data Quality reference files built from
    DC04 log files are provided in $LHCBRELEASES/DBASE/DQ/BrunelDQ/v1r0. XML
    descriptions of log file fields to be verified are in $BRUNELROOT/DQ.
    To verify a log file, execute the command:
      python2.2 $LHCBHOME/scripts/checklog.py $BRUNELROOT/DQ/Brunel_options.xml
        <event-type> <log-file>

- Modified functionality
  . Improvement to initialisation of random numbers. Now three seeds are used
    (run and event numbers, plus hash of string containing name, event number,
    run number). Can optionally skip some random numbers before every event,
    by setting job option Brunel.SkipFactor (default is zero). Can revert to
    previous behaviour by setting job option Brunel.SingleSeed = true;
    (LHCbAlgs v1r2)
  . Use rootd (instead of rfio) to access castor files
    (GaudiConf v8r1, v200402.opts)
  . Remove explicit creation of MagneticFieldSvc and ParticlePropertySvc, now
    created on demand (Brunel.opts, RichRecTools v1r12)
  . Bug fix to finalisation order of services, allows to enable DataOnDemandSvc
    decoding for all RawBuffer decoding algorithms (GaudiSvc v12r6, Brunel.opts)
  . More accurate tuning of dE/dx correction (TrExtrapolator v2r14)
  . Use new RichPID object format, add various new features not yet used by
    default (RichRecSys v1r13)
  . Improved decoding of Pixels from RawBuffer (RichRecTools v2r12)
  . Use DataOnDemandSvc to instantiate associator algorithms 
    (Relations v2r0, AssociatorsSys v2r1, TrFitAssociators v1r3)

- Removed functionality:
  . Removed support for 200402-TT-alt and Field043 geometries

- DST changes
  . /Rec/Rich/PIDs contains new backwards incompatble version of RichPID
    (RichEvent v8r0)

- Bug fixes
  . Small fix in thick scatterer (TrExtrapolator v2r14)

- Packaging changes
  . Calo monitoring moved to new CaloMoniDst package

</PRE><H1><A NAME=v25r0>2004-11-01 Brunel v25r0</A></H1><PRE>
This version uses Gaudi v15r3, LHCb v17r0.
Requires data produced by Boole v7r0 or later. It *cannot* process DC04 data

- New or modified functionality
  . New OT Event model: OTTime replaces OTDigit and OTCluster, plus backward 
    incompatble changes to OTChannelID. Not compatible with DC04 data.
    (LHCbKernel v5r3, OTEvent v14r0, OTDAQ v3r0, OTAssociators v3r0
     Required simple adaptation of large number of tracking packages)
  . Introduce OT beam tilt capability. Tilt angle currently set to 0.
    (OTDet v5r3, MCTools v1r8, XmlDDDB v22r4)

- DST changes
  . Link/Raw/OT/Times replaces Link/Raw/OT/Digits
  . Link/Rec/OT/Clusters and Rec/OT removed

</PRE><H1><A NAME=v24r3>2004-10-27 Brunel v24r3</A></H1><PRE>
This version uses Gaudi v15r3, LHCb v16r3 and is built on v24r2b branch.
It can process DC04 data

- New or modified functionality
  . RawBuffer is decoded using DataOnDemandSvc (RawBuffer.opts)
    Not all banks are decoded in this way yet, due to a problem in Gaudi when
    finalising data on demand algorithms that use tools
  . EventHeader is rebuilt from RawBuffer when not on input file
  . New features for Calo Reco (CaloReco v2r6)

- DST changes
  . Event/Header removed (can be rebuilt from RawBuffer)

</PRE><H1><A NAME=v24r2>2004-09-22 Brunel v24r2</A></H1><PRE>
This version uses Gaudi v15r2, needs CMT v1r16. It can process DC04 data

- New or modified functionality
  . New test input data file taken from DC04 (v200402.opts)
  . Enabled new Gaudi DataOnDemand service to allow automatic invocation of 
    RawBuffer decoding algorithms. In this version it is used to decode the
    Calorimeter banks (Brunel.opts, CaloEvent v13r5)
  . Preparation for HLT developments (CaloPIDs v2r4, CaloReco v2r5)

- New tuning
  . Speed improvements in decoding of Calo RawBuffer banks (CaloEvent v13r5)
  . Speed improvements in CellularAutomaton (CaloReco v2r5)

- Code cleanups
  . Z positions of TT stations taken from detector element rather than job
    options (VeloTT v1r11)

- Bug fixes
  . Workaround for core dump on exit() (GaudiPoolDb v1r9)
  . Various fixes for memory leaks (GaudiSvc v12r3, GaudiPoolDb v1r9)

</PRE><H1><A NAME=v24r1>2004-07-26 Brunel v24r1</A></H1><PRE>
This version uses Gaudi v15r1, needs CMT v1r16. It can process DC04 data

- New or modified functionality
  . Prefix numeric histogram IDs by "h" to facilitate manipulation in Root.
    Controlled by the option RootHistSvc.ForceAlphaIds (RootHistCnv v9r3)

- Bug fixes
  . Fix EventSelector.FirstEvent, in v24r0 was skipping twice the requested 
    events (GaudiSvc v12r2)
  . Fix density of Rich2 mirror support (was 1*g/cm3, should be 0.24*g/cm3)
    (XmlDDDB v22r3)

</PRE><H1><A NAME=v24r0>2004-07-23 Brunel v24r0</A></H1><PRE>
This version uses Gaudi v15r0, needs CMT v1r16. It can process DC04 data

- New or modified functionality
  . GaudiAuditors no longer used for algorithm timing, uses GaudiSequencer
    internal timing instead
  . Remove obsolete TimingAlg
  . Remove obsolete GaudiRootDb capability
  . Added test1.opts to reproduce a known crash

- DST changes
  . Remove obsolete "/Event/Trig/AlgUsedTimes#1"

- New tuning
  . Initialize MuonGeometry tool completely at initialisation, not during first
    ~10 events (MuonTools v3r7)
  . New Calo calibration for DC04 settings (XmlDDDB >= v22r2) (CaloReco v2r4)
  . New parameterization of the dE/dx loss correction (TrExtrapolator v2r13)
  . Speed improvements in MagneticFieldSvc (Magnet v2r7)
  . Various minor updates to Rich code

- New packaging and code cleanups
  . Use new GaudiSequencer base class for ProcessPhase (LHCbAlgs v1r0)
  . Use new GaudiAlg and GaudiTools base classes
    (STDet v1r2, ITAssociators v2r9, STDAQ v1r3, ITAlgorithms v14r3,
     ITCheckers v2r3, TrExtrapolator v2r13, TrFitter v4r0, RichRecSys v1r12,
     RichRecQC v1r9)
  . Move ITrFitter interface to TrFitEvent package, thus removing dependencies
    on TrFitter package 
    (TrFitEvent v4r6, TrFitter v4r0, TrCheck v2r5, TrCleanEx v2r10, VeloTT v1r10)
  . Removed dependency on GaudiAud, GaudiDb, GaudiTools packages
  . Removed dependency on CERNLIB (Seeding v2r9, HepMC v4r121p0)
  . Remove BrunelAlgs package. BrunelInitialisation algorithm replaced by
    common LbAppInit and CreateRawEvent (LHCbAlgs v1r0, DAQEvent v4r4) 
  . Take external packages from LCG_Interfaces area

- Bug fixes
  . Fix an unprotected pointer in Rich detailed monitoring (RichRecCommon v1r9)
  . Add a missing job option for detailed Calo monitoring (BrunelMoni.opts)
  . Fix bug in evaluation of overlap of two rectangular areas (CaloUtils v4r7)
  . Add fixes suggested by C.Jones for using Brunel.job in debug mode
  . Fix in MS scattering correction (TrExtrapolator v2r12)
  . Fix problem with 3-cell cluster at edge of calorimeter, where only one cell
    has positive energy - was causing rare core dump in CaloMergedPi0Alg
    (CaloReco v2r4)

</PRE><H1><A NAME=v23r7>2004-04-29 Brunel v23r7</A></H1><PRE>
Version used for DC04

Requires data produced by Boole v5r6 or later (for signal)
Requires data produced by Boole v5r7 or later (for B inclusive and minimum bias)

- New tuning
  . 12% correction to HCAL calibration coefficient  (XmlDDDB v22r2)
  . 7.2% correction to ECAL calibration coefficient (XmlDDDB v22r2)

- Bug fixes
  . Make MC/Signal optional and Gen/HardProcesses mandatory on Dst definition

</PRE><H1><A NAME=v23r6>2004-04-23 Brunel v23r6</A></H1><PRE>
Requires data produced by Boole v5r6 or later

- Functionality changes
  . Disabled RichRecoQC, because it accesses Spillover hits, no longer available
    on Boole output (RichRecQC v1r7)

- New tuning
  . Update parameterisation for Photon ID (CaloPIDs v2r2)
  . New Rich track state handling and tuning
    (RichRecSys v1r9, RichUtils v3r9, RichDetTools v4r1) 
  . Change match Chi2 cut to 500. (from 200.) (Matching v2r10)
  . Remove multiple scattering fudge factor from extrapolation errors
    (TrExtrapolator v2r11)
  . Retune KShort tracking for higher efficiency (TrKShort v1r4)
  . Update parameterization of Velo errors, scale factor is now 0.8
    (TrFitEvent v4r5)

- Persistency changes
  . Added Gen/HepMCEvents, Gen/HardProcesses, MC/Signal
    (produced by Gauss v15r4, propagated by Boole v5r6)
  . Removed Velo,IT,OT clusters from DST. If needed they can be recreated from 
    RawBuffer by rerunning the clustering
  . Added intermediate directories of Digits paths, to avoid opening .digi
    file when registering Digits re-created from RawBuffer in DaVinci
  . use POOL_1_6_3

</PRE><H1><A NAME=v23r5>2004-04-15 Brunel v23r5</A></H1><PRE>

 Requires data produced by Boole v5r4 or later
 Tuned for XmlDDDB v22r1

- New features
  . Location of XmlDDDB file is printed at start of job (GaudiSvc v11r6)

- Changed features
  . PoolDbCacheSvc.InputCatalog and .OutputCatalog no longer supported:
    use PoolDbCacheSvc.Catalog instead, with support for search list;
    first catalog in list is read/write, others are read only. 
    (POOL v1r162p0, GaudiPoolDb v1r6)

- Persistency changes
  . Using POOL_1_6_2. Fixes problem with Rich PIDs
    (POOL v1r162p0, GaudiPoolDb v1r6)

- Bug fixes
  . All tools correctly released at end of job (GaudiSvc v11r6)
  . Fix a typo in TimingTool::finalize (LHCbTools v1r1)
  . Fix 1.5 cm shift of a TT ladders near the edge (XmlDDDB v22r1)

</PRE><H1><A NAME=v23r4>2004-04-01 Brunel v23r4</A></H1><PRE>

 Requires data produced by Boole v5r4 or later
 Tuned for XmlDDDB v22r0

- New features
  . Field045 map is the default. To process data produced with the old field
    map, use v200402-Field043.opts instead of v200402.opts
  . Added example job options (Copy.opts) for copying one or more files. Can be
    used to merge several DSTs, or to produce reduced (or extended...) DSTs

- Persistency changes
  . New version of RawBuffer for OT: new bank structure, multiple hit
    capability, new straw numbering (OTDAQ v2r0)
  . HepMC can now be made persistent also for POOL data (GenEvent v3r1)
    Disabled from Dst content as it requires data produced with Gauss v15r4
    or greater, not yet released.

- New tuning
  . Update signal to noise cuts to be consistent with Boole (ITAlgorithms v14r2)
  . Tuning of tracking for Field045 (LongTrack v1r11, TrKShort v1r3, VeloTT v1r9)
  . Add a dp/p cut for 4th hit wrt to hits in other TT half (VeloTT v1r9)

- Bug fixes:
  . Avoid multiple includes of job options files (CaloReco v2r1p1)
  . Avoid linking with unnecessary libraries (requirements)
  . Fix monitoring problems related to history flags of tracks (TrKShort v1r3)
  . Fix range definition in TT, whole station is not tilted, only each wafer
    (LongTrack v1r11)

- Packaging changes:
  . Remove unnecessary dependency on VeloAlgorithms

</PRE><H1><A NAME=v23r3>2004-03-18 Brunel v23r3</A></H1><PRE>

 Requires data produced by Boole v5r3 or later
 Tuned for XmlDDDB v22r0

 - New features:
   . New base classes available for algorithms and tools 
     (GaudiAlg v7r1, GaudiTools v8r0, CaloKernel v3r0)
   . Use new version of ParticlePropertySvc (GaudiSvc v11r4, ParamFiles v3r4)
   . New naming convention for tracks: Upstream renamed Follow,  KsTrack added,
     track type Long, Upstream, Downstream aded
     (TrEvent v13r1, TrFitEvent v4r4, TrFitAssociators v1r1, TrCheck v2r4,
      TrCleanEx v2r9, TrKShort v1r2, RichRecBase v1r9p1, MuonID v3r7p1, 
      CaloReco v2r0, CaloMonitor v2r0)
   . Decode ITDigits from RawBuffer (ITAlgorithms v14r1, STDAQ v1r0)
   . Decode VeloClusters from RawBuffer (VeloAlgorithms v2r9, VeloDAQ v1r0)
   . Associator tools now inherit from GaudiTool. New printout for tools that
     are not finalised (GaudiTools v8r1, LHCbKernel v4r4)

 - New tuning:
   . Recalibration of Ecal ActiveToTotal (XmlDDDB v22r0)
   . New Rich2 HPD layout (XmlDDDB v22r0)
   . New Calo PID calibration histograms (CaloPIDs v2r1, ParamFiles v3r4)
   . New corrections for photons and photons from merged pi0s (CaloReco v2r1)
   . Adapt VeloTT tracking to new TT geometry (VeloTT v1r8)

 - Persistency changes:
   . POOL persistency is now the default
   . Backwards incompatible change to internal encoding of VeloChannelID
     (LHCbKernel v4r3)
   . Use VeloChannelID as key of VeloCluster (backwards incompatible)
     (VeloEvent v13r0p1, AsctToLinker v1r1)
   . Removed OTDigits from DST following fix to relations problem
     (OTDAQ v1r1)
   . Fix relations to CaloDigits
     (GaudiDb v9r2, CaloReCreateMCLinks algorithm from CaloEvent v13r1)

 - Bug fixes:
   . Minor fix to IT clustering (ITAlgorithms v14r1)

 - New packaging:
   . Added explicit dependency on FieldMap v4r3. Change the requirements, or
     the FIELDMAPROOT environment variable, to choose another field map
   . Removed VeloRound, round() function now implemented in Kernel/LHCbMath.h
     (LHCbKernel v4r3, VeloKernel v1r4, VeloDet v8r8p1, VeloAlgorithms v2r9p1)
   . Adapted to new base classes for algorithms and tools. 
     Adds printout of tools not finalised
     (GaudiAlg v7r0, GaudiTools v8r1, LHCbKernel v4r4, CaloMonitor v2r0, 
      CaloReco v2r0, CaloPIDs v2r0, RichMCTools v1r1, RichRecMCTools v1r3, 
      RichRecQC v1r6, RichRecSys v1r8)
   . Valgrind error suppression file for Gaudi and external package errors moved
     to $STDOPTS/Gaudi.supp (GaudiConf v7r6, valgrind.job)


</PRE><H1><A NAME=v23r2>2004-02-10 Brunel v23r2</A></H1><PRE>

- New functionality
  . Support for new TT layouts (4-3-3-4: v200402.opts, 4-2-1-1-2-4: TT-alt.opts)
    (XmlDDDB v21r0, STDet v1r0, ITAlgorithms v14r0, ITCheckers v2r0)
  . Support for new Rich features (switched off by default)
    (RichRecSys v1r7, RichDetTools v3r6, RichUtils v3r7)
  . OT digits are rebuilt from RawBuffer (OTDAQ v1r0)
  . Muon digits are rebuilt from RawBuffer (MuonDAQ v1r0)

- DST changes
  . Replace old style "relations" with new style "links" for MC truth of 
    ITClusters, OTClusters, VeloClusters, MuonCoords, L0Calo. Relations can be
    rebuilt from links when reading the DST. (AsctToLinker v1r0)
  . Add depositedCharge() to ITCluster (ITEvent v13r1, ITAlgorithms v14r0)
  . Add one significant bit to time field of MuonDigit
    (MuonEvent v3r1, MuonAlgs v5r1)
  . Remove all (old) L1 objects from Dst. To be replaced by new Trg
    (L1Decision not available, waiting for new code working in Trg framework)
  . Removed filtering of MCParticles/MCVertices (should be done in Gauss)
  . Added OTDigits. This is because POOL crashes when writing the OTCluster
    SmartRef to OTDigits, if the OTDigits are not also saved somewhere...

- New tuning
  . Updated TT detector geometry (beam pipe hole, guard ring size etc.)
    (XmlDDDB v21r0)
  . Adapt to changes in ST geometry 
    (ITAlgorithms v14r0, ITCheckers v2r0, LongTrack v1r10, Seeding v2r8,
     TrCheck v2r3, TrCleanEx v2r3, TrKShort v1r1, TrMatching v2r9, VeloTT v1r7)

- New packaging
  . Creation of relations and links tables for the DST moved to a new independent
    Relations phase

- Dropped functionality
  . Dropped support for pre-2004 geometries (removed v200311,opts, RiSicbGeom)
  . Dropped valgrind support for gcc 2.95.2 
    (Brunel.supp.gcc32 renamed Brunel.supp)


</PRE><H1><A NAME=v23r1>2004-01-28 Brunel v23r1</A></H1><PRE>

- New functionality
  . New KShort tracking replaces old "upstream" tracking. See TrKShort
    release notes for details (TrKShort v1r0). UpstreamPR and TrIntraPR removed
  . All DST classes can now be written to POOL (LHCbKernel v4r1)

- New tuning
  . New normalisation for timingAlg, for consistency with Boole. Updated list of
    algorithms to be timed (BrunelAlgs v3r4, LHCbTools v1r0)
  . Adapt Seeding algorithm to latest IT+OT geometry (Seeding v2r7)

</PRE><H1><A NAME=v23r0>2004-01-22 Brunel v23r0</A></H1><PRE>
- Built against GAUDI v14r0

- New functionality
  . Possibility to read POOL digi file and/or save POOL dst file. Only for
    tests by experts. See examples in v200311.opts
  . Monitoring histograms now saved to ROOT file by default. Saving to Hbook file
    is still possible, see comments in BrunelMoni.opts

- New tuning
  . New Ecal and Hcal calibration for "ActiveToTotal" parameter (XmlDDDB v20r1)

- Dst changes
  . Add file DstContent.opts to define dst content (Moved from GaudiConf)
  . Remove L0/Calo and L0/FullCalo, can be rebuilt from RawBuffer
  . Backwards incompatible update of CaloCluster - new seed attribute
    (CaloEvent v13r0, CaloReco v1r8)
  . Add HepMCEvents (written if present on Sim+Digi files)
  . Add Link objects (MC truth of tracking digits used by Trg tracking)
  . Add MCTrackInfo for "in Acceptance" and "Reconstructible" flags (Trg defn.)


</PRE><H1><A NAME=v22r0>2003-12-12 Brunel v22r0</A></H1><PRE>
- Built against GAUDI v13r0

</PRE><H1><A NAME=v21r2>2003-12-04 Brunel v21r2</A></H1><PRE>
** This version requires data produced by Boole v3r2 or greater **

- New features
   . Additional monitoring histograms (ITCheckers v1r4)

- New tuning
   . Changes to IT clustering cuts (ITAlgorithms v13r0)
   . Use circle method everywhere for ray tracing, gives further improvement in
     Rich time performance without loss of efficiency 
     (RichDetTools v3r3, RichRecSys v1r4)
   . Backwards incompatible change to OT geometry: introduction of OTQuarters,
     new numbering for OT stations, layers, modules 
     (XmlDDDB v20r0, OTDet v5r0, OTAlgorithms v13r4, TrAssociators v3r7,
      LongTrack v1r9, TrCheck v2r2, TrIntraPR v2r7, Seeding v2r6)

- Dst changes
   . Backwards incompatible change to bit definitions in OTChannelID
     (LHCbKernel v12r10)

- Bug fixes
   . Fix division by 0 for backward moving tracks (bug 1928) (TrCheck v2r2)

- New packaging
   . Changes to IT geometry tree structure 
     (XmlDDDB v19r1, ITDet v1r7, Seeding v2r6, LongTrack v1r8p1, TrCheck v2r2,
      TrCleanEx v2r7p1, TrIntraPR v2r7)
   . Changes to ITSignalToNoise tools ---> noise in e- or ADC 
     (ITAlgorithms v13r0, LongTrack v1r8p1, TrIntraPR v2r7, VeloTT v1r6p1)

- Removed features
   . Remove support for v256r0 geometry (not supported by OTDet v5r0)

</PRE><H1><A NAME=v21r1>2003-11-28 Brunel v21r1</A></H1><PRE>
** This version requires data produced by Boole v3r1 or greater **

- New features
   . Calorimeter digits rebuilt from RawBuffer (CaloEvent v12r1)
   . Rich digits rebuilt from RawBuffer (RichDAQ v1r0)
   . Default OT monitoring now switched on

- New tuning
   . Improved Rich detector packages and new track cuts in Rich reconstruction.
     Reduced the max track limit for the Global PID from 230 to 180 and 
     increased it for the local PID to 300. Effect is very small drop in PID 
     performance for large events, but much improved CPU time.
     (RiSicbGeom v3r6, RichUtils v3r5, RichDetTools v3r2, RichRecSys v1r3)

- DST changes
   . Added DAQ/RawBuffer (GaudiConf v7r3)

- Bug fixes
   . Fix to off diagonal elements of TrStateP p covariance matrix (TrEvent v12r2)

- Removed features
   . Remove support for v254r1 (optimization TDR) geometry


</PRE><H1><A NAME=v21r0p1>2003-11-10 Brunel v21r0p1</A></H1><PRE>

- Bug fix
   . Use correct serialization to read in HltBuffer and L1Buffer (DAQEvent v2r1)

</PRE><H1><A NAME=v21r0>2003-11-05 Brunel v21r0</A></H1><PRE>
 Version built against LHCB v13r3. Requires oodigi produced by Boole v3r0 or
 later (due to backward incompatible change in Rich data and DAQEvent)

- New tuning
   . Changes to Rich monitoring (RichRecQC v1r2)
   . Updates and new features in Rich ring refit (RichRingRefit v1r2)
   . Implement fast refit with outlier removal. Default is five iterations, 
     removing outliers at chi2 > 9. (TrFitter v3r7)
   . New tuning of dE/dx and MS (TrExtrapolator v2r8)

- New feature
   . Possibility to switch on detailed OT monitoring. 
     Default is "fullDetail" = false (OTAlgorithms v13r3)

- DST changes
   . Requires oodigi produced by Boole v3r0 or later, due to backwards
     incompatible changes to event model and oodigi content
     (RichKernel v4r0, RichEvent v6r0, DAQEvent v2r0, GaudiConf v7r2)
   . Reading program has to be linked with LHCB v13r3 or later due to backwards
     incompatible change to Rich Event model (RichKernel v4r0, RichEvent v6r0)
   . Add L1Buffer to DST (GaudiConf v7r2)

- Geometry changes
   - Renamed v200309-hpd.opts to v200311.opts
   - Removed v256-MaPMT.opts and v200309.opts (MaPMT geometries)

- Bug fixes
   . Fixes to material description of IT frames, was not consistent with cdf
     description (XmlDDDB v19r0)
   . Fix uninitialised variables (bug 1673) (TrCheck v3r7)

</PRE><H1><A NAME=v20r1>2003-10-17 Brunel v20r1</A></H1><PRE>

- New functionality
   . Add Rich support for MaPMT and for Gauss data. Requires XmlDDDB v18r2
     (RichDetTools v3r0, RichDet v6r0, RichKernel v3r3, RichRecSys v1r1)
   . Add histograms to monitor memory usage (BrunelAlgs v3r0)
   . Create HLTEvent from HLTBuffer at start of processing (BrunelAlgs v3r0)

- New tuning
   . Improved handling of Rich tabulated properties (RichUtils v3r3)
   . Improved ring refit algorithm (RichRingRefit v1r1)
   . Use reference trajectory instead of dummy point on track to propagate
     tracks between Velo and T stations
     (TrFitEvent v4r0, LongTrack v1r8, VeloTrack v5r1)
   . Increase TT signal to noise cut from 4. to 6. for VTT tracks (VeloTT v1r6)
   . Add TT hits to "Matched" tracks (TrMatching v2r7, Brunel.opts)

- New packaging
   . Remove dependency on NAGC, use equivalent gsl functions instead
     (VeloAlgorithms v2r8, ITCheckers v1r3p1, TrExtrapolator v2r7,
      TrIntraPR v2r6, UpstreamPR v2r8)
   . Remove dependency on MuonAlgs (contains only Muon digitization)
   . Remove dependency on LHCBDBASE environment variable. Parameters are taken
     from ParamFiles package. 
   . Specialised BrunelMain.cpp no longer needed, use GaudiMain instead
   . Introduce dependency on GaudiGSL and GSL
   . Rename top level options files for consistency with new XmlDDDB scheme
   . Update Brunel.job and valgrind.job for above changes

</PRE><H1><A NAME=v20r0p1>2003-07-18 Brunel v20r0p1</A></H1><PRE>

- Bug fix:
   . Add workaround in BrunelMoni.opts to create Tr2MCP relation table for DST
     when Rich Monitoring is skipped

</PRE><H1><A NAME=v20r0>2003-07-17 Brunel v20r0</A></H1><PRE>
 *** First version without digitisation. To be used on output of Boole v1r0 ***

- Removed functionality:
   . The digitisation and trigger phases have been removed (moved to Boole). 
     This includes addition of spillover and background, now done in Boole
   . The SICB initialization is removed. A reduced ZEBRA common block is still
     present for HBOOK.

- New functionality
   . use also Seed and Upstream tracks for Calo PID matching (CaloPID v1r1)

- New tuning
   . Modify IT, OT, Velo Associators to work with Digit2MCHit relations stored
     on oodigi tape. Identical behaviour as previously except for tiny 
     additional association inefficiency for IT (few 10^-4) and TT (10^-3)

- DST changes
   . Rich and Calo Digits have been removed (it is possible to navigate to them
     on the oodigi tape if required for special studies) (GaudiConf v7r0)

- Bug fixes
   . Correct a bug with rotation of TT stereo layers (ITDet v1r5)
   . Fix for HCalE estimator (CaloPID v1r1)

</PRE><H1><A NAME=v19r1>2003-07-08 Brunel v19r1</A></H1><PRE>
- New tuning:
   . Update of Rich reconstruction software. Includes repackaging of algorithms.
     (RichUtils v3r2, RichRecBase v1r2, RichGlobalPID v1r0, RichLocalPID v1r0,
      RichRingRefit v1r0, RichPIDMerge v1r0, RichRecTools v2r1, RichRecSys v1r0)

- New packaging:
   . Split Rich monitoring into distinct Digi and Reco packages
     (RichRecQC v1r0, RichDigiQC v1r0)

- New functionality:
   . Add MCRichHit class to Event model, for detector information from Gauss
     (RichEvent v5r0, RiSicbCnv v6r0, Event v3r4, SicbCnv v17r7)
   . Add support for valgrind 1.9.6 with gcc32 
     (new file Brunel.supp.gcc32, invoked by valgrind.job)

- Removed functionality:
   . Remove V0 reconstruction ("upstream " KsReco package)
     replaced by new DaVinci algorithm 

- DST changes:
   . Update list of algorithms to be timed with new Rich Global PID iterations
     (BrunelAlgs v2r1)
   . Remove V0s (GaudiConf v6r10)

- Bug fixes
   . Release services etc. after use, to please valgrind
     (RiSicbCnv v6r0, RichRecBase v1r2)


</PRE><H1><A NAME=v19r0>2003-07-03 Brunel v19r0</A></H1><PRE>
  This version is built against Gaudi v12 and introduces support for gcc 3.2

- Removed features:
   . Removed support for dbase < v256r0. 
     Data produced with dbase v254r1 (PDC1 winter 2003 production) can be 
     reconstructed with dbase v256r0. 
     Data produced with dbase v255r* (Robustness tests for optimization and
     trigger TDRs) cannot be reconstructed with this version - use v18r1.
   . Removed Rich Fortran reconstruction

- New features:
   . Implementation of modules in OT description. Uses backwards incompatible
     modification to OTDet, requires XmlDDDB from v16r0, dbase from v256r0
     (OTAlgorithms v13r0, Seeding v2r4, LongTrack v1r7, TrIntraPR v2r5,
      L1VeloTrack v5r1)
   . New implementation of "flat spillover" in Muon chambers. Requires 
     installation of the file $LHCBHOME/sim/data/flat-spillo-2.hbook
     (MuonSicbCnv v7r1, MuonBackground v1r2)
   . Added L0 veto on Spd and PuVeto multiplicity (L0DU v6r5)
   . Redesign of L1 algorithm and packaging (L1Decision v2r1)
   . L1TTClusters used instead of offline clusters for L1 (L1Decision v2r1)
   . Detailed description of Spd and Prs, including converter! (XmlDDDB v16r1)
   . Rich OO reconstruction is now the default

- DST changes
   . Rec/Rich/PIDs now contains result of Rich OO reconstruction. 
     Rec/Rich/OOPIDs is no longer filled

- New tuning:
   . Use TDR L0 threshold settings (L0DU v6r5)
   . New Muon ID tuning (MuonID v3r6)
   . Final L1 calibration for TDR (L1Decision v2r1)
   . TimingAlg normalisation loop increased by x 1.3 in case of gcc 3.2, to 
     compensate effect of -o2 compiler flag (BrunelAlgs v2r0p1)

- Bug fixes:
   . Release application manager in BrunelMain.cpp, to please valgrind
   . Release services etc. after use, to please valgrind
     (ITAlgorithms v12r10, L1Decision v2r1, L1VeloTrack v5r1, OTAlgorithms v13r0,
      MCTools v1r1p1, KsReco v1r5, RichMonitor v3r0p1, RichRecAlgs v2r0p2,
      RichRecTools v2r0p1, TrCheck v1r4, TrIntraPR v2r5, TrTools v2r4p1)
   . Remove IGeometryInfoException from DoxyFile.cfg, to fix doxygen doc

</PRE><H1><A NAME=v18r1>2003-06-24 Brunel v18r1</A></H1><PRE>
- New features:
   . Support addition of LHC background. Switched on by default
     (Digi/DigiAlg v1r0, Muon/MuonAlgs v4r1, Muon/MuonTools v3r5)
   . New algorithm MCEvTypeFilter to allow different DST definitions depending
     on event type (BrunelAlgs v2r0)
   . Enable default IT monitoring (ITCheckers v1r3)

- DST changes:
   . L1OT(ST,TT)Clusters are present only on minimum bias events, as in the TDR
     production with Brunel v17r4. In Brunel v18r0 they were present on all
     events (GaudiConf v6r8, BrunelAlgs v2r0)

- Bug fixes:
   . Fix problem with handling of OT geometry in Y=0 overlap region. Improves
     tracking efficiency by 0.3% (LongTrack v1r6)
   . Fix run time problem on Windows (RichRecAlgs v2r0p1)
   . Fix bug 425: processing aborted if bad cluster in Ecal (CaloReco v1r6)
   . Fix bug 424: crashes due to rounding problem (MuonBackground v1r1)
   . Fix bug 135: Solids deleted twice at finalisation (DetDesc v1r9p1)
   . Fix some Rich1 overlaps reported by transport service (XmlDDDB v15r5)
   . Fix uninitialised bin in IT charge sharing function (ITAlgorithms v12r9p1)

- Packaging changes:
   . BrunelInitialisation and BrunelPhase algorithms moved to BrunelAlgs
     package, making BrunelKernel package obsolete (BrunelAlgs v2r0)

</PRE><H1><A NAME=v18r0p3>2003-06-06 Brunel v18r0p3</A></H1><PRE>
- New features:
   . Add support for dbase v255r3

</PRE><H1><A NAME=v18r0p2>2003-05-07 Brunel v18r0p2</A></H1><PRE>
- New features:
   . Add support for dbase v255r4 and "degraded Velo" robustness test
- Bug fixes:
   . Fix a character string length, causing crash on W2K (BrunelKernel v5r4p1)

</PRE><H1><A NAME=v18r0p1>2003-04-24 Brunel v18r0p1</A></H1><PRE>
- New features:
   . Add support for dbase v255r2

</PRE><H1><A NAME=v18r0>2003-04-17 Brunel v18r0</A></H1><PRE>
- New features:
   . DST content is now defined in GaudiConf package, not in BrunelDst.opts
     As side-effect, OutputStream is now called DstWriter, not BrunelDstWriter
   . Improved default monitoring for automatic data quality checks
     (VeloAlgorithms v2r7, RichMonitor v3r0)
   . Support for dead strips in Velo (zero dead strips by default)
     (VeloAlgorithms v2r7, VeloTrack v5r0)
   . Muon low energy background is no longer read from SICBMC RAWH file. 
     Instead it is generated in the digitisation, using a parameterisation from
     the histograms in $LHCBHOME/Sim/mubg1.hbook
     (MuonAlgs v4r0, MuonUtils v1r0, MuonBackground v1r0, MuonSicbCnv v7r0) 
   . Support for dead cells in Calorimeters (zero dead cells by default)
     (CaloDigit v1r2)
   . Support for IT cluster smearing, to simulate misaligment (zero smearing by 
     default) (ITAlgorithms v12r9)
   . Support for random noise in OT (no noise by default) (OTAlgorithms v12r4)
   . Support for degraded efficiency and resolution (swiched off by default)
     (RichRecTools v2r0, RichRecAlgs v2r0, recrich v7r4, BrunelSicb v4r1)
   . Support for extra noise and smearing to mimic misalignment (off by default)
     (VeloAlgorithms v2r7)
   . Added a new options files for robustness tests. The different cases shown in
     http://cern.ch/lhcb-phys/task_force/TDR_studies_2002-2003/robustness/
     are implemented as follows:
   
     case 0: default settings for dbase v255r1, Brunelv255r1.opts
     case 1: default settings, use Brunelv254r1.opts as is
     case 2: add Test2Robustness.opts at end of Brunelv254r1.opts
     case 3: Not yet implemented
     case 4: independent of Brunel. Use Brunelv254r1.opts as is
     case 5: independent of Brunel. Use Brunelv254r1.opts as is
     case 6: Not yet implemented

     . Added Brunelv255r0.opts, Brunelv255r1.opts to support new dbases 


- Removed features:
   . Removed support for data produced with dbase v253r99 (Xmas 02 production) 

- New tuning:
   . Random number is now initialised by hashing a string containing the 
     complete run and event numbers (BrunelKernel v5r4)
   . Faster Calo MC truth association (CaloEvent v11r5, CaloAssociators v1r3)
   . New more efficient version of OO-Rich. OO reconstruction now similar or 
     better efficiency than Fortran. (RichKernel v3r0, RichUtils v3r0,
     RiSicbGeom v3r1, RichDet v4r1, RichDetTools v2r0, RichEvent v4r3,
     RichRecBase v1r0, RichRecAlgs v2r0, RiSicbCnv v5r5, RichRecTools v2r0)
   . Changed full scale of Prs and SPD (XmlDDDB v15r3)
   . Changed default pe/Mev and Prs/Spd fractional correction (CaloDigit v1r2)
   . Update S corrections (CaloReco v1r4, CaloPIDs v1r0)
   . M3 seed cleaning no longer done in y direction, increases L0Muon efficiency
     (L0Muon v6r5)

- DST changes:
   . Add VeloTrackAlg timing to Timing.opts - fixes bug 191 (BrunelAlgs v1r9)
   . Do not filter MCParticles and MCVertices containers if relations 
     between MCParticles and MCVertices are corrupt (checked with new tool
     CheckMCEventTool) to protect against bug 208 (BrunelAlgs v1r9, MCTools v1r1)
   . Add Trig/L1/TTClusters, ITClusters, OTClusters (GaudiConf v6r6) (These
     were available in Winter 2003 production via additional job options in
     production workflow) 
   . ProcStat now contains information from the OO Rich reconstruction:
     - for global and local algorithms, the number of PIDs produced, or the
       (negative) error codes if the processing was aborted
     - for the merging algorithm, the number of local and global results that
       were used in the merged output container

- Bug fixes:
   . Brunel.job again analyses core dump file, also on RH7
   . Bug 203: check array boundary for OT (L1VeloTrack v5r0)
   . Bugs 191, 208: see DST changes above.
   . Bug 305: fix initialisation of Calo monitoring (CaloMonitor v1r4)
   . Bugs 138,139: valgrind errors disappeared with new version of Rich code
   . Bug 396: memory leak reported by valgrind (DetDesc v11r9)
   . Several fixes to geometry solids (DetDesc v11r9)
   . Fix position of magnet material (XmlDDDB v15r3)
   . Minor bug fixes in ITCrossTalk (ITAlgorithms v12r9)
   . Fix clustering for merged pi zeros (CaloReco v1r4, CaloPIDs v1r0)
   . Fix bug in a loop index (MuonTools v3r4)
   . Use latest Gaudi bug fixes (Gaudi v11r5)

</PRE><H1><A NAME=v17r4>2003-02-06 Brunel v17r4</A></H1><PRE>
 - New tuning:
   . L1 minimum bias parameterization (L1Decision v1r7)
   . Updated version of single gamma tool (CaloReco v1r3)
   . New calibration constants for electrons and photons (CaloReco v1r3)
   . Update S and L corrections (CaloReco v1r3)

 - New features:
   . Repackaging of L1Decision to remove some dependencies (L1Decision v1r7)

 - DST changes:
   . Remove optional containers Rec/Calo/HcalIDe, HcalIDmu, PrsID, EcalID
   . Add mandatory container Rec/Calo/EcalE
   . Previously optional containers Rec/Calo/HcalE, PrsE now mandatory

 - Bug fixes:
   . BugID 136: fix a Rich1 volume overlap (XmlDDDB v15r2)
   . Print correct L0 performance values (L0DU v6r4)
   . Add missing factories for L1OTCluster and L1ITCluster (L1Event v11r6)

</PRE><H1><A NAME=v17r3>2003-01-31 Brunel v17r3</A></H1><PRE>
 - New tuning:
   . Changed logic for treating the L0 Muon PU overflow conditions: now  PU 
     always returns 2 randomly chosen candidates if there are more than 2 
     candidates found. No more the whole quarter of the processor is empty in 
     this case (L0Muon v6r4)
   . Default L0 Muon FoIs are set to reasonable values for the 125 KHz L0Muon
     bandwidth (L0Muon v6r4)
   . PuVeto decision taken on sum of second peak: 3 or more is vetoed (L0DU v6r3)
   . L0 thresholds adjusted (L0DU v6r3)

 - New features:
   . L0Muon ghosts cleaned in L0Muon rather than L0DU (L0Muon v6r4, L0DU v6r3)

 - Bug fixes:
   . Fix a boundary problem in DeVelo (VeloDet v8r4)
   . BugID 143: fix a rare duplicate key problem in VeloFEToL1 (L1VeloTrack v4r1)

</PRE><H1><A NAME=v17r2>2003-01-23 Brunel v17r2</A></H1><PRE>
 - New tuning:
   . Raise IT clustering S/N cut to 3.2 sigma (from 3.0) (Brunel.opts)
   . Tuning for new TT strip pitch and magnetic field, plus minor improvements
     (L1Decision v1r6)
   . Tuning of VTT tracking for field043 (VeloTT v1r5)
   . Tuning of Upstream tracking for field043 (TrIntraPR v2r4, UpstreamPR v2r7)
   . Improved agreement between Xml and CDF geometry for OO-Rich
     (XmlDDDB v15r0, RichDet v4r0, RichDetTools v1r3, Brunel.opts)
   . Fix HCAL and ECAL calibrations as result of time information in digitisation
     (XmlDDDB v15r1)

 - New features:
   . Add support for dbase v254r1
    (XmlDDDB v15r0, Brunelv254r1.opts - to be used also for dbase v254r0 and 
     v253r1 test data)
   . New algorithms to produce ST and OT trigger clusters
     (L1VeloTrack v4r0, L1Event v11r5)
   . Possibility to cut on IT S/N in Upstream tracking (TrIntraPR v2r4)

 - DST changes:
   . TrStateL of Velo and Veloback tracks is now given at Z of first measured
     point (actually first used phi sensor) instead of Z=0 previously
     (VeloTrack v4r5, TrCleanEx v2r6)

 - Bug fixes:
   . Fix valgrind problems (CaloDet v6r4, CaloReco v1r2p1, MuonAlgs v3r3)
   . Introduce fix to inner tracker materials that was mistakenly left out in
     XmlDDDB v14r1 (XmlDDDB v15r0)

</PRE><H1><A NAME=v17r1>2003-01-17 Brunel v17r1</A></H1><PRE>
 - New tuning:
   . Tune Match tracking for field043 (TrTools v2r4, TrMatching v2r5)
   . Use slope on x instead of atan(x/9450) in parabolic correction of pt-kick
     tool (TrTools v2r4)

 - New features:
   . Drop support for dbases prior to v253r99, add support for v253r99, v254r0
     > Use dbase v253r99 for data produced with dbase v253r0 (Xmas production)
     > Use dbase v254r0 for field043 data (e.g. test data produced with v253r1)
     > Data produced with dbase < v253r0 no longer supported
   . New accessor for noise level in ITSignalToNoiseTool (ITAlgorithms v12r8)

 - DST changes:
   . add a TrStateP to velo and veloBack unique tracks (2nd state on the track)
     at the Z closest to the beamline, assuming Pt=400 MeV/c and dp/p=0.1
     (TrCleanEx v2r5, Brunel.opts - new algorithm TrPrepareVelo) 

 - Bug fixes:
   . Fix Pi0Local per validation card: The 2x2 energy was used, instead of the
     total card energy (L0Calo v6r6)
   . Protect against possibility of zero deposited energy in MCHit 
     (VeloAlgorithms v2r6)
   . Fix minor problems flagged by valgrind 
     (TrExtrapolator v2r5, MuonSicbCnv v6r8)
   . Fix uninitialised variable (L1Decision v1r5)

</PRE><H1><A NAME=v17r0>2003-01-09 Brunel v17r0</A></H1><PRE>
 - New tuning:
   . Change strip threshold to 7000e (PuVeto v5r3)
   . Add tuning for magnetic field043 (LongTrack v1r5) 

 - New features:
   . Add support for dbase v253r1
   . Log inputs of L0Calo selection crate, for L1 studies
     (CaloDet v6r3, L0Event v13r1, L0Calo v6r5, BrunelAlgs v1r8)

 - DST changes:
   . Add Rec/Relation/L0CaloFullCandidates, Raw/L0/FullCalo

 - Bug fixes:
   . Fix many minor problems flagged by valgrind (SicbCnv v17r5, MuonSicbCnv v6r7
     OTAssociators v2r4, OTAlgorithms v12r3, ITAlgorithms v12r7, TrTools v2r3,
     TrCleanEx v2r4, TrAssociators v3r4, TrCheck v1r3, MuonID v3r5,
     MuonAlgs v3r2, RichRecInterfaces v2r0, RichRecTools v1r4, RiSicbCnv v5r4,
     KsReco v1r4, TrIntraPR v2r3, UpstreamPR v2r6, RichRecAlgs v1r4,
     RichMonitor v2r4, VeloDet v8r3, LongTrack v1r5, MuonTools v3r3)


</PRE><H1><A NAME=v16r4>2002-12-11 Brunel v16r4</A></H1><PRE>
 Essentially identical to v15r4, but using Gaudi v11 and DetDesc v11
   >> Introduces CMT projects
   >> Introduces support for RedHat 7.3
   >> Fixes many memory leaks

 - New tuning:
   . New tuning of ST charge sharing and clustering to match test beam
     (ITAlgorithms v12r6)
   . Increase lateral size of Aerogel to better match CDF description
     (XmlDDDB v14r4)

 - New features:
   . Re-enable OO-Rich by default (Brunel.opts)
   . Add support for dbase v253

 - DST changes:
   . Add SelectKs2pipi, RichLocPID, RichGloPID to timed algorithms

 - Bug fixes:
   . Do not abort job if no track are found for K0 search (KsReco v1r3)
   . Fixes to Electron and Photon algs (CaloReco v1r2)

</PRE><H1><A NAME=v15r4>2002-12-04 Brunel v15r4</A></H1><PRE>
  >>> This is the last version built against Gaudi v10 <<<
  Next version (for Xmas pre-production) will use Gaudi v11 and CMT projects

 - New tuning:
   . Fine tuning of VTT tracking (VeloTT v1r4)
   . Add material to central OT modules (XmlDDDB v14r3, v252r0 geometry)
   . New velo clustering for L1. Includes common mode noise simulation and
     correction (L1VeloTrack v3r4)
   . Changes to Calorimeter corrections (CaloReco v1r1)
   . Many fixes to OO-Rich (Rich/* packages)
   . New parameterisation and tuning of ST charge sharing (ITAlgorithms v12r5) 
   . Cut on max number of Velo tracks increased to 300 (from 200) (Brunel.opts)

 - New features:
   . Add support for dbase v252r0 (Brunelv252r0.opts)
   . New tools for PID with HCAL (CaloReco v1r1) 
   . Add OO-Rich LocalPID algorithm (RichRecAlgs v1r2)
   . Add Ks reconstruction (KsReco v1r2, PhysEvent v7r2)

 - DST changes:
   . OO-Rich switched off for default production
   . Add V0s

 - Bug fixes:
   . Fix edge problem in Velo detector element (VeloDet v8r1)
   . Fix loop index range (found by valgrind) (PuVeto v5r1)
   . Fix some mismatched new[]/delete to please valgrind (L1Decision v1r3)

</PRE><H1><A NAME=v15r3>2002-11-28 Brunel v15r3</A></H1><PRE>
 - New tuning:
   . Tighten cut on signal/noise of TT clusters (>4) to reduce ghost rate
     (VeloTT v1r3)
   . Exclude backward Velo tracks as identified by VeloTrack, rather than by
     private selection method (VeloTT v1r3)

 - New features:
   . More units supported in job options (GaudiConf v6r5)

 - DST changes:
   . Add ProcStatus to all events (BrunelKernel v5r2, BrunelDst.opts)

 - Bug fixes:
   . Fix typo (wrong array size used, found by valgrind) (MuonDet v4r2)
   . Fix usage of uninitialised variable, found by valgrind 
     (L1Decision v1r2, L1VeloTrack v3r4)
   . Protect against missing L1 Vertex - causing very frequent core dumps
     (L1Decision v1r2)
   . Fix position of wakefield cone (XmlDDDB v14r2)

 - Code cleanup:
   . Remove obsolete component library (CaloSicbCnv v7r3)
   . Release all tools at finalize (L1Decision v1r2)

</PRE><H1><A NAME=v15r2>2002-11-26 Brunel v15r2</A></H1><PRE>
 N.B.: to take advantage of new Rich tuning, new dbase versions are needed:
 To (re)process data produced with dbase v248r4, use dbase v248r5 and Brunelv248r5.opts
 To (re)process data produced with dbase v250r0, use dbase v251r0 and Brunelv251r0.opts
 To (re)process data produced with dbase v250r1, use dbase v251r1 and Brunelv251r1.opts
 The new Rich tuning is not supported for dbase v249r*

 - New tuning:
   . Modified the PuVeto peakValue method to improve peak finding (PuVeto v5r0)
   . Enable cluster filtering: Seeding does not use T station clusters already
     used by Forward tracking (Brunel.opts)
   . Forward tracking: new tuning, two passes (less ghosts with similar 
     efficiency), flag used velo tracks (LongTrack v1r4)
   . Track matching: improve selection of seed and velo tracks, tune chi2 cut
     (TrMatching v2r4)
   . Faster track cleaning (TrCleanEx v2r3)
   . Improvements to L0 Pi0 trigger (L0Calo v6r3)
   . Use TT1 for VTT and Upstream track association to MC (TrAssociators v3r3)
   . New tuning for Rich, use VTT tracks (recrich v7r3, dbase v251r*/v248r5)
     (not available for test data produced with dbase v249r*)
   . Do not pass Velo only tracks to Fortran Rich reco (RiSicbCnv v5r1)
   . L1 Velo tracking adapted to 45 degree Velo sensors (L1VeloTrack v3r3)

 - New features:
   . Add support for dbase v250r0, v250r1 (XmlDDDB v14r1, Seeding v2r3)
   . Add support for dbase v248r5, v251r0, v251r1 (new tuning for recrich)
   . Add L1 Decision code (L1Decision v1r1)
   . Fix OORich to also run on Windows 
     (RichRecKernel v1r1, RichRecEvent v1r1, RichRecAlgs v1r1)
   . Switch off all L1 histograms by default (L1VeloTrack v3r3)
   . New L0+L1 summary table in Brunel log file (L1Decision v1r1)

 - DST changes:
   . Add /Event/Trig/L1/Decision
   . Non-unique Velo, Seed tracks are removed by clone-killer (TrCleanEx v2r3)
 
 - Code cleanup:
   . Minimize printout of job options (*.opts)
   . Repackaging of OO Rich software to fix building of component libraries
     (RichRecInterfaces v1r0, RichRecTools v1r1, RichRecAlgs v1r1, 
      RichMonitor v2r1, Brunel.opts)
   . Use latest versions of SICB packages (detdes v19r0, Futil v12r0)

</PRE><H1><A NAME=v15r1>2002-11-19 Brunel v15r1</A></H1><PRE>

 - New tuning:
   . Add OT straw inefficiency at y=0 (OTDet v3r2)
   . Reoptimisation of Velo tracking (VeloTrack v4r3)
   . New package for the whole chain of Calorimeter digitization, 
     signal processing and zero suppression (CaloDigit v1r0)
   . Use 4th TT hit when possible in VTT tracks (VeloTT v1r2)
   . Improvements in calorimeter S&L corrections (CaloRec v1r0)
   . New calorimeter energy calibration (VeloRec v1r0)
   . Don't digitize unnecessarily 'Next' hits (ITAlgorithms v12r4)
   . Changes in definitions for entries in efficiency table (TrCheck v1r2)
   . Further tuning of forward tracks (LongTrack v1r3)

 - Bug fixes:
   . Fix NaN problem in case no primary vertex found (L1VeloTrack v3r3)

 - New features:
   . Possibility to use units in job options files (GaudiConf v6r4)
   . Calorimeter algorithms and tools do not print the same message after a
     maximum number of times. Default is 10 (CaloKernel v2r1)
   . Take into account time information in Calo digitization (CaloDigit v1r0)
   . Add e+/e- ID with PRS (CaloReco v1r0)
   . Add TT occupancy histos (ITCheckers v1r1)
   . New options file to define monitoring for production jobs (included by 
     default) (BrunelMoniProd.opts)
   . OO Rich global algorithm executed in parallel with Fortran (Linux only)

 - DST changes:
   . Updated list of algorithms in Trig/AlgUsedTimes and added elapsed time 
     measurement. This last change is not backwards compatible: to read 
     AlgUsedTimes from old DSTs must use Event/Event < v2r1
     (Event v2r1, EventSys v12r9, BrunelAlgs v1r6)
   . Add /Event/Rec/Calo/Particles and optional calorimeter ID objects
     /Event/Rec/Calo/HcalE, HcalIDe, HcalIDmu, PrsE, PrsID, EcalID
     These objects are used to build ProtoParticles and will be removed from
     the DST when  ProtoParticle cration is moved to Brunel.
   . Rename CaloClusters2MCParticles to EcalClusters2MCParticles
     EcalCelAutoClusters to EcalClusters, SplitClusters to EcalSplitClusters
   . Add /Event/Rec/Rich/OOPIDs for tests (Linux only, not useful for physics!)

 - Bug fixes:
   . Fix small memory leaks (MuonSicbCnv v6r6, TrIntraPR v2r2)
   . Minor bug fixes for evaluation of cluster spread and covariances
     (CaloUtils v4r3)
   . Minor bug fixes (uninitialised variables) (ITDet v1r2)

 - Code cleanup:
   . Repackaging of Calo software
     New packages: CaloDigit v1r0, CaloRec v1r0
     Removed packages: CaloTools, CaloAlgs, CaloRec, CaloTrackTools  
   . Add default locations and relations factories (CaloEvent v11r3)
   . Version change to force recompilation 
     (CaloSicbCnv v7r2, CaloDet v5r2, CaloDetXmlCnv v2r1, L0Calo v6r2)

</PRE><H1><A NAME=v15r0>2002-11-11 Brunel v15r0</A></H1><PRE>
 - New tuning:
   . Change Silicon Tracker strip pitch from 238 to 198 microns
     (XmlDDDB v14r0, ITAlgorithms v12r3)
   . Add 0.135% random noise to ITDigits (ITAlgorithms v12r3)
   . Cut on both strip threshold and total charge in cluster in ST clustering
     (ITAlgorithms v12r3)
   . Use sensible OT gas drift parameters in seed search (Seeding v2r2)
   . Small changes to Velo Tracking (VeloTrack v4r2)

 - New features:
   . Prepare geometry support for C++ Rich reconstruction
     (XmlDDDB v14r0, RichKernel v1r3, RichDet v3r0)
   . New tool to get S/N of an ST cluster (can be used by tracking algorithms
     to cut on S/N) (ITAlgorithms v12r3)
   . Add support for variable number of Muon stations (L0Muon v6r2, 
     MuonSicbCnv v6r5, MuonAlgs v3r0, MuonRec v2r3, MuonID v3r4, Brunel.opts)
   . Add support for dbase v249r0 and v249r1
   . Restructure options files to simplify switching on/off of monitoring and/or
     DST output. Monitoring histograms off by default (*.opts, BrunelAlgs v1r5)
   . Implement 45 degree Velo sectors. Currently hardwired for strip layout "1"
      (VeloDet v8r0, Brunel.opts)
   . Possibility to add noise to OT (off by default) (OTAlgorithms v12r1)
   . New methods in Relations (LHCbKernel v1r5)
   . Add VeloBack track type (for backwards going Velo tracks)
     (TrEvent v11r4,TrFitEvent v3r3,VeloTrack v4r2,TrCleanEx v2r3,CaloRec v2r5)
   . Skip "error" tracks in Calo reconstruction (CaloRec v2r5) 

 - Bug fixes:
   . Small fixes in TrFirstCleverExtrapolator (TrExtrapolator v2r3)
   . Small fixes in Velo geometry (VeloDet v8r0)
   . Fix typo in track matching, removes large fraction of large chi2 tracks
     (TrMatching v2r3)

 - Code cleanup:
   . Release all tools (ITAlgorithms v12r3, OTAlgorithms v12r1)
   . Remove obsolete code and unneccessary calls to msgSvc (TrExtrapolator v2r3)
   . Fix some valgrind warnings (VeloAlgorithms v2r4)
   . Add private copy constructor to KeyedObject - keyed objects may not be
     copied, as that leads to duplicate key (EventKernel v2r1, EventSys v12r8)
   . New versions to use new VeloDet
     (PuVeto v4r1, L1VeloTrack v3r2, VeloAssociators v1r3, TrCheck v1r1)

</PRE><H1><A NAME=v14r2>2002-10-31 Brunel v14r2</A></H1><PRE>
 - New tuning:
   . Add dummy Velo state to Match track fit to fix bad chi2 (TrMatch v2r2)
   . Speed up extrapolation using TrHerabExtrapolator instead of
     TrFirstCleverExtrapolator (TrMatch v2r2)
   . Tune forward tracking to find more high momentum tracks (LongTrack v1r2)
   . Modify TrReconstructible definitions (TrAssociators v3r2)
   . Reduce state z position tolerance from 100cm to 50mm (RiSicbCnv v4r6)

 - New features
   . Possibility to add TT hits to Match tracks - switched off in Brunel.opts
     due to high rate of bad chi2 tracks (TrMatch v2r2)
   . Add VeloTT tracks to TrAssociator (TrAssociators v3r2)
   . Improved track monitoring (TrAnalyse replaces FwtAnalyse) (TrCheck v1r0)

 - DST changes:
   . Add L1 Summary to DST (BrunelDst.opts)
   . Add L1VeloTrackAlg to algorithms being timed (BrunelAlgs v1r4)

 - Bug fixes:
   . Fix in SolidSphere (DetDesc v10r5)
   . Fix in calculation of intersection of a line with a cone (DetDesc v10r5)
   . Add missing factories (L1Event v11r1, EventSys v12r7)

 - Code cleanup:
   . Fix a mismatched new[]/delete reported by valgrind (VeloTT v1r1)
   . Remove creation and deletion of an obsolete unused state (TrFitter v3r4)
   . Remove unneccessary TrExtrapolator base class (TrKernel v11r1, 
     TrExtrapolator v2r3, TrFitter v3r5, TrMatching v2r3, UpstreamPR v2r4)

</PRE><H1><A NAME=v14r1p2>2002-10-25 Brunel v14r1p2</A></H1><PRE>
 - Bug fix:
   . Fix bug in TrFirTrack, causing poor efficiency for unique tracks
     (TrFitEvent v3r2)

</PRE><H1><A NAME=v14r1p1>2002-10-23 Brunel v14r1p1</A></H1><PRE>
 - Bug fix:
   . Fix crash when deleting a track after a fit failure (TrFitter v3r3)

 - New feature:
   . When running in batch, Brunel.job picks up executable from user's newmycmt
     rather than from $LHCBSOFT

</PRE><H1><A NAME=v14r1>2002-10-22 Brunel v14r1</A></H1><PRE>
 - New tuning:
   . Add 1% inefficiency in IT, due to dead strips (ITAlgorithms v12r2)
   . Small changes to Velo noise processing (VeloAlgorithms v2r3)
   . Allow association of OTCluster to many MCParticles (OTAssociators v2r2)
   . Improved VeloClusterOnTrack errors (TrFitEvent v3r1)
   . Add dummy state to track fit, to fix bad chi2 on 8% of long tracks
     (TrEvent v11r3, TrFitEvent v3r1, LongTrack v1r1)
   . Tune initial covariance matrix parameters for Kalman filter
     (LongTrack v1r1, TrMatching v2r1)
   . New cuts on estimated track errors, to recover efficiency (TrMatching v2r1)
   . Do not extrapolate tracks outside LHCb volume (TrExtrapolator v2r2)
   . Do not add state closest to beam line if new Z is downstream of first 
     measured point or more than 200mm from Z=0. (TrFitter v3r2)
   . Drop tracks with fit failures (TrCleanEx v2r2)

 - New features:
   . Prepare for dbase v249r* support (MuonDet v4r1, MuonTools v3r1, MuonID v3r3)
   . Add VeloTT tracks (*BEWARE*: requires tuning) (EventSys v12r6, 
     TrEvent v11r3, TrFitEvent v3r1, VeloTT v1r0, TrCleanEx v2r2, CaloRec v2r4) 
   . Get OT digitization parameters from Xml
     (XmlDDDB v13r1, OTDet v3r0, OTAlgorithms v12r0, TrFitEvent v3r1)
   . Possibility to add Xtalk and Random noise to IT. Switched off by default
     (ITAlgorithms v12r2)

 - Bug fixes:
   . Fix usage of uninitialised variables (L1VeloTrack v3r1)
   . Fix a memory leak (LongTrack v1r1)
   . Fix ZFATAL from spillover when no spillover event in first event
     (SicbCnv v17r3)

 - Packaging changes:
   . IT monitoring moved to a new package (ITCheckers v1r0, BrunelMoni.opts)
   . TrTrack moved out of TrEvent package into TrFitEvent package
     (EventSys v12r6, TrEvent v11r3, TrFitEvent v3r1)

</PRE><H1><A NAME=v14r0>2002-10-14 Brunel v14r0</A></H1><PRE>
 - New tuning:
   . Improvements to Forward tracking (LongTrack v1r0, Brunel.opts)
   . Improvements to Velo tracking for K0s (VeloTrack v4r1)
   . Tune Velo noise and signal/noise cuts
     (VeloKernel v1r2, VeloAlgorithms v2r2, VeloTrack v4r1)
   . Improvements in Upstream tracking 
     (TrTools v2r1, TrIntraPR v2r1, UpstreamPR v2r2)
   . Improved L1 Velo tracking algorithm (L1VeloTrack v3r0)
   . ITAssociators allow MCParticles to share ITClusters (ITAssociators v2r1)

 - New features:
   . Add geometry support for Muon with MWPC, with/without M1
     (XmlDDDB v13r0, MuonDet v4r0)
   . Use latest versions of packages (changes not affecting Brunel)
     (CaloAssociators v3r0)

 - DST changes:
   . Replace FwtFind with FindLongTrack in AlgUsedTimes (BrunelAlgs v1r3)
   . Add a track state at the Z of nearest approach to the beam to Forward and
     Match tracks (TrFitter v3r1, Brunel.opts)

 - Bug fixes:
   . Scan also L1Track2d2MCP when selecting MCParticles to be saved to DST. 
     Should fix crashes when writing DST (15% of signal jobs) (BrunelAlgs v1r3)
   . Fix VeloCluster to MCHit association ambiguity
     (EventSys v12r5, VeloEvent v11r1, VeloAssociators v1r2, L1VeloTrack 2r3)
   . Fix a bug in debug printout (MuonID v3r2) 
   . Use same track state for Fortran back conversion and subsequent comparison 
     (RiSicbCnv v4r5)
   . Remove some wrong consistency checks (VeloDet v7r1)

</PRE><H1><A NAME=v13r2>2002-10-08 Brunel v13r2</A></H1><PRE>
Bug fix release for reprocessing of summer production
Supported geometry: dbase v248r4 (can process data produced with dbase v248r*)

 - New tuning:
   . Tune L0 thresholds (L0DU v6r1)
   . Change OT dead time from 30 to 50 ns (OTAlgorithms v11r1)
   . Associate decaying tracks (TrAssociators v3r1)
   . Select unique tracks for Rich reconstruction (RiSicbCnv v4r4) - should
     reduce effect of cut on 300 tracks
   . Tune spillover parameters for IT (ITAlgorithms v12r1)
   . Allow for dead region between IT wafers (ITDet v1r1)

 - New features:
   . Support for valgrind memory checking tool (job/Brunel.supp, valgrind.job)
   . Prepare for variable number of Muon stations in XML
     (MuonTools v3r0, MuonSicbCnv v6r4, MuonID v3r1, L0Muon v6r1)

 - Bug fixes:
   . Random number engine initialisation (GaudiSvc v8r4).
     With this fix, and with initialisation of random numbers at every event
     (Brunel.opts) reconstruction is reproducible when starting at any event,
     even when doing spillover
   . Distance of stagger in wafers of TT1 layers was 2x too big (ITDet v1r1)
   . Missing [] in delete (SicbCnv v17r2, RiSicbGeom v2r3, VeloTrack v4r0p1)
   . Test iterator not at end before accessing it (TrCleanEx v2r1)
   . Fix uninitialised variables in L0MuonCandidate 
     (EventSys v12r4, L0Event v12r2)
   . Test L0MuonCandidate status (L0DU v6r1)
   . Remove uninitialised and unused variable (L1VeloTrack v2r2) 
   . Fix ProcStatus default path and add to DST 
     (EventSys v12r4,TrEvent v11r2, VeloTrack v4r0p1, Seeding v2r1, FwTrack v4r2)
   . Fixes in Muon MC truth (SicbCnv v17r2, MuonSicbCnv v6r4)
   . Fixes for Muon cross-talk calculation (MuonDet v3r2)
   . Fixes to readout and layer bits in MuonTileID (MuonRec v2r2)
   . Fix track fit 'smoother problem' (-ve covariances) (TrExtrapolator v2r1) 
   . Use fabs instead of abs for doubles. Should fix overlapping volumes and 
     other problems on Windows (DetDesc v10r4, RiSicbGeom v2r3, RiSicbCnv v4r4,
     CaloDet v5r1, CaloUtils v4r2, CaloTools v4r4)
   . Fixes to digitisation of IT stereo layers (ITDet v1r1, ITAlgorithms v12r1)
   . Add protection against invalid argument to ACOS (recrich v7r2)
   . Do not consider events where tracking is skipped (> 200 Velo tracks) 
     for tracking efficiency statistics (FwTrack v4r2)

 - Geometry changes (XmlDDDB v12r5):
   . Fix overlap between Velo and Rich1
   . Complete vertical Rich1 description
   . Velo fixes and optimisation

 - Fixed memory leaks:
   . CaloHypo destructor was not deleting its CaloPosition and CaloMomentum
     (EventSys v12r4, CaloEvent v11r2)

 - Code cleanup:
   . Apply coding conventions, document (OTDet v2r2, OTAssociators v2r1)
   . OTCluster2MCHitAlg now uses OTCluster2MCDepositAlg (OTAssociators v2r1)
   . Remove need for OTInitialization alg. (OTAlgorithms v11r1, Brunel.opts)
   . Release tools at finalize (Seeding v2r1, FwTrack v4r2)

</PRE><H1><A NAME=v13r1>2002-07-30 Brunel v13r1</A></H1><PRE>
Release of Brunel for summer 2002 production.
Supported geometry: dbase v248r4 (can process data produced with dbase v248r*)

 - DST changes:
   . MuonDigit::TimeStamp is now filled (MuonAlgs v2r2)

 - Tuning
   . Modify jitter in Muon MWPC readout (XmlDDDB v12r4)

 - Fixes:
   . Initialise random number once per job, using run number as seed
     (BrunelKernel v5r1)
   . Add protections against tracks with missing states
     (RiSicbCnv v4r3, recrich v7r1)
   . Fix double deletion of Calo Relations
     (LHCbKernel v1r4, CaloAssociators v2r2, CaloRec v2r3)
   . Small fixes to Muon Digitisation
     (EventSys v12r2, MuonSicbCnv v6r2, MuonAlgs v2r2)
   . Fix potential memory leaks, improve protections for pointer dereferencing
     (RiSicbCnv v4r3, RichMonitor v1r2)


</PRE><H1><A NAME=v13r0>2002-07-25 Brunel v13r0</A></H1><PRE>
Third release of Brunel for summer 2002 pre-production.

Supported geometry: dbase v248r4 (can process data produced with dbase v248r*)
Complete OO-Dst output.

 - Functionality changes:
   . Needs dbase v248r4 (Brunelv248r4.opts added, *v248r2.opts removed)
     > Default input file changed (previous default had problem with PASS bank)
   . SpillOverAlg executes as first algorithm in Digi phase 
     (SicbCnv v17r1, Brunel.opts)
   . Add Spillover support to Rich 
     (EventSys v12r0, SicbCnv v17r1, RiSicbCnv v4r2, recrich v7r0, Brunel.opts)
   . Use all tracks except Velo-only for Rich PID 
     (RiSicbCnv v4r2, recrich v7r0)
   . Add histogram for virtual memory usage (SicbCnv v17r1)
 
 - DST changes:
   . 'err' on 2d tracks now means 45 degree subsector (L1VeloTrack v2r1) 
   . Write all MuonCoords to DST (remove filtering), do not write MuonDigits
     (BrunelAlgs v1r2, BrunelDst.opts)

 - Fixes:
   . Fix pi0 mass (CaloTools v4r2, CaloRec v2r2)
   . Fix Rich2 position (XmlDDDB v12r3)
   . Fix units for crosstalk region in Muon (XmlDDDB v12r3)
   . Fix Pt encoding in L0MuonCandidate (EventSys v12r0)
   . Fix memory leaks (RiSicbCnv v4r2, RiSicbGeom v2r2)
   . Fixes to run on Windows
     (CaloTools v4r2, UpstreamPR v2r1, MuonID v2r1, RiSicbCnv v4r2, FwTrack v4r1)
   . Fix problem of inconsistent Velo numbering between SICBMC and Brunel
     (VeloSim v2r1)
   . Fix multiple tool initialisations (RiSicbCnv v4r2, RiSicbGeom v4r2)
   . Move a log message to save ~30ms per event (OTDet v2r1)
   . Latest Gaudi bug fixes (GaudiSvc v8r3)

</PRE><H1><A NAME=v12r0>2002-07-19 Brunel v12r0</A></H1><PRE>
Second release of Brunel for summer 2002 pre-production.

Supported geometry: dbase v248r2
Complete OO-Dst output.

 - New Functionality:
   . Add refit to upstream tracks (UpstreamPR v2r0)
   . New ProcStatus class to hold the abort condition of an event, and
     the list of algorithms with bad status (TrEvent v11r1, EventSys v11r1)
     Processing aborted if:
      > 200 VeloTracks found (and set ABORT flag) (VeloTrack v4r0)
      > 1000 hits in a tracking sector (Seeding v2r0)
     Do not process if ABORT flag set (Seeding v2r0, FwTrack v4r0)
   . New Velo digitisation used also for PuVeto, remove PuVetoDigit 
                                                 algorithm and VeloDigit DLL
     (VeloAlgorithms v2r0, VeloDet v7r0, PuVeto v4r0, Brunel.opts)
   . Improvements to Clone Killer (TrFitEvent v3r0, TrCleanEx v2r0)
   . New tool for combined SPD/PRS single photon ID 
     (CaloTools v4r1, CaloInterfaces v2r2)
   . Use all track types for matching in Calo (CaloRec v2r1)
   . Check that RichPIDs refer to correct track container (RichMonitor v1r1)

 - DST changes:
   . Save ProcStatus (BrunelDst.opts)
   . Store PuVeto multiplicities in L0PuVeto::sTot (PuVeto v4r0)
   . Save L1Track2d2MCP (BrunelDst.opts, BrunelMoni.opts)
   . Save MuonDigits and MuonDigits2MCParticles (BrunalAlgs v1r1, BrunelDst.opts)
   . New RichDSTPrepare algorithm to fix PID SmartRefs on DST
     (RiSicbCnv v4r1, Brunel.opts)
   . Set track charge according to sign of momentum 
     (FwTrack v4r0, TrMatching v2r0)

 - Tuning:
   . Forward tracking, improved TT1 matching, monitor efficiency (FwTrack v4r0)
   . Pt Kick tuned and now used (TrTools v2r0, Seeding v2r0)
   . Adjust fit parameters to fix negative covariance 
     (Seeding v2r0, TrMatching v2r0, UpsrteamPr v2r0))
   . Matching (TrMatching v2r0)
   . Velo digitisation (VeloKernel v1r1, VeloAlgorithms v2r0)
   . L1VeloTrack parameters (L1VeloTrack v2r0)

 - Fixes:
   . Fix memory leaks and/or missing constructors/destructors in:
       VeloSim (VeloAlgorithms v2r0)
       TrSeedEvent (Seeding v2r0)
       TrLayerPartition, RoI (TrIntraPR v2r0)
       FwtFitParams (FwTrack v4r0)
       Calo Event classes (CaloEvent v11r1)
       CellularAutomaton, CaloDigitsFilterAlg (CaloAlgs v7r1)
   . Fix for "looping" in upstream tracking (TrIntraPR v2r0) 
   . Fix compilation on Windows (TrIntraPR v2r0, TrUpstreamPR v2r0)
   . Fix crash when printing statistics for zero events (FwTrack v4r0) 
   . Fix Velo numbering scheme (VeloDet v7r0, VeloTrack v4r0, L1VeloTrack v2r0)
   . Change to AssociatorBase class to always produce output table at correct 
     location (LHCbKernel v1r3)
   . Bug fixes in Gaudi+ROOT I/O (ROOT v2r303p0, GaudiRootDb v9r0, GaudiDb v8r1) 
   . Fixes to Velo, Muon, Rich1, Rich2 geometry overlaps (XmlDDDB v11r2)
       TransportSvc reports any remaining overlaps (BrunelMessage.opts)
   . Fixes to OutputLevel (many algorithms, and BrunelMessage.opts)

 - Change requirements files for version consistency:
   (VeloAssociators v1r1, TrAssociators v3r0, TrFitter v3r0, L0Calo v6r1, 
    CaloSicbCnv v7r1, CaloAssociators v2r1, CaloUtils v4r1, CaloTrackTools v1r4,
    CaloMonitor v1r1)


</PRE><H1><A NAME=v11r0>2002-07-09 Brunel v11r0</A></H1><PRE>
Release of Brunel for summer 2002 pre-production.

Supported geometry: dbase v248r2
Complete OO-Dst output.

! 2002-07-09 - Marco Cattaneo
 - Use latest improvements to recrich (v6r2)
 - Drop Velo relations to MCParticles of Spillover events
 - Add Brunelv248r2.opts, remove Brunelv248r1.opts

! 2002-07-08 - Marco Cattaneo
 - Add pre-selection of tracks for Rich (currently forward tracks from Tr/Best)
 - Calo PID now uses Tr/Best tracks as input
 - Tr/Forward container suppressed
 - Fix L0 muon and muon PID efficiency (bug fix in muon digitization)
 - Adapt tracking to ITDet Xml geometry
 - Seeding only always returns best choice for L/R ambiguity on OT
 - Track fit sorts measurements by increasing Z prior to fit
 - Drop support for dbase < v248r0

! 2002-07-05 - Marco Cattaneo
 - Upstream tracks saved on DST in Tr/Best container
 - MuonID performed on all "unique" long tracks in Tr/Best container
 - IT Digitisation now uses XmlDDDB, can process data from new TT1
 - Skip Rich reconstruction in events with more than 300 forward tracks

   DST is now complete, except for:
   . filtering of tracking clusters not used by tracks

! 2002-07-04 - Marco Cattaneo
 - Add upstream tracking. Algorithm executed but output not yet saved
 - Fix and enable filtering of MCParticles/MCVertices
 - Improve handling of Muon background in Sicb converters

! 2002-07-02 - Marco Cattaneo
 - Add TimingAlg in new Timing sequence at end of Reco phase
 - use latest Gaudi bug fix release
   (GaudiKernel v12r3, GaudiSvc v8r2, GaudiRootDb v8r1)
 - Use latest version of TrAssociators, produces Tr2MCP relation

! 2002-07-01 - Marco Cattaneo
 - Add L1 monitoring and Truth information
 - Add L0 Truth information
 - Disable filtering of MCParticles/MCVertices (not working with Spillover)
 - Output Tr/Best tracks in "flag" mode (contains a copy of all track types,
   with clones flagged, not killed) and  suppress creation of Tr/Seed, Tr/Velo,
   Tr/Match containers

! 2002-06-28 - Marco Cattaneo
 - Add "new" seeding algorithm
 - Add filter of MCParticles and MCVertices
 
! 2002-06-27 - Marco Cattaneo
 - Add track clone killer. Currently all track types are saved, plus a
   copy of these tracks as selected by the clone killer

! 2002-06-25 - Marco Cattaneo
 - Add Muon OO digitization, and remove Fortran version
 - Add L1 tracking
 - Add VeloMatch track monitoring
 - Add support for dbase v246r0

! 2002-06-21 - Marco Cattaneo
 - Add latest Calorimeter code. 

! 2002-06-19 - Marco Cattaneo
 - Add Rich digitisation and reconstruction (only for dbase v245r0 or greater)

! 2002-06-18 - Marco Cattaneo
 - Add Track seeding and Velo Matching (without persistency for now)

! 2002-06-11 - Marco Cattaneo
 - Add a new BrunelOutput phase, in which to run algorithms that prepare the
   data store for DST output (filters, relations etc.)

! 2002-06-07 - Marco Cattaneo
 - Change version to v11r0 to use new versions of Event Model, OTDet etc.
 - Remove obsolete options files BrunelTrSiTT12.opts, BrunelTrOtItTT1.opts

! 2002-06-07 - Marco Cattaneo
 - Add support for dbase v245 (without RICH for now)

</PRE><H1><A NAME=v10r0>2002-06-04 Brunel v10r0</A></H1><PRE>
Pre-release of Brunel using new event model, in preparation for summer 2002
production

   >>>>>> Supported geometries:
     - LHCb-Light detector with split TT1:
           dbase v243r1p1 (Silicon only split TT1)
           dbase v243r3   (IT+OT split TT1)
       Previous databases are not supported.
       Support for later databases will be added as data becomes available

   >>>>>> Current functionality:
     - Inner Tracker digitisation and clustering
     - Outer Tracker digitisation and clustering
     - Velo digitisation and standalone tracking
     - Forward track finding, fitting, conversion to StoredTracks
     - Conversion of StoredTracks to AXAT/AXTP banks (for RICH reconstruction) 
     - RICH Digitisation (old SICB Fortran version)
     - Calo digitisation and clustering
     - MUON Digitisation (old SICB Fortran version), reconstruction, MuonID
     - L0 trigger simulation
     - OO-DST output

   >>>>>> Missing functionality:
     - L1 trigger simulation
     - Upstream tracking
     - Rich reconstruction and PID
     - Calo PID
     - Correct XML geometry for Rich1, Rich2

   >>>>>> Existing DST content:
     EventHeader, GenHeader
     Collisions, MCParticles, MCVertices
     L0CaloCandidates, L0MuonCandidates, L0PuVeto, L0DUReport
     VeloClusters
     RichDigits
     ITSummary, ITClusters, ITClusters2MCParticles relation
     OTClusters
     TrStoredTracks and corresponding TrStates and TrMeasurements
     EcalCelAutoClusters,EcalLocMaxClusters
     MuonID, MuonCoords (filtered, only if used by MuonID)

   >>>>>> Missing DST content/functionality:
     L1 output
     RICH PID
     CALO PID
     Filtering of MCParticles, MCVertices
     Filtering of ITClusters, OTClusters
     Relations to MCParticle (needed set to be decided)
 

   Backwards incompatible version for use with the new event model.
   All Fortran support removed, except for:
        RICH digitisation and reconstruction.
        MUON digitisation.

   Suppressed BrunelFinalFit phase for the time being

   In job/Brunel.job
   - Script cleaned up, improved behaviour in interactive mode

   In options
   - All files touched to support new event model algorithms
   - New file BrunelDst.opts to set up DST output
   - All files corresponfin to unsupported dbases removed

   In cmt/requirements
   - use Gaudi    v10 and corresponding external packages
   - use EventSys v10r0 Event (new Event model)
   - remove all SICB dig*, tr*, rec* packages, except digmuon, recrich

   - use ITAlgorithms  v10r0 IT
   - use ITAssociators  v1r0 IT
   - use OTAlgorithms  v10r0 OT
   - use OTAssociators  v1r0 OT
   - use VeloDigit      v2r0 Velo
   - use VeloTrack      v2r0 Velo
   - use TrFitEvent     v1r1 Tr 
   - use TrAssociators  v1r0 Tr
   - use FwTrack        v2r0 Tr
   - use TrFitter       v1r0 Tr
   - use TrExtrapolator v1r0 Tr
   - use MuonTools      v2r0 Muon
   - use MuonRec        v1r0 Muon
   - use MuonID         v1r0 Muon
   - use CaloInterfaces v2r1 Calo
   - use CaloUtils      v2r2 Calo
   - use CaloTools      v2r0 Calo
   - use CaloAlgs       v5r1 Calo
   - use L0Calo         v5r0 L0
   - use L0Muon         v5r0 L0
   - use PuVeto         v2r0 L0
   - use L0DU           v5r0 L0

! =================================================================
</PRE><H1><A NAME=v9r1p1>20020419 Brunel v9r1p1</A></H1><PRE>
   - Brunelv243r3.opts: fix typo in included filename
     (#include "$BRUNELOPTS/BrunelTrOtItTT1.opts" was ItOt)

! =================================================================
</PRE><H1><A NAME=v9r1>20020320 Brunel v9r1</A></H1><PRE>
   Adds support for dbases v243r3, v243r1p1 (comparative study of TT1 options). 
   Includes several bug fixes (see below)
 
   In options
   - Brunelv243r3.opts, BrunelTrItOtTT1.opts: new files to support dbase v243r3
   - Brunelv243r1p2.opts: new file to support dbase v243r1p2
   - BrunelTr*.opts all touched to make them consistent with new files above
   - Brunel.opts: enable Calorimeter OO reconstruction (without persistency)
   - BrunelMoni.opts: disable ITDigitMonitor (crashes for dbase v243r3)

   In requirements
   - use LHCbEvent    v12r2 Event
     AxPartCandidate.h - initialisation-value for m_fitCovariance set to (6,0).
                         (needed by serializers)

   - use ITEvent      v7r2  Event
      Bug fixes in ITDetectionLayer and ITChannelID, should solve problem 
      of missing hits reported by O. Callot
   - use ITAlgorithms v8r1  IT
      Bug fixes in ITDigitCreator, Add ITDigitEffMonitor class

   - use CaloEvent    v7r1  Event
      fix problems with std::maps on Win2K 
   - use CaloAlgs     v4r3  Calo
      fix problems with std::maps on Win2K
      fix the CPU problems with sorting of very large containers 
             (substutute std::sort with std::stable_sort)

   - use Velodet      v3r1  Det
    . Change the 'type' of the wafers, to handle properly the separation between
      left and right detectors, this was not done for R and was incorrect for 
      Phi. The result was an inefficiency in the overlap region (vertical).
    . Fixes a few minor problems of boundary, by increasing tolerances to see
      if a hit is compatible with a region of the other detector.
    . When matching R-Phi, if the slope from the nominal vertex is too big,
      one use an extrapolation parallel to the Z axis and an increased tolerance.

   - use simmubg      v5r3  SICB
      murwhits.F - Bug fix : The original (before muon background addition) 
                   number of ATMC objects in the last partition (pile-up event) 
                   is now correctly counted.
      
! =================================================================
</PRE><H1><A NAME=v9r0>2002025 Brunel v9r0</A></H1><PRE>
   Upgraded to use Gaudi v9
   Added VELO digitisation, VELO tracking
   Added Forward tracking
   Added L0 pileup veto
   Added TT1 to IT reconstruction
   --> Use this version to reconstruct data produced with dbase v240 to v243r1

   Functionality changes
   ---------------------
   In src
   - BrunelMain.cpp: new main program, to set up job options path.
       Job options path is set according to the following precedence rules:
       1. argument given to Brunel.exe
       2. value of JOBOPTPATH environment variable
       3. "$BRUNELOPTS/Brunel"+dbver+".opts", where dbver is the SICB database
          version number, taken from $LHCBDBASE
 
   In options
   - Restructuring of options files: one main file per supported database version
     includes Brunel.opts, includes database specific files, and should be
     modified for user definitions (including I/O specification)
   - Brunel.opts: suppress printout of options from included subdetector files
                  add BrunelSicbInit to TopAlg list
                  add Calo reconstruction
                  add Velo digitisation and tracking
                  add PuVeto to L0 trigger
                  Remove L0SicbCnv
   - Brunel<dbver>.opts (dbver=v240, v240r1, v241, v242, v242r1, v243r1): 
       Main options file for supported databases
   - BrunelTrLight.opts, BrunelTrMinus.opts, 
     BrunelTrCrossTT1.opts, BrunelTrTT1.opts, BrunelTrTT12.opts:
       Database specific options for tracking
   - BrunelInputs.opts, BrunelUser.opts, BrunelStatic.opts
       Obsolete files, removed.

   In BrunelSicb
   - BrunelSicbInit: new algorithm with SICB specific initialisation.
   - BrunelInitialisation: moved to Brunel Kernel
   - BrunelInit.F: Seeds of SICB random number engine (RanEcu) initialised 
                   at every event with run number and event number.
   - btrigger.F: Fix timing problem with t1track code
   - richprod.F: Local version, to remove call to axtrigger

   In BrunelKernel
   - BrunelInitialisation.cpp: 
      . Seed of Gaudi random number engine (RanLux) initialised every event: 
          100000*(event no. % 20000) + (Run no. % 100000)
      . Create event data store directory nodes:
         /Event/Raw, /Event/Rec, /Event/Trig, /Event/Trig/L0

   First version of forward tracking. Currently executing in parallel to
   standard tracking, output not saved. New packages:
     use Det/VeloDet    v3r0
     use Velo/VeloDigit v1r0
     use Velo/VeloTrack v1r1
     use Tr/FwTrack     v1r1
   
   Added C++ PileUp Veto code, uses Velo TDR geometry from XmlDDDB. 
     use L0/PuVeto      v1r0

   C++ L0 decision available in new event model (not yet persistent)
     use Event/EventKernel v1r0
     use Event/L0Event     v10r0
     use L0/L0Calo         v4r0
     use L0/L0DU           v4r0
     Removed SICB/L0SicbCnv

   Prepare for Calorimeter C++ reconstruction (not yet executed)
     use Calo/CaloTools   v1r1
     use Calo/CaloCA      v3r1
     use Calo/CaloAlgs    v4r1

   All Silicon TT1
    use ITEvent      v7r1
    use ITAlgorithms v8r0

   Create empty containers if corresponding SICB banks are missing
     use SICB/SicbCnv   v15r1
     use SICB/VSicbCnv  v6r1

   Additional changes for Gaudi v9 
   -------------------------------
   In job
   - Brunel.job: pass job options path as argument to executable

   In requirements
    use GaudiConf    v6r2  (was v5)
    use GaudiSys     v9r0  (was v8)
    use HbookCnv     v11r0 (was v10r1)
    use BrunelKernel v3r0  (was v2)
    use BrunelSicb   v2r0  (was v1)
    use TrKernel     v6r0  (was v5r1)
    use CaloKernel   v1r0  (was CaloGen v2)
    use DetDesc      v9r2  (was v7)
    use XmlDDDB      v8    (was v6r1)
    use CaloDet      v3r0  (was v3r0)
    use LHCbEvent    v12r1 (was v11)
    use VeloEvent    v6r0  (was v5)
    use OTEvent      v7r0  (was v6r1)
    use TrEvent      v7r1  (was v6r1)
    use CaloEvent    v7r0  (was v6)
    use CaloSicbCnv  v5r1  (was v4)
    use MuonSicbCnv  v4r0  (was v3)
    use TrSicbCnv    v4r0  (was v3)
    use L0Muon       v4r0  (was v3r1)
    use OTAlgorithms v7r0   (was v6)
    use TrAlgorithms v7r1  (was v6r2)
     
! =================================================================
</PRE><H1><A NAME=v8>20011017 Brunel v8</A></H1><PRE>
   Major repackaging, no major change in functionality:
   - all source files have been removed and moved to new Rec/BrunelSicb package
   - version number is set by a compiler define flag in the requirements file
   - same Brunel version can read data produced with multiple dbase versions,
     starting from dbase v240

   In job
   - Brunel.job: Remove unsetenv LD_LIBRARY_PATH

   In options
   - Remove LHCbLight.opts (moved to dbase v241)
   - Brunel.opts: include $LHCBDBASE/options/Brunel.opts

   In cmt/requirements
   - remove use dbase ($LHCBDBASE to be set externally)
   - add macro_append fflags

   - use BrunelSicb   v1   Rec
       in src/Lib/BrunelDigiMUON.cpp : default now to not add muon background.
                                       Due to bug in MURMBG if background was 
                                       already added by SICBMC
   - use TrKernel     v5r1 Tr
       remove virtual from state getZ member
   - use ITEvent      v6r1 Event
       Remove memory leak
   - use OTEvent      v6r1 Event
       bug fix - due to inconsistent numbering, wires were skipped at edge
                 of a module
   - use TrEvent      v6r1 Event
       Reserve space in vectors of measurements/states inside track classes
       Should save time
   - use TrAlgorithms v6r2 Tr
       remove obsolete fortran runga kutta routine
       tidy the code up a bit
       minor optimizations to speed up the code alittle
   - use TrSicbCnv    v3   SICB
       requirements - use TrEvent v6*
! =================================================================
</PRE><H1><A NAME=v7r1>20010913 Brunel v7r1</A></H1><PRE>

   In cmt/requirements
     use TrAlgorithms v6r1 Tr
     - fix a memory leak in TrFitIntializer

     use rechcal      v6r1 SICB
     - Modified hcl0_make to delete the existing map of cell references.

! =================================================================
</PRE><H1><A NAME=v7>20010904 Brunel v7</A></H1><PRE>
  This version is to be used for data produced with SICBMC v248/dbase v241
  ("LHCb-Light")

  It consists of the same code as v6, but uses a different geometry.

  In options/
   LHCbLight.opts - new file to set up LHCb-Light tracker geometry
   Brunel.opts    - include LHCbLight.opts

  In cmt/requirements
  ===================
  use dbase v241 SICB
    standard.stream - use new pipe and velo
      
    vsrp.cdf and vpil.cdf - Thickness of the RF shield and 
                            silicon detectors changed (J. Palacio)
    field042.cdf - introduce field in Velo (G. Corti)
    magnet.cdf   - remove rich 1 shielding plate (M. Needham)
    rich.cdf     - remove aerogel, reduce radiation thickness of mirror 
                   and supports (J. Libby)
    witr.cdf, wotr.cdf, wsta.cdf - 
                   reduce number of tracking stations to 4 (M. Needham)
    pipe8.22.cdf - Be first section (G. Corti)

! =================================================================
</PRE><H1><A NAME=v6r1>20010913 Brunel v6r1</A></H1><PRE>
   In cmt/requirements
     use TrAlgorithms v6r1 Tr
     - fix a memory leak in TrFitIntializer

     use rechcal      v6r1 SICB
     - Modified hcl0_make to delete the existing map of cell references.

! =================================================================
</PRE><H1><A NAME=v6>20010904 Brunel v6</A></H1><PRE>
  This version is to be used for data produced with SICBMC v247/dbase v240
  ("LHCB-classic", tracker cross-geometry)

  In options/
   Brunel.opts
     Remove tracking ErrorMax options (fixed in tracking code)
   BrunelMessage.opts
     Name of TrEventTracksFitter algorithm changed to trFit

  In cmt/requirements
  ===================
  use dbase v240 SICB
    20010821 - dbase v240
     cdf/     changes for tracking cross geometry, 
              increase thickness of OT stations to 3%,
              remove stations 4 and 11,
              add pipe7.22.cdf (new pipe from G.Corti)
     standard.stream - reads pipe7.22.cdf             
    20010625 - dbase v239r1
     beamrawh3_v2.cdf   - this file must be read in to produce RAWH3: 
                          the luminosity is fixed to 5.0x10^32
     standard.stream    - reads beamrawh3_v2.cdf

  use detdes v14 SICB
   20010821 - detdes v14 (M.Needham)
     backwards incompatible changes for new tracker cross geometry.

  use ITEvent      v6     Event
    Changes for new cross geometry
    Remove triple gem code

  use OTEvent      v6     Event 
    backwards incompatible changes for cross geometry  
    insure channels number from one everywhere
    reserve space in internal vector of OTLayer object - should save time

  use TrEvent      v6     Event
    add copy constructer to TrTrueTrack
    retune ITHitOnTrack error

  use ITAlgorithms v6     IT
    new version for cross geometry

  use OTAlgorithms v6     OT
    Changes for the cross geometry of OT
    Remove some unnecessary calls to msgstream in tools
    Changes in OTDigitize to speed things up (suggested by Markus)
    Delegate new to tool in OTHitsCreator

  use TrAlgorithms v6     Tr
    Changes for cross geometry, clean-up of code

  use L0DU v2r1 L0
  - Modify L0DUReport to be a DataObject (only one in the output)
  - Store the L0DUReport in the Transient store, this wasn't done !

! =================================================================
</PRE><H1><A NAME=v5r2>20010913 Brunel v5r2</A></H1><PRE>

   In cmt/requirements
     use rechcal v6r1
     - Modified hcl0_make to delete the existing map of cell references.

! =================================================================
</PRE><H1><A NAME=v5r1>20010824 Brunel v5r1</A></H1><PRE>

   In cmt/requirements
     use XmlDDDB v6r1
     - Fix the SPD Et slope: Was 2 GeV, should be 2 MeV !!!!

     use SicbCnv v13r1
     - Protections in book-keeping database queries

! =================================================================
</PRE><H1><A NAME=v5>20010821 Brunel v5</A></H1><PRE>

   In src/BrunelSicb/
   -----------------
   BrunelInitialisation.cpp - make sure Raw and Rec sub-event roots are created
   dropbanks.F - do not drop E1RW bank (needed to generate MCSensPlaneHit)
 
   In options/
   -----------
   BrunelMessage.opts - set global output level to WARNING or above, over-ride
                        it for ChronoStatSvc to print final statistics
                      - set output level of some tracking algorithms to ERROR,
                        to suppress excessive printing in production
   Brunel.opts - Set ErrorMax of tracking algorithms to 1000, to prevent
                 program stopping wih 'missing container' on empty events

   In cmt/requirements
   -------------------
   >>> Bug fixes and physics changes <<<

   use trivert v5r3
    vth1.F - Fix problem due to 90 degree roration on VELO. (Hans Dijkstra)

   use XmlDDDB v6
    - put correct calibration Hcal parameters (calculated by O.Iouchtchenko)
    - Change the HCAL ActiveToTotal parameter form 55 to 40
    - Fix the 'ActiveToTotal' parameter for Ecal, after calibration with 
      SICBMC v241 data plus Signal and Digit processors

   use L0Muon v3r1
    - Fixed bug in the CreateTower procedure for the cases of crossing the 
      boundary between regions; 
    - All the numbering for quarters/regions/indices starts from 0. 
  
   use CaloAlgs v3 (was v2)
    - Several bug fixes and reorganisation of histograms (see release notes)

   use SicbCnv  v13
    SicbMCEventCnv - set m_pileUp to number of PASS banks 
  
   use CaloSicbCnv  v4
    - Fix bug in SicbCaloDigitCnv, SummedDeposit were not linked to the digits
    

   >>> Remaining changes are for upgrade to Gaudi v8, LHCb v8
   >>> Should not affect physics functionality
   >>> See corresponding release notes for details

   use GaudiPolicy  v5     (was v4)
   use GaudiSys     v8     (was v7r2)
   use HbookCnv     v10r1  (was v9)
   use CERNLIB      v2001  (was v2000)
   use BrunelKernel v2     (was v1)
   use DetDesc      v7     (was v6)
   use XmlDDDB      v6     (was v5)
   use CaloDet      v2r1   (was v1)
   use LHCbEvent    v11    (was v10)
   use L0Event      v3     (was v2)
   use ITEvent      v5     (was v4)
   use OTEvent      v5     (was v4)
   use TrEvent      v5     (was v4r1)
   use CaloEvent    v6     (was v5)
   use VeloEvent    v5     (was v4)
   use L0Calo       v2     (was v1)
   use L0Muon       v3r1   (was v2)
   use L0DU         v2     (was v1)
   use CaloGen      v2     (was v1)
   use CaloAlgs     v3     (was v2)
   use TrKernel     v5     (was v4)
   use ITAlgorithms v5     (was v4)
   use OTAlgorithms v5     (was v4)
   use TrAlgorithms v5     (was v4r1)
   use SicbCnv      v13    (was v12)
   use CaloSicbCnv  v4     (was v3)
   use L0SicbCnv    v3     (was v2)
   use MuonSicbCnv  v3     (was v2)
   use TrSicbCnv    v2     (was v1)
   use VSicbCnv     v5     (was v4)
   use GDUMMY       v1r5   (was v1r4)

! =================================================================
</PRE><H1><A NAME=v4>20010629 Brunel v4</A></H1><PRE>
   Add C++ L0 trigger simulation
   Remove old L0_2x2 simulation

   In options/
   -----------
   Brunel.opts     - include Brunel.opts from L0CALO, L0MUON, L0DU
                     Add DLLs L0SicbCnv, MuonSicbCnv 
   BrunelMoni.opts - Add CALO and TRIGGER to BrunelMoni.DetectorList 
   
   In src/BrunelSicb/
   ------------------
   trigger.F - remove call to L0_2X2

   In cmt/requirements
   -------------------
   add  use of L0Calo (v1), L0Muon (v2), L0DU (v1), L0Event (v2)
               L0SicbCnv (v2), MuonSicbCnv (v2)

   use Futil v10r3
>   ubdropobj - new routine to drop the LAST object in a given partition

   use simmubg v5r2

>  murmsingle.F  - all 4 routines now add the atmc references to the last
>  murmmulti.F   - atmc partition.
>  murmscomp.F   -   
>  murmmcomp.F   -
>
>  The routine murmbg.F now uses a new Futil (v10r3) routine, mudropobj.F to
>  correctly remove background ATMC objects.
>
>  murmbg.F      - Calls ubdropobj.F to remove background ATMC references.
>
>  murmsingle.F  - Extra debug messages added to catch problems 
>  murmmulti.F   - with too many ATMC objects (>10000).
>  murmscomp.F   -   
>  murmmcomp.F   -


===============================================================================
</PRE><H1><A NAME=v3r3>20010625 Brunel v3r3</A></H1><PRE>
   Add possibility to add muon background (switched on by default)

   In src/BrunelSicb/
   ------------------
   BrunelDigiMUON.cpp - add conditional calls to MURMBG, MUBACKGROUND, steered
                        by addBkg job option (called by default)
   BrunelDigiMUON.h   - add private member m_addBkg

   In options/Brunel.opts - add BrunelDigiMUON.addBkg = true;
   ----------------------

   In cmt/requirements
   -------------------
     use dbase v239
>  standard.stream - new MUGB and MUBC muon background parametrization files
>                    (P.Colrain)

     use simmubg v5
>  package to generate muon background
===============================================================================
</PRE><H1><A NAME=v3r2>20010620 Brunel v3r2</A></H1><PRE>
   Same as v3r1, but using bug fixes from digvdet v2r3 and trivert v5r2

   In cmt/requirements
   -------------------
     use digvdet v2r3
>   vrp_get_strip_num.F, vrp_get_coord.F - fix the problem arising from the
>           rotation of the VELO by 90d in phi.(M.McCubbin)

     use trivert v5r2
>   vertex_x_y.F - fix the problem arising from the
>           rotation of the VELO by 90d in phi.(M.McCubbin)

===============================================================================
</PRE><H1><A NAME=v3r1>20010606 Brunel v3r1</A></H1><PRE>
   This version reads SICBMC data starting from SICBMC v245, dbase v238
   ** It is not backwards compatible with older RAWH formats and geometry **
   ** It is no longer possible to do Pileup in Brunel                     **

   New features relative to v3:
   - RICH extended tracking executed for all events
   - AXTK updated with PID information from extended tracking
   - New VELO geometry description
   - Drop some banks from DST (as with SICBDST)

   In options/
   ----------
   BrunelInput.opts 
     - Fix format of SpillOverSelector.Input option,
     - New option BrunelFinish.DropDSTBanks to control call to DROPBANKS

   Brunel.cards - Switch on RICH extended tracking for all events
>    DIGI 'RICH' 2
>    RECO 'RICH' 3

   BrunelMessage.opts: Use default Gaudi message format

   In src/BrunelSicb/
   -----------------
   BrunelInitialisation.cpp: 
     - initialise SICB variable NPILEUP with value from PASS bank 
       (to cope with RAWH2) - not compatible with SicbCnv PileUpAlg

   BrunelFinalisation.cpp:   Add call to DROPBANKS
   dropbanks.F:              New, to drop unwanted SICB banks from DST

   In cmt/requirements
   -------------------
     use TrEvent      v4r1
>  Fixes for new velo geometry

     use TrAlgorithms v4r1
>  Bug fix in job options

     use dbase        v238
>          new VELO geometry description
> vsrp.cdf - modified
> vpil.cdf - modified

     use detdes   v13
>  utnext.F - utnext("MATE") returns the next free material number
>             utnext("TMED") returns the next free tracking medium number
>  utmatm.F - uses utnext("TMED") to get the next free tmed #
>  utmatn.F - uses utnext("MATE") to get the next free mat 
>
>  vrpigeom.F, vrpgeom.inc, vsvnam.inc - modified for new VELO geometry
>                                        description.
>  muginit2.F - replace GAPFRAMEPAR(IMATFR,IL,I)=NINT(Q(LP+5) with
>                       GAPFRAMEPAR(IMATFR,IR,I)=NINT(Q(LP+5))
>               IL was never set.

     use Futil    v10r1
>  src/axtrigger.F - put version by H.Dijkstra (same as in SICBDST/minidst)
>     with values tuned for SICBDST v235

     use axreclib v4r2
>  src/aximperr.F - bug fix, introduced missing dummy argument in 
>                   call to rmmlt routine (necessary to run on NT, gcorti)
>  src/axpartid.F - use results from extended tracking (R.Forty)
===============================================================================
</PRE><H1><A NAME=v3>20010521 Brunel v3</A></H1><PRE>
  This is the first version to be used for an official LHCB production 

  This version has been restructured as two packages. Rec/Brunel contains the
  statically linked code needed to run SICBDST routines. C++ components of the
  reconstruction framework have been moved to the package Rec/BrunelKernel

  There are two subdirectories in /src:
    BrunelSicb   contains interface code to SICB (statically linked)
    ObsoleteSicb contains interface code to SICB that is no longer used
                 because SICB algorithms have been replaced by equivalent 
                 C++ algorithms.
  Files have been rename to avoid multiple . in filenames (to please nmake)

  Job options file structure has been modified relative to Brunel v1r6

  requirements use explicitly the SICB packages, no longer SICBDST

  #### Physics changes with respect to SICBDST v252 ####
  - Uses C++ tracking 
    Intermediate tracking banks (e.g. WIDG, WODG) are not produced

  - Uses C++ Calorimeter digitisation
  
  - Does not run old L1 track trigger (T1TRACK from trit1tr package)
    TTR1 bank is not produced.
===============================================================================
</PRE><H1><A NAME=v1r6>20001219 Brunel v1r6</A></H1><PRE>
  requirements     - use SicbCnv v10 (spillover), SICBDST v235r3
  Brunel.Phase.cpp - fix bug in a log message (reported by O.Callot)
  BrunelZebra.inc  - increase ZEBRA COMMON block size to 12M words

===============================================================================
</PRE><H1><A NAME=v1r5>20001120 Brunel v1r5</A></H1><PRE>
  Brunel.Phase.cpp - No longer instantiates algorithms, instead it instantiates sequences
                     This introduces modifications in the BrunelOptions.txt: all algorithms
                     must now be declared as members of a sequence - see user guide for details
  requirements     - Use Gaudi release 6, SICBDST v235r2
  options          - New directory, containing structure of job options files - see user guide

===============================================================================
</PRE><H1><A NAME=v1r4>20001003 Brunel v1r4</A></H1><PRE>
           to link a Brunel static application: gmake tag=LinuxStatic
           to run a job in static mode remove the following line from
           BrunelOptions.txt : ApplicationMgr.DLLs = {...}
 
  requirements      - use the highest version of LHCbCMT (v3r3 to define
                      package_tag pattern)
                    - use SICBDST v235 before any Gaudi packages to make sure
                      that Futio and Finclude version numbers are those set
                      by SICBDST.
                    - use SicbCnv v8r1 (to remove a fake main program)

===============================================================================
</PRE><H1><A NAME=v1r3>20000804 Brunel v1r3</A></H1><PRE>
  requirements      - use SICBDST v235
  jobOptions        - cleaned up

===============================================================================
</PRE><H1><A NAME=v1r2>20000726 Brunel v1r2</A></H1><PRE>
  requirements      - use SICBDST v234r2 and GaudiSys v5
  BrunelZebra.inc   - increase ZEBRA size to 9000000 (as for SICBDST)
  *.cpp             - Changes for GaudiSys v5 (compulsory implementation of
                      initialize(), finalize())
  BrunelPhase.h,.cpp- Remove private member m_AlgList, now exists in 
                      Algorithm base class

===============================================================================
</PRE><H1><A NAME=v1r1>20000626 Brunel v1r1</A></H1><PRE>
  requirements      - use SicbCnv v7r3, link directly to $(SICBDSTROOT)/src/sicbvers.F
  BrunelZebra.inc   - new, to over-ride size of ZEBRA COMMON (set to 8 000 000)
  GetZebraSize.F    - new, over-rides routine of same name in SicbCnv 
  Brunel.Trigger.TRIGGER.cpp - call TRLAST in finalise()

===============================================================================
</PRE><H1><A NAME=v1>20000529 Brunel v1</A></H1><PRE>
  requirements      - use GaudiConf v1 and SICBDST v233r2 (Flr)
  job/              - new directory which contains :      (Flr)
  Brunel.job        - script to run Brunel, uses Brunel.cards and 
                      BrunelOptions.txt
  Brunel_lsf.job    - contains options for Gaudi and SICBDST,
                      does not use Brunel.cards and BrunelOptions.txt
  Brunel.cards      - SICBDST data cards file
  BrunelOptions.txt - Gaudi jobOptions file
  Brunel/             remove options.txt files (Flr)
  udinit.F          - stop the job if SICBDST cards file is not found. (Flr)
  Brunel.Init.F     - add printout of event number if DEBU card (Flr)
    
! 20000519 Brunel v1
  First version of LHCb reconstruction program.

  This version has the same functionality as SICBDST v233, containing only 
  wrapped FORTRAN code
</PRE>
