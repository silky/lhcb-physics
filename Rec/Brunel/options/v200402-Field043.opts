///////////////////////////////////////////////////////////////////////////////
///   Job options for Brunel for data produced with Boole v5r6 or greater   ///
/// and with XmlDDDB v22r0 or greater, geometry compatible with lhcb-200402 ///
///                  and with magnetic field Field043                       ///
///////////////////////////////////////////////////////////////////////////////
#pragma print off
#include "$BRUNELOPTS/Brunel.opts"           // Generic options for all jobs
#include "$BRUNELOPTS/BrunelMoniProd.opts"   // Comment to switch on all histos
ApplicationMgr.OutStream += { "DstWriter" }; // Comment to switch off DST output

//---------------------------------------------------------------------------
// Database specific options
//---------------------------------------------------------------------------
DetectorDataSvc.DetDbLocation = "$XMLDDDBROOT/DDDB/lhcb-200402.xml";
#include "$STDAQROOT/options/stDAQ-v1.opts"
#pragma print on

// Old (Field043) tuning for tracking algorithms
#include "$LONGTRACKROOT/options/BrunelField043.opts"
#include "$TRKSHORTROOT/options/BrunelField043.opts"
#include "$VELOTTROOT/options/BrunelField043.opts"
MagneticFieldSvc.FieldMapFile = "$FIELDMAPROOT/cdf/field043.cdf";

//---------------------------------------------------------------------------
// Add here any job specific options, to over-ride previously defined options
//---------------------------------------------------------------------------

//---------------------------------------------------------------------------
// Number of events to process, optionally skipping some events
//---------------------------------------------------------------------------
ApplicationMgr.EvtMax = 100;
//EventSelector.FirstEvent = 7;  // To skip some events 

//---------------------------------------------------------------------------
// Input and output files.
// For event data, choose either POOL or GaudiDb following these rules:
// - If the input files is POOL:
//   . The output file must be POOL
//   . The POOL input file should be described in PoolDbCacheSvc.Catalog
//     (If not, it will not be possible to follow links to it from the DST)
// - If the input files is GaudiDb, output file can be GaudiDb or POOL
//---------------------------------------------------------------------------

HistogramPersistencySvc.OutputFile = "Field043.root";  // Monitoring histos

// POOL file catalogs. First one is read-write, others are read only
PoolDbCacheSvc.Catalog = {
  "xmlcatalog_file:NewCatalog.xml",
  "xmlcatalog_http://cattanem.home.cern.ch/cattanem/POOL/MyCatalog.xml"
};

//---------------------------------------------------------------------------
// Event input
//---------------------------------------------------------------------------

// Format for GaudiRootDb input (no Boole v5r6 files available for Field043)
//EventSelector.Input = { "DATAFILE='Field043.oodigi' TYP='ROOT' OPT='READ'" };

// Format for POOL input (no Boole v5r6 files available for Field043)
//EventSelector.Input = { "DATAFILE='PFN:Field043.digi' TYP='POOL_ROOT' OPT='READ'" };

//---------------------------------------------------------------------------
// Event output
//---------------------------------------------------------------------------

// POOL
DstWriter.Output = "DATAFILE='PFN:Field043.dst' TYP='POOL_ROOTTREE' OPT='REC'";

// GaudiDb
//DstWriter.Output = "DATAFILE='Field043.oodst' TYP='ROOT' OPT='NEW'";

//////////////////////////////////////////////////////////////////////////////
