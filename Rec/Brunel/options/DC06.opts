///////////////////////////////////////////////////////////////////////////////
///   Job options for Brunel for data produced with Boole v11r0 or greater  ///
///   geometry lhcb-200601 (DC06). Produces rDST, use v200601.opts for DST  ///
///////////////////////////////////////////////////////////////////////////////
#pragma print off
#include "$BRUNELOPTS/rDstContent.opts"      // Define rDST content
#include "$BRUNELOPTS/Brunel.opts"           // Generic options for all jobs
ApplicationMgr.OutStream += { "DstWriter" }; // Comment to switch off rDST output

//---------------------------------------------------------------------------
// Special options for July 2006 rDST production:
// . Do not save Velo tracks used by PV
//---------------------------------------------------------------------------
RecoTrSeq.Members -= { "TrackContainerCopy/CopyVelo" };
PatPVOffline.InputTracks = { "Rec/Track/Best", "Rec/Track/PreparedVelo" };

//---------------------------------------------------------------------------
// Set up DC06 geometry, conditions, magnetic field
//---------------------------------------------------------------------------
#pragma print on
#include "$STDOPTS/DC06Conditions.opts"

//---------------------------------------------------------------------------
// Add here any job specific options, to over-ride previously defined options
//---------------------------------------------------------------------------

//---------------------------------------------------------------------------
// Number of events to process, optionally skipping some events
//---------------------------------------------------------------------------
ApplicationMgr.EvtMax = -1;
//EventSelector.FirstEvent = 7;  // To skip some events 
//---------------------------------------------------------------------------
// Histogram output
//---------------------------------------------------------------------------
HistogramPersistencySvc.OutputFile = "0601-11144100-rdst.root";  // Monitoring histos

//---------------------------------------------------------------------------
// POOL file catalogs. First one is read-write, others are read only
//---------------------------------------------------------------------------
PoolDbCacheSvc.Catalog = {
  "xmlcatalog_file:$BRUNELROOT/job/NewCatalog.xml"
  // ,"xmlcatalog_http://cattanem.home.cern.ch/cattanem/POOL/MyCatalog.xml"
};

//---------------------------------------------------------------------------
// Event input
//---------------------------------------------------------------------------
EventSelector.Input = {
  "DATAFILE='PFN:rfio:/castor/cern.ch/grid/lhcb/production/DC06/v1-lumi2/00001359/DIGI/0001/00001359_00000005_4.digi' TYP='POOL_ROOT' OPT='READ'"
}; // B->J/Psi(mumu)Ks events with Boole v12r4, Gauss v25r2, XmlDDDB v30r8

// Datafile below was default input file for Brunel v30r1 to v30r9
//  "DATAFILE='PFN:rfio:/castor/cern.ch/user/c/cattanem/Boole/v12r1/0601-11144100.digi' TYP='POOL_ROOT' OPT='READ'"

//---------------------------------------------------------------------------
// Event output
//---------------------------------------------------------------------------
DstWriter.Output = "DATAFILE='PFN:0601-11144100.rdst' TYP='POOL_ROOTTREE' OPT='REC'";
//////////////////////////////////////////////////////////////////////////////
